/*! For license information please see affirm-6a92688ea5031edb46d4.js.LICENSE.txt */
!function(){var e,t,n,r,o={7129:function(e){"use strict";e.exports={"prod-live":{affirmjs_rollbar:"a118d4416b08480984711912aca9ac51",tracking_blacklist:["E0QK6BONBI305A0Y"]},"prod-sandbox":{affirmjs_rollbar:"06cfd813ab71408688b8d00cd65f27fd",tracking_blacklist:["LYP9HGOWPDSSQ9D7"]},"stage-live":{affirmjs_rollbar:"e9680723b07241c1be9ef6cdf8164bf6",tracking_blacklist:["E0QK6BONBI305A0Y"]},"stage-sandbox":{affirmjs_rollbar:"e9680723b07241c1be9ef6cdf8164bf6",tracking_blacklist:["LYP9HGOWPDSSQ9D7"]},"ca-prod-live":{affirmjs_rollbar:"441968f67caf41928faca1145257dd20",tracking_blacklist:[]},"ca-prod-sandbox":{affirmjs_rollbar:"065521df070f4369b56308906bed8537",tracking_blacklist:[]},"ca-stage-live":{affirmjs_rollbar:"2904ebc847cc4b10bd7ee91e95436d30",tracking_blacklist:[]},"ca-stage-sandbox":{affirmjs_rollbar:"2904ebc847cc4b10bd7ee91e95436d30",tracking_blacklist:[]},"au-prod-live":{affirmjs_rollbar:"2d5d9272788c410bb1fa8b2f83cf8115",tracking_blacklist:[]},"au-prod-sandbox":{affirmjs_rollbar:"2d5d9272788c410bb1fa8b2f83cf8115",tracking_blacklist:[]},"au-stage-live":{affirmjs_rollbar:"71e9ee5df419465e83dab5c4369ef834",tracking_blacklist:[]},"au-stage-sandbox":{affirmjs_rollbar:"71e9ee5df419465e83dab5c4369ef834",tracking_blacklist:[]},"gb-prod-live":{affirmjs_rollbar:"ad431eb20a254027ba1367b38bad8601",tracking_blacklist:[]},"gb-prod-sandbox":{affirmjs_rollbar:"ad431eb20a254027ba1367b38bad8601",tracking_blacklist:[]},"gb-stage-live":{affirmjs_rollbar:"b58fc4af16034e4381a57d7dc2d2db5c",tracking_blacklist:[]},"gb-stage-sandbox":{affirmjs_rollbar:"b58fc4af16034e4381a57d7dc2d2db5c",tracking_blacklist:[]},dev:{affirmjs_rollbar:"bccb9ed55103486eb0718381209ec277",tracking_blacklist:["VXKJEEMMPWFKF9QX"]},thor:{affirmjs_rollbar:"bccb9ed55103486eb0718381209ec277",tracking_blacklist:["VXKJEEMMPWFKF9QX"]}}},8022:function(e){"use strict";var t={countryCode:"CAN",prefix:"ca",alpha2:"CA",defaultLocale:"en_CA"},n={countryCode:"AUS",prefix:"au",alpha2:"AU",defaultLocale:"en_AU"},r={countryCode:"USA",prefix:"",alpha2:"US",defaultLocale:"en_US"},o={countryCode:"GBR",prefix:"gb",alpha2:"GB",defaultLocale:"en_GB"},i={CAN:t,AUS:n,USA:r,GBR:o,CA:t,AU:n,US:r,GB:o};e.exports=i},4349:function(e){"use strict";e.exports={"prod-live":{api_url:"https://api-cf.affirm.com/api/v2/",api_version:"v2",frontend_url:"https://www.affirm.com",payments_url_base:"https://calculator.affirm.com",promos_url_path:"public/promos/",minified_url:"https://cdn1.affirm.com/js/v2/affirm.js",affirm_tracking_endpoint:"tracker.affirm.com",api_root:"https://www.affirm.com",cdn_assets_root:"https://cdn-assets.affirm.com",cdn_root:"https://cdn1.affirm.com",elastic_cloud_apm_endpoint:"https://8f72b01b2e7a49d68c403ae5e6b1a428.apm.us-east-1.aws.cloud.es.io"},"prod-sandbox":{api_url:"https://sandbox.affirm.com/api/v2/",api_version:"v2",frontend_url:"https://sandbox.affirm.com",payments_url_base:"https://sandbox.affirm.com",promos_url_path:"public/promos/",minified_url:"https://sandbox.affirm.com/js/v2/affirm.js",affirm_tracking_endpoint:"tracker.affirm.com",api_root:"https://sandbox.affirm.com",cdn_assets_root:"https://cdn-assets.affirm.com",cdn_root:"https://cdn1-sandbox.affirm.com",elastic_cloud_apm_endpoint:"https://8f72b01b2e7a49d68c403ae5e6b1a428.apm.us-east-1.aws.cloud.es.io"},"stage-live":{api_url:"https://api-cf.affirm-stage.com/api/v2/",api_version:"v2",frontend_url:"https://www.affirm-stage.com",payments_url_base:"https://www.affirm-stage.com",promos_url_path:"public/promos/",minified_url:"https://api-cf.affirm-stage.com/js/v2/affirm.js",affirm_tracking_endpoint:"tracker.affirm-stage.com",api_root:"https://www.affirm-stage.com",cdn_assets_root:"https://cdn-assets.affirm-stage.com",cdn_root:"https://cdn1.affirm-stage.com",elastic_cloud_apm_endpoint:"https://a3e3f4da75824a2e834ca3560dafee28.apm.us-east-1.aws.cloud.es.io"},"stage-sandbox":{api_url:"https://sandbox.affirm-stage.com/api/v2/",api_version:"v2",frontend_url:"https://sandbox.affirm-stage.com",payments_url_base:"https://sandbox.affirm-stage.com",promos_url_path:"public/promos/",minified_url:"https://sandbox.affirm-stage.com/js/v2/affirm.js",affirm_tracking_endpoint:"tracker.affirm-stage.com",api_root:"https://sandbox.affirm-stage.com",cdn_assets_root:"https://cdn-assets.affirm-stage.com",cdn_root:"https://cdn1-sandbox.affirm-stage.com",elastic_cloud_apm_endpoint:"https://a3e3f4da75824a2e834ca3560dafee28.apm.us-east-1.aws.cloud.es.io"},"ca-prod-live":{api_url:"https://api-cf.affirm.ca/api/v2/",api_version:"v2",frontend_url:"https://www.affirm.ca",payments_url_base:"https://calculator.affirm.ca",promos_url_path:"public/promos/",minified_url:"https://cdn1.affirm.ca/js/v2/affirm.js",affirm_tracking_endpoint:"tracker.affirm.ca",api_root:"https://www.affirm.ca",cdn_assets_root:"https://cdn-assets.affirm.com",cdn_root:"https://cdn1.affirm.ca",elastic_cloud_apm_endpoint:"https://cd629e1ba6384d6cbedf89ece6ba1533.apm.us-east-1.aws.cloud.es.io"},"ca-prod-sandbox":{api_url:"https://sandbox.affirm.ca/api/v2/",api_version:"v2",frontend_url:"https://sandbox.affirm.ca",payments_url_base:"https://sandbox.affirm.ca",promos_url_path:"public/promos/",minified_url:"https://sandbox.affirm.ca/js/v2/affirm.js",affirm_tracking_endpoint:"tracker.affirm.ca",api_root:"https://sandbox.affirm.ca",cdn_assets_root:"https://cdn-assets.affirm.com",cdn_root:"https://cdn1-sandbox.affirm.ca",elastic_cloud_apm_endpoint:"https://cd629e1ba6384d6cbedf89ece6ba1533.apm.us-east-1.aws.cloud.es.io"},"ca-stage-live":{api_url:"https://api-cf.affirm-stage.ca/api/v2/",api_version:"v2",frontend_url:"https://www.affirm-stage.ca",payments_url_base:"https://www.affirm-stage.ca",promos_url_path:"public/promos/",minified_url:"https://api-cf.affirm-stage.ca/js/v2/affirm.js",affirm_tracking_endpoint:"tracker.affirm-stage.ca",api_root:"https://www.affirm-stage.ca",cdn_assets_root:"https://cdn-assets.affirm-stage.com",cdn_root:"https://cdn1.affirm-stage.ca",elastic_cloud_apm_endpoint:"https://af6b25065b664ef8a4062eb75d1f4498.apm.us-east-1.aws.cloud.es.io"},"ca-stage-sandbox":{api_url:"https://sandbox.affirm-stage.ca/api/v2/",api_version:"v2",frontend_url:"https://sandbox.affirm-stage.ca",payments_url_base:"https://sandbox.affirm-stage.ca",promos_url_path:"public/promos/",minified_url:"https://sandbox.affirm-stage.ca/js/v2/affirm.js",affirm_tracking_endpoint:"tracker.affirm-stage.ca",api_root:"https://sandbox.affirm-stage.ca",cdn_assets_root:"https://cdn-assets.affirm-stage.com",cdn_root:"https://cdn1-sandbox.affirm-stage.ca",elastic_cloud_apm_endpoint:"https://af6b25065b664ef8a4062eb75d1f4498.apm.us-east-1.aws.cloud.es.io"},"au-prod-live":{api_url:"https://api-cf.au.affirm.com/api/v2/",api_version:"v2",frontend_url:"https://au.affirm.com",payments_url_base:"https://calculator.au.affirm.com",promos_url_path:"public/promos/",minified_url:"https://cdn1c.affirm.com/js/v2/affirm.js",affirm_tracking_endpoint:"tracker.au.affirm.com",api_root:"https://au.affirm.com",cdn_assets_root:"https://cdn-assets.affirm.com",cdn_root:"https://cdn1.au.affirm.com",elastic_cloud_apm_endpoint:"https://prod-au-main.apm.ap-southeast-2.aws.found.io"},"au-prod-sandbox":{api_url:"https://sandbox.au.affirm.com/api/v2/",api_version:"v2",frontend_url:"https://sandbox.au.affirm.com",payments_url_base:"https://sandbox.au.affirm.com",promos_url_path:"public/promos/",minified_url:"https://sandbox.au.affirm.com/js/v2/affirm.js",affirm_tracking_endpoint:"tracker.au.affirm.com",api_root:"https://sandbox.au.affirm.com",cdn_assets_root:"https://cdn-assets.affirm.com",cdn_root:"https://cdn1-sandbox.au.affirm.com",elastic_cloud_apm_endpoint:"https://prod-au-main.apm.ap-southeast-2.aws.found.io"},"au-stage-live":{api_url:"https://api-cf.affirm-stage.com.au/api/v2/",api_version:"v2",frontend_url:"https://www.affirm-stage.com.au",payments_url_base:"https://www.affirm-stage.com.au",promos_url_path:"public/promos/",minified_url:"https://api-cf.affirm-stage.com.au/js/v2/affirm.js",affirm_tracking_endpoint:"tracker.affirm-stage.com.au",api_root:"https://www.affirm-stage.com.au",cdn_assets_root:"https://cdn-assets.affirm-stage.com",cdn_root:"https://cdn1.affirm-stage.com.au",elastic_cloud_apm_endpoint:"https://stage-au-main.apm.ap-southeast-2.aws.found.io"},"au-stage-sandbox":{api_url:"https://sandbox.affirm-stage.com.au/api/v2/",api_version:"v2",frontend_url:"https://sandbox.affirm-stage.com.au",payments_url_base:"https://sandbox.affirm-stage.com.au",promos_url_path:"public/promos/",minified_url:"https://sandbox.affirm-stage.com.au/js/v2/affirm.js",affirm_tracking_endpoint:"tracker.affirm-stage.com.au",api_root:"https://sandbox.affirm-stage.com.au",cdn_assets_root:"https://cdn-assets.affirm-stage.com",cdn_root:"https://cdn1-sandbox.affirm-stage.com.au",elastic_cloud_apm_endpoint:"https://stage-au-main.apm.ap-southeast-2.aws.found.io"},"gb-stage-sandbox":{api_url:"https://sandbox.uk.affirm-stage.com/api/v2/",api_version:"v2",frontend_url:"https://sandbox.uk.affirm-stage.com",payments_url_base:"https://sandbox.uk.affirm-stage.com",promos_url_path:"public/promos/",minified_url:"https://sandbox.affirm-stage.com/js/v2/affirm.js",affirm_tracking_endpoint:"tracker.uk.affirm-stage.com",api_root:"https://sandbox.uk.affirm-stage.com",cdn_assets_root:"https://cdn-assets.affirm-stage.com",cdn_root:"https://cdn1-sandbox.affirm-stage.com",elastic_cloud_apm_endpoint:""},"gb-stage-live":{api_url:"https://uk.affirm-stage.com/api/v2/",api_version:"v2",frontend_url:"https://uk.affirm-stage.com",payments_url_base:"https://uk.affirm-stage.com",promos_url_path:"public/promos/",minified_url:"https://api-cf.affirm-stage.com/js/v2/affirm.js",affirm_tracking_endpoint:"tracker.uk.affirm-stage.com",api_root:"https://uk.affirm-stage.com",cdn_assets_root:"https://cdn-assets.affirm-stage.com",cdn_root:"https://cdn1.affirm-stage.com",elastic_cloud_apm_endpoint:""},"gb-prod-sandbox":{api_url:"https://sandbox.uk.affirm.com/api/v2/",api_version:"v2",frontend_url:"https://sandbox.uk.affirm.com",payments_url_base:"https://sandbox.uk.affirm.com",promos_url_path:"public/promos/",minified_url:"https://sandbox.affirm.com/js/v2/affirm.js",affirm_tracking_endpoint:"tracker.uk.affirm.com",api_root:"https://sandbox.uk.affirm.com",cdn_assets_root:"https://cdn-assets.affirm.com",cdn_root:"https://cdn1-sandbox.affirm.com",elastic_cloud_apm_endpoint:""},"gb-prod-live":{api_url:"https://uk.affirm.com/api/v2/",api_version:"v2",frontend_url:"https://uk.affirm.com",payments_url_base:"https://uk.affirm.com",promos_url_path:"public/promos/",minified_url:"https://cdn1.affirm.com/js/v2/affirm.js",affirm_tracking_endpoint:"tracker.uk.affirm.com",api_root:"https://uk.affirm.com",cdn_assets_root:"https://cdn-assets.affirm.com",cdn_root:"https://cdn1.affirm.com",elastic_cloud_apm_endpoint:""},dev:{api_url:"https://{{odin_name}}.affirm-odin.com/api/v2/",api_version:"v2",frontend_url:"https://{{odin_name}}.affirm-odin.com",payments_url_base:"https://{{odin_name}}.affirm-odin.com",promos_url_path:"public/promos/",minified_url:"https://{{odin_name}}.affirm-odin.com/js/v2/affirm.js",affirm_tracking_endpoint:null,cdn_assets_root:"https://cdn-assets.affirm-stage.com",cdn_root:"https://s3.amazonaws.com/affirm-odin",elastic_cloud_apm_endpoint:"https://2b74db5396f7479db64f7387f48785d6.apm.us-east-1.aws.cloud.es.io"},thor:{api_url:"{{cdn_root}}/api/v2/",api_version:"v2",frontend_url:"{{cdn_root}}",payments_url_base:"{{cdn_root}}",promos_url_path:"public/promos/",minified_url:"{{cdn_root}}/js/v2/affirm.js",affirm_tracking_endpoint:null,cdn_assets_root:"https://cdn-assets.affirm-stage.com",cdn_root:"{{cdn_root}}",elastic_cloud_apm_endpoint:"https://2b74db5396f7479db64f7387f48785d6.apm.us-east-1.aws.cloud.es.io"},test:{api_url:"http://localhost:3000/api/v2/",api_version:"v2",frontend_url:"http://localhost:3000/",payments_url_base:"http://localhost:3000/",promos_url_path:"public/promos/",assets_root:"http://localhost:3000",promos_url_prefix:"https://localhost:3000/platform/public/promos/",affirm_tracking_endpoint:"",cdn_root:"http://localhost:3000",platform_cdn_url:"http://localhost:3000/platform"}}},9686:function(e,t,n){"use strict";n.r(t),n.d(t,{AxpClient:function(){return q},SHOWN_DEFAULT:function(){return le},SHOWN_TREATMENT:function(){return fe},assignmentFetchStatus:function(){return w},axpAssignmentsReducer:function(){return ue},axpAssignmentsReducerWrappedWith:function(){return ce},axpClientMiddleware:function(){return ee},buildAxpClearCustomAttributeAction:function(){return oe},buildAxpGetAssignmentsAction:function(){return te},buildAxpSetCustomAttributeAction:function(){return re},buildAxpTrackImpressionAction:function(){return ne},impressionTypes:function(){return i}});var r=n(3042),o=n.n(r),i=Object.freeze({SHOWN_DEFAULT:"shown_default",SHOWN_TREATMENT:"shown_treatment"}),a=function(e,t,n,r){var i={assignment:e,impressionType:t,impressionAt:n,impressionData:r||{}};return o()(i)},s=n(6808),u=n.n(s),c=n(3264);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f="Affirm-Authorization",d=function(){function e(t,n,r){if(void 0===r&&(r={}),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t||"string"!=typeof t)throw new Error("HeaderConfig: appName must be provided to constructor as string");if(!n||"string"!=typeof n)throw new Error("HeaderConfig: appVersion must be provided to constructor as string");if(r&&"object"!=typeof r)throw new Error("HeaderConfig: appHeaders must be an object");this.universalHeaders={Accept:"text/html, application/json","Affirm-User-Agent":"Affirm-Web","Affirm-Platform":t,"Affirm-App-Version":n},this.appHeaders=r,this.defaultHeaders={"Content-Type":"application/json"}}var t,n,r;return t=e,(n=[{key:"updateWithResponseHeaders",value:function(e){void 0===e&&(e=new Map),e.get(f)&&(this.universalHeaders[f]=e.get(f))}},{key:"getCombinedHeaders",value:function(e){return void 0===e&&(e={}),Object.assign({},this.defaultHeaders,e,this.appHeaders,this.universalHeaders)}}])&&l(t.prototype,n),r&&l(t,r),e}(),p=function(e,t,n,r,o){void 0===t&&(t={}),void 0===n&&(n="GET"),void 0===r&&(r={}),void 0===o&&(o="include");var i={credentials:o,headers:r,method:n},a=r["Content-Type"];return"POST"!==n&&"PUT"!==n&&"PATCH"!==n||(t instanceof FormData?(i.body=t,delete i.headers["Content-Type"]):i.body=JSON.stringify(t)),fetch(e,i).then((function(e){return e.status>=500||404===e.status?{responseData:{message:404===e.status?"Not Found":"Unexpected Error"},responseHeaders:e.headers,responseStatus:e.status}:"application/json"===a?e.json().then((function(t){return{responseData:t,responseHeaders:e.headers,responseStatus:e.status}})):e.text().then((function(t){return{responseData:t,responseHeaders:e.headers,responseStatus:e.status}}))}))},h=Object.freeze({APP_NAME:"Affirm-Platform",APP_VERSION:"Affirm-App-Version",APP_USER_AGENT:"Affirm-User-Agent",APP_CAPABILITIES:"Affirm-Client-Capabilities"});function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(){function e(t,n,r,o){if(void 0===o&&(o={}),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),g(this,"urlBase",null),g(this,"headerConfig",null),null==t||!n||!r)throw Error("AXP client: invalid configuration");this.urlBase=t,this.headerConfig=new d(n,r,o)}var t,n,r;return t=e,(n=[{key:"getHeaders",value:function(){return this.headerConfig.getCombinedHeaders()}},{key:"getAssignments",value:function(e,t,n,r,i){var a,s,u=this.getHeaders(),c={experiment_names:e,feature_flag_names:t,custom_attributes:n,related_units:r},l=p(this.urlBase+"/api/axp/v1/assignments/fetch",c,"POST",u);return(a=i,s=l,new Promise((function(e,t){setTimeout((function(){t(new Error("Axp Client fetch timeout"))}),a),s.then(e,t)}))).then((function(i){if(200!==i.responseStatus)throw new Error(i.responseData.message);var a=i.responseData.assignments||{},s=i.responseData.feature_flag_assignments||{},u=(new Date).toISOString(),c={},l={};return e.forEach((function(e){c[e]=function(e,t,n,r,i){if(void 0===r&&(r={}),void 0===i&&(i={}),t&&t.experiment_name!==e)throw Error("assignment experiment name mismatch");var a={experimentName:e,hasVariant:!!t&&!!Object.keys(t).length,experimentUuid:t&&t.experiment_uuid,assignmentUuid:t&&t.assignment_uuid,unitType:t&&t.unit_type,unitValue:t&&t.unit_value,variantName:t&&t.variant_name,internalReason:t&&t.internal_reason,assignmentAt:n,customAttributesData:r,relatedUnits:i};return o()(a)}(e,a[e]||void 0,u,n,r)})),t.forEach((function(e){l[e]=function(e,t,n,r,i){void 0===r&&(r={}),void 0===i&&(i={});var a={featureFlagName:e,variantName:t,assignmentAt:n,customAttributesData:r,relatedUnits:i};return o()(a)}(e,s[e]||void 0,u,n,r)})),o()({experimentAssignments:c,featureFlagAssignments:l})}))}},{key:"fireImpressions",value:function(e){var t=this.getHeaders(),n=[];e.forEach((function(e){if(e.getIn(["assignment","hasVariant"])){var t={assignment:{experiment_name:e.getIn(["assignment","experimentName"]),experiment_uuid:e.getIn(["assignment","experimentUuid"]),assignment_uuid:e.getIn(["assignment","assignmentUuid"]),unit_type:e.getIn(["assignment","unitType"]),unit_value:e.getIn(["assignment","unitValue"]),variant_name:e.getIn(["assignment","variantName"]),internal_reason:e.getIn(["assignment","internalReason"])},impression_type:e.impressionType,impression_at:e.impressionAt,data:Object.assign({},{assignment_data:{assignment_at:e.getIn(["assignment","assignmentAt"]),custom_attributes:e.getIn(["assignment","customAttributesData"]),related_units:e.getIn(["assignment","relatedUnits"])}},e.impressionData)};n.push(t)}}));var r,o={impressions:n};return n.length?p((r=this.urlBase,r+"/api/axp/v1/assignments/impressions"),o,"POST",t).then((function(e){if(200!==e.responseStatus)throw new Error(e.responseData.message);return!!e.responseData.results})):Promise.resolve(!1)}}])&&m(t.prototype,n),r&&m(t,r),e}();function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=Object.freeze({appName:{required:!0,objectType:"String"},appVersion:{required:!0,objectType:"String"},capabilities:{required:!1,objectType:"Array",defaultTo:[]},forceMemoryStorage:{required:!1,objectType:"Boolean",defaultTo:!1},cacheTtlMs:{required:!1,objectType:"Number",defaultTo:3e5},impressionFlushIntervalMs:{required:!1,objectType:"Number",defaultTo:1e3},assignmentFetchTimeoutMs:{required:!1,objectType:"Number",defaultTo:3e3},networkRetryThreshold:{required:!1,objectType:"Number",defaultTo:5}}),_=function(){function e(t){var n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i=null,(r="config")in(n=this)?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i;var a={};if(Object.keys(t).filter((function(e){return!Object.prototype.hasOwnProperty.call(A,e)})).length>0)throw Error("Unsupported Axp ClientConfig");Object.keys(A).forEach((function(e){var n=A[e];if(n.required&&!t[e])throw Error("Missing client config");var r=t[e]||n.defaultTo;if(Object.prototype.toString.call(r)!=="[object "+n.objectType+"]")throw Error("Unexpected client config type");a[e]=r})),this.config=o()(a)}var t,n,r;return t=e,(n=[{key:"getAdditionalAppHeaders",value:function(){var e;return this.config.capabilities.length>0?((e={})[h.APP_CAPABILITIES]=this.config.capabilities,e):{}}}])&&v(t.prototype,n),r&&v(t,r),e}(),b=Object.freeze({CLIENT_PLATFORM:"client_platform",CLIENT_VERSION_STR:"client_version_str",CLIENT_USER_AGENT:"client_user_agent",CLIENT_ALL_CAPABILITIES:"client_all_capabilities"}),w=Object.freeze({PENDING:"pending",SUCCESS:"success",FAILED:"failed"});function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(t){var n,r,i;if(void 0===t&&(t={}),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i=null,(r="attributes")in(n=this)?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,"object"!=typeof t)throw Error("Invalid custom attributes");this.attributes=o()(t)}var t,n,r;return t=e,r=[{key:"constructClientAttributesFromHeaders",value:function(e){var t,n=((t={})[b.CLIENT_PLATFORM]=e[h.APP_NAME],t[b.CLIENT_VERSION_STR]=e[h.APP_VERSION],t[b.CLIENT_USER_AGENT]=e[h.APP_USER_AGENT],t[b.CLIENT_ALL_CAPABILITIES]=e[h.APP_CAPABILITIES],t);return o()(n)}}],(n=[{key:"setAttribute",value:function(e,t){this.attributes=this.attributes.set(e,o()(t))}},{key:"getAttributes",value:function(){return this.attributes}},{key:"getAttributesJS",value:function(){return this.getAttributes()}},{key:"clearAttribute",value:function(e){this.attributes=o().without(this.attributes,e)}}])&&E(t.prototype,n),r&&E(t,r),e}();function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=function(){function e(t){M(this,e),j(this,"storageKey",null),this.storageKey=t}return R(e,[{key:"putItem",value:function(e,t){var n=this.getAllContent().set(e,t);this.write(JSON.stringify(n))}},{key:"getItem",value:function(e){return this.getAllContent()[e]}},{key:"deleteItem",value:function(e){var t=o().without(this.getAllContent(),e);this.write(JSON.stringify(t))}},{key:"getAllContent",value:function(){return o()(JSON.parse(this.read())||{})}},{key:"clearStorage",value:function(){this.clear()}}],[{key:"featureSupported",value:function(){var e=new this("affirmsniffer");try{return e.write("{}"),e.read(),e.clear(),!0}catch(e){return!1}}}]),e}(),L=function(e){O(n,e);var t=P(n);function n(){var e;M(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return j(I(e=t.call.apply(t,[this].concat(o))),"memory",{}),e}return R(n,[{key:"read",value:function(){return this.memory[this.storageKey]||null}},{key:"write",value:function(e){this.memory[this.storageKey]=e}},{key:"clear",value:function(){delete this.memory[this.storageKey]}}]),n}(D),N=function(e){O(n,e);var t=P(n);function n(){return M(this,n),t.apply(this,arguments)}return R(n,[{key:"read",value:function(){return localStorage.getItem(this.storageKey)}},{key:"write",value:function(e){localStorage.setItem(this.storageKey,e)}},{key:"clear",value:function(){localStorage.removeItem(this.storageKey)}}]),n}(D),U=function(e){var t={};return Object.keys(e).forEach((function(n){void 0!==e[n]&&(t[n]=e[n])})),t},F=function(e,t){return function(e,t){var n=Object.keys(e).sort(),r=Object.keys(t).sort();return n.length===r.length&&n.every((function(n,o){var i=r[o];return n===i&&e[n]===t[i]}))}(U(e),U(t))};function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W="axp-client-experiments-store",V="axp-client-feature-flags-store",Q={experiment:"_axp_mock_exp",featureFlag:"_axp_mock_ff"},G=function(){function e(t,n,r){if(void 0===r&&(r={}),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),H(this,"urlBase",null),H(this,"apiInstance",null),H(this,"clientConfigInstance",null),H(this,"customAttributesInstance",null),H(this,"experimentsStorageInstance",null),H(this,"featureFlagsStorageInstance",null),H(this,"impressionsQueue",[]),H(this,"impressionsRetryCount",0),H(this,"impressionsFlushTimer",null),null!==e.instance)return e.instance;this.urlBase=t,c.default.initialize({apiUrl:t}),this.clientConfigInstance=new _(n);var o=this.clientConfigInstance.config,i=o.appName,a=o.appVersion;this.apiInstance=new y(this.urlBase,i,a,this.clientConfigInstance.getAdditionalAppHeaders());var s=this.apiInstance.getHeaders(),u=k.constructClientAttributesFromHeaders(s);this.customAttributesInstance=new k(Object.assign({},r,u)),!this.clientConfigInstance.config.forceMemoryStorage&&this.clientConfigInstance.config.cacheTtlMs&&N.featureSupported()?(this.experimentsStorageInstance=new N(W),this.featureFlagsStorageInstance=new N(V)):(this.experimentsStorageInstance=new L(W),this.featureFlagsStorageInstance=new L(V)),e.instance=this,this.flushImpressionsAndSetTimer=this.flushImpressionsAndSetTimer.bind(this),this.flushImpressionsAndSetTimer()}var t,n,r;return t=e,r=[{key:"initialize",value:function(t,n,r){if(void 0===r&&(r={}),null!==e.instance)throw Error("Axp Client has already been initialized");return new e(t,n,r)}},{key:"getExperimentVariants",value:function(e){return this.getAxpVariants({experimentNames:e,featureFlagNames:[]}).then((function(e){return e.experimentVariants}))}},{key:"getAxpVariants",value:function(t){var n=t.experimentNames,r=t.featureFlagNames,o=t.prepopulatedRelatedUnits,i=void 0===o?null:o;if(e.raiseIfNotInstantiated(),!(n&&n.length||r&&r.length))return Promise.resolve({experimentVariants:{},featureFlagVariants:{}});if(e.isMockMode())return Promise.resolve(e.useMockResults({experimentNames:n,featureFlagNames:r}));var a=e.instance.customAttributesInstance.getAttributes();i&&Object.keys(i).forEach((function(t){t in e.constants.relatedUnits||e.warnToRollbar("AXP Client invalid prepopulated related unit",{message:t})}));var s=i||{};return c.default.deviceId.then((function(e){e&&!("device_id"in s)&&(s.device_id=e)})).then((function(){var t=e.instance.getAssignmentsFromStore("experiment",n,a,s),o=t.assignmentVariants,i=t.uncached,u=e.instance.getAssignmentsFromStore("featureFlag",r,a,s),c=u.assignmentVariants,l=u.uncached;return i.length||l.length?e.instance.fetchAssignments(i,l,a,s).then((function(t){var n=t.experimentAssignments,r=t.featureFlagAssignments;return i.forEach((function(t){var r=n[t];r&&(o[t]=r.variantName,e.instance.addExperimentAssignmentToStore(t,r))})),l.forEach((function(t){var n=r[t];n&&(c[t]=n.variantName,e.instance.addFeatureFlagAssignmentToStore(t,n))})),{experimentVariants:o,featureFlagVariants:c}})).catch((function(t){return e.warnToRollbar("AXP Client store assignment error",t),Promise.reject(t)})):{experimentVariants:o,featureFlagVariants:c}})).catch((function(){return{experimentVariants:{},featureFlagVariants:{}}}))}},{key:"trackImpression",value:function(t,n,r,o,s){if(void 0===o&&(o={}),void 0===s&&(s=!1),e.raiseIfNotInstantiated(),e.isMockMode())return!0;var u=(new Date).toISOString(),c=e.instance.getExperimentAssignmentFromStore(t);if(-1===Object.keys(i).map((function(e){return i[e]})).indexOf(r))return e.warnToRollbar("AXP Client Invalid Impression Type",new Error("Invalid impressionType "+r+" for "+t+"-"+n)),!1;if(c){if(!c.hasVariant)return!1;if(c.variantName!==n)return e.warnToRollbar("AXP Client Assignment vs. Impression Variant Mismatch",new Error("Mismatched variantName on assignment for "+t+": "+n+" instead of "+c.variantName)),!1;var l=a(c,r,u,o);return e.instance.impressionsQueue.push(l),s&&e.instance.flushImpressionsAndSetTimer(),!0}return e.warnToRollbar("AXP Client No Assignment But Impression Fired",new Error("Assignment missing but impression fired: "+t+"-"+n)),!1}},{key:"setCustomAttribute",value:function(t,n){e.raiseIfNotInstantiated(),e.instance.customAttributesInstance.setAttribute(t,n)}},{key:"clearCustomAttribute",value:function(t){e.raiseIfNotInstantiated(),e.instance.customAttributesInstance.clearAttribute(t)}},{key:"errorToRollbar",value:function(e,t,n){void 0===n&&(n=!1);var r=t.message,o=window.Rollbar||window.affirm&&window.affirm.Rollbar;o&&(n?o.warn(e,r,{version:"v2"}):o.error(e,r,{version:"v2"}))}},{key:"warnToRollbar",value:function(t,n){e.errorToRollbar(t,n,!0)}},{key:"raiseIfNotInstantiated",value:function(){if(!e.instance)throw Error("Axp Client has not been instantiated")}},{key:"isMockMode",value:function(){return"true"===u().get("_axp_mock_mode")}},{key:"useMockResults",value:function(t){var n=t.experimentNames,r=t.featureFlagNames;return{experimentVariants:e.fetchFromCookies(n,"experiment"),featureFlagVariants:e.fetchFromCookies(r,"featureFlag")}}},{key:"fetchFromCookies",value:function(e,t){var n=Q[t],r={};return e.forEach((function(e){r[e]=u().get(n+"_"+e)})),r}}],(n=[{key:"getExperimentAssignmentFromStore",value:function(e){return this.experimentsStorageInstance.getItem(e)}},{key:"getFeatureFlagAssignmentFromStore",value:function(e){return this.featureFlagsStorageInstance.getItem(e)}},{key:"addExperimentAssignmentToStore",value:function(e,t){this.experimentsStorageInstance.putItem(e,t)}},{key:"addFeatureFlagAssignmentToStore",value:function(e,t){this.featureFlagsStorageInstance.putItem(e,t)}},{key:"canUseExistingAssignment",value:function(e,t,n){void 0===n&&(n={});var r=new Date(Date.now());return r.setMilliseconds(-1*this.clientConfigInstance.config.cacheTtlMs),!(e.assignmentAt<r.toISOString()||!F(e.customAttributesData,t)||!F(e.relatedUnits,n))}},{key:"fetchAssignments",value:function(t,n,r,i){var a=o()(t),s=o()(n),u=this.clientConfigInstance.config.assignmentFetchTimeoutMs;return this.apiInstance.getAssignments(a,s,r,i,u).catch((function(t){return e.warnToRollbar("AXP Client Fetch Timeout",t),o()({experimentAssignments:{},featureFlagAssignments:{}})}))}},{key:"flushImpressionsAndSetTimer",value:function(){var t=this;clearTimeout(this.impressionsFlushTimer);var n=this.impressionsQueue.slice();return this.apiInstance.fireImpressions(n).then((function(){return!0})).catch((function(){return!1})).then((function(n){return n?(t.impressionsQueue=[],t.impressionsRetryCount=0):t.impressionsRetryCount+=1,t.impressionsRetryCount<=t.clientConfigInstance.config.networkRetryThreshold?t.impressionsFlushTimer=setTimeout(t.flushImpressionsAndSetTimer,t.clientConfigInstance.config.impressionFlushIntervalMs*Math.pow(2,t.impressionsRetryCount)):e.errorToRollbar("AXP Client Impression Fire Retry Limit Exceeded",new Error("Too many errors when trying to fire impressions. Giving up..")),n}))}},{key:"getAssignmentsFromStore",value:function(e,t,n,r){var o=this,i={},a=[];if(!t||!t.length)return{assignmentVariants:i,uncached:a};var s="experiment"===e?this.getExperimentAssignmentFromStore:this.getFeatureFlagAssignmentFromStore;return t.forEach((function(e){var t=s.call(o,e);t&&o.canUseExistingAssignment(t,n,r)?i[e]=t.variantName:a.push(e)})),{assignmentVariants:i,uncached:a}}}])&&B(t.prototype,n),r&&B(t,r),e}();H(G,"instance",null),H(G,"constants",{relatedUnits:{application_ari:"application_ari",charge_ari:"charge_ari",checkout_ari:"checkout_ari",device_id:"device_id",guarantee_ari:"guarantee_ari",merchant_ari:"merchant_ari",merchant_public_key:"merchant_public_key",offer_ari:"offer_ari",prequal_ari:"prequal_ari",root_flow_type:"root_flow_type",root_flow_ari:"root_flow_ari",session_ari:"session_ari",user_ari:"user_ari"}});var q=G,K="axp/CLEAR_CUSTOM_ATTRIBUTE",J="axp/GET_ASSIGNMENTS",Y="axp/SET_CUSTOM_ATTRIBUTE",X="axp/TRACK_IMPRESSION",z="axp/GET-ASSIGNMENTS-SENT",Z="axp/GET-ASSIGNMENTS-SUCCESS",$="axp/GET-ASSIGNMENTS-FAILED",ee=function(e){return function(t){var n=t.dispatch;return function(t){return function(r){if(!e)throw new Error("Axp Client is not initialized");if(function(e){return"object"==typeof e&&e.type===K}(r)){var o=r.attributeKey;return q.clearCustomAttribute(o),t(r)}if(function(e){return"object"==typeof e&&e.type===J}(r)){var i=r.experimentNames,a=r.featureFlagNames,s=r.pendingActions,u=r.successActions,c=r.failureActions,l=r.sideEffectData;return s&&s.forEach((function(e){n({type:e,experimentNames:i,featureFlagNames:a,sideEffectData:l})})),q.getAxpVariants({experimentNames:i,featureFlagNames:a}).then((function(e){var t=e.experimentVariants,r=e.featureFlagVariants;return u.forEach((function(e){n({type:e,experimentVariants:t,featureFlagVariants:r,experimentNames:i,featureFlagNames:a,sideEffectData:l})})),t})).catch((function(e){return c.forEach((function(t){n({type:t,error:e.message,experimentNames:i,featureFlagNames:a,sideEffectData:l})})),!1}))}if(function(e){return"object"==typeof e&&e.type===Y}(r)){var f=r.attributeKey,d=r.attributeValue;return q.setCustomAttribute(f,d),t(r)}if(function(e){return"object"==typeof e&&e.type===X}(r)){var p=r.experimentName,h=r.variantName,m=r.impressionType,g=r.additionalData,y=r.flushImmediately;return q.trackImpression(p,h,m,g,!!y),t(r)}return t(r)}}}},te=function(e){var t=e.experimentNames,n=e.featureFlagNames,r=e.pendingAction,o=e.successAction,i=e.failureAction,a=e.sideEffectData,s=[z,r].filter((function(e){return!!e})),u=[Z,o].filter((function(e){return!!e})),c=[$,i].filter((function(e){return!!e}));return{type:J,experimentNames:t,featureFlagNames:n,pendingActions:s,successActions:u,failureActions:c,sideEffectData:a}},ne=function(e){var t=e.experimentName,n=e.variantName,r=e.impressionType,o=e.impressionData,i=void 0===o?{}:o,a=e.flushImmediately;return{type:X,experimentName:t,variantName:n,impressionType:r,additionalData:i,flushImmediately:void 0!==a&&a}},re=function(e){var t=e.attributeKey,n=e.attributeValue;return{type:Y,attributeKey:t,attributeValue:n}},oe=function(e){var t=e.attributeKey;return{type:K,attributeKey:t}},ie=function(e){var t=e.currentAxpAssignments,n=e.experimentVariants,r=e.fetchedExperimentNames,o=e.fetchStatus,i=e.featureFlagVariants,a=e.fetchedFeatureFlagNames,s={},u={},c={},l={};if(t){var f=t.experimentVariants,d=t.experimentVariantsFetchStatus,p=t.featureFlagVariants,h=t.featureFlagVariantsFetchStatus;Object.keys(f).forEach((function(e){s[e]=f[e],u[e]=d[e]})),Object.keys(p).forEach((function(e){c[e]=p[e],l[e]=h[e]}))}var m=n||{},g=i||{};return r&&r.forEach((function(e){s[e]=m[e],u[e]=o})),a&&a.forEach((function(e){c[e]=g[e],l[e]=o})),{experimentVariants:s,experimentVariantsFetchStatus:u,featureFlagVariants:c,featureFlagVariantsFetchStatus:l}},ae=ie({currentAxpAssignments:null,experimentVariants:null,fetchedExperimentNames:[],fetchStatus:w.PENDING,featureFlagVariants:null,featureFlagFetchStatus:w.PENDING,fetchedFeatureFlagNames:[]}),se=function(e,t,n,r){var o,i=e||(n?n(ae):ae);switch(r&&(i=r(i)),t.type){case z:o=ie({currentAxpAssignments:i,experimentVariants:null,fetchedExperimentNames:t.experimentNames,fetchStatus:w.PENDING,featureFlagVariants:null,fetchedFeatureFlagNames:t.featureFlagNames});break;case Z:o=ie({currentAxpAssignments:i,experimentVariants:t.experimentVariants,fetchedExperimentNames:t.experimentNames,fetchStatus:w.SUCCESS,featureFlagVariants:t.featureFlagVariants,fetchedFeatureFlagNames:t.featureFlagNames});break;case $:o=ie({currentAxpAssignments:i,experimentVariants:null,fetchedExperimentNames:t.experimentNames,fetchStatus:w.FAILED,featureFlagVariants:null,fetchedFeatureFlagNames:t.featureFlagNames});break;default:o=i}return n?n(o):o},ue=function(e,t){return se(e,t)},ce=function(e){var t=e.wrapper,n=e.unWrapper;if(!t||!n)throw Error("Both wrapper and unWrapper functions are required");return function(e,r){return se(e,r,t,n)}},le=i.SHOWN_DEFAULT,fe=i.SHOWN_TREATMENT},3264:function(e,t,n){"use strict";function r(e){var t=e.match(/Chrom[^ \/]+\/(\d+)[\.\d]/);return t&&parseInt(t[1],10)}function o(e){var t=e.match(/\(iP.+; CPU .*OS (\d+)[_\d]*.*\) AppleWebKit\//);return t&&parseInt(t[1],10)}function i(e){var t=e.match(/\(Macintosh;.*Mac OS X (\d+)_(\d+)[_\d]*.*\) AppleWebKit\//);return{major:t&&parseInt(t[1],10),minor:t&&parseInt(t[2],10)}}function a(e){return Boolean(e.match(/Chrom(e|ium)/))}n.r(t),n.d(t,{default:function(){return _}});var s={chromeMajorVersion:r,iosMajorVersion:o,macosxVersion:i,isChromeMajorVersion:function(e,t){return r(e)===t},isChromiumBased:a,isIosMajorVersion:function(e,t){return o(e)===t},isMacEmbeddedBrowser:function(e){return Boolean(e.match(/^Mozilla\/[\.\d]+ \(Macintosh;.*Mac OS X [_\d]+\)+ AppleWebKit\/[\.\d]+ \(KHTML, like Gecko\)$/))},isMacosxVersion:function(e,t,n){void 0===n&&(n=null);var r=i(e),o=r.major,a=r.minor;return n?o===t&&a===n:o===t},isSafariBased:function(e){return!a(e)&&Boolean(e.match(/Version\/.* Safari\//))}},u={};function c(){var e=navigator.userAgent;return!(!s.isIosMajorVersion(e,12)&&!s.isMacosxVersion(e,10,14)||!s.isSafariBased(e)&&!s.isMacEmbeddedBrowser(e))||!!(s.isChromiumBased(e)&&s.chromeMajorVersion(e)<67)}function l(e){window.Rollbar&&"function"==typeof window.Rollbar.warning&&window.Rollbar.warning(e)}function f(e,t,n,r,o){try{var i;if(n){var a=new Date(Date.now());a.setTime(a.getTime()+24*n*60*60*1e3),i=a.toUTCString()}else i="";u.buildCookie(e,t,r||"",i,o)}catch(e){l(e)}}function d(e){try{var t=window.location.hostname.split(".");t.slice(0,-1).forEach((function(n,r){var o=t.slice(r).join(".");u.buildCookie(e,"",o,"Thu, 01 Jan 1970 00:00:01 GMT")}))}catch(e){l(e)}}function p(e){try{for(var t=document.cookie.split(";"),n=0;n<t.length;n+=1){var r=t[n],o=new RegExp("s*"+e+"=(.*)").exec(r);if(o&&o.length>1)return o[1]}}catch(e){l(e)}return null}u.buildCookie=function(e,t,n,r,o){void 0===o&&(o="Lax");var i=r?"; expires="+r:"",a=n?"; domain="+n:"",s="https:"===location.protocol&&"None"===o?"; Secure":"",u=e+"="+t+i+a+"; path=/";c()?document.cookie=u:document.cookie=u+"; SameSite="+o+s},u.create=f,u.enabled=function(){try{u.buildCookie("cookietest","1","","","None");var e=-1!==document.cookie.indexOf("cookietest=");return u.buildCookie("cookietest","1","","Thu, 01 Jan 1970 00:00:01 GMT","None"),e}catch(e){return l(e),!1}},u.erase=d,u.read=p,u.upsert=function(e,t,n,r,o){try{p(e)&&d(e),f(e,t,n,r,o)}catch(e){l(e)}},u.isSameSiteNoneIncompatible=c;var h=u;var m={getParamValue:function(e){var t=window.location.search.substring(1);if(""===t)return null;t=t.split("&");for(var n=0;n<t.length;n+=1){var r=t[n].split("=");if(r[0]===e){if(void 0===r[1])break;return decodeURIComponent(r[1])}}return null}};function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y,v,A,_=function(){function e(t){if(void 0===t&&(t={}),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.instance)return e.instance;window.affirm=window.affirm||{},window.affirm.deviceId=window.affirm.deviceId||{},this.config=t,this.config.apiUrl||(this.config.apiUrl=e.API_URL),"/"!==this.config.apiUrl.slice(-1)&&(this.config.apiUrl=this.config.apiUrl+"/")}var t,n,r;return t=e,r=[{key:"initialize",value:function(t){return e.instance?e.deviceId:(e.instance=new e(t),e.deviceId.then((function(t){return t&&(e.deviceId=t),t})))}},{key:"reset",value:function(){e.instance=null,window.affirm&&window.affirm.deviceId&&delete window.affirm.deviceId}},{key:"API_URL",get:function(){return"/api/v2/"}},{key:"COOKIE_EXPIRATION",get:function(){return 1825}},{key:"COOKIE_KEY",get:function(){return"tracker_device"}},{key:"DEVICE_ID_URL",get:function(){return"session/touch_track"}},{key:"SEARCH_PARAM",get:function(){return"device_id"}},{key:"deviceId",get:function(){return new Promise((function(t){var n=e.localDeviceId;return t(n||e.deviceIdFromApi)}))},set:function(t){h.upsert(e.COOKIE_KEY,t,e.COOKIE_EXPIRATION),window.affirm&&window.affirm.deviceId&&(window.affirm.deviceId.value=t)}},{key:"deviceIdFromApi",get:function(){if(window.affirm.deviceId.promise)return window.affirm.deviceId.promise;var t=e.instance.config.apiUrl+e.DEVICE_ID_URL,n=window.fetch(t,{credentials:"include",method:"GET"}).then((function(e){return e.json()})).then((function(e){return e.id})).catch((function(){return null})).finally((function(){return delete window.affirm.deviceId.promise}));return window.affirm.deviceId.promise=n,n}},{key:"deviceIdFromCookies",get:function(){return h.read(e.COOKIE_KEY)}},{key:"deviceIdFromSearchParam",get:function(){return m.getParamValue(e.SEARCH_PARAM)}},{key:"localDeviceId",get:function(){return window.affirm.deviceId.value||e.deviceIdFromSearchParam||e.deviceIdFromCookies}}],(n=null)&&g(t.prototype,n),r&&g(t,r),e}();A=null,(v="instance")in(y=_)?Object.defineProperty(y,v,{value:A,enumerable:!0,configurable:!0,writable:!0}):y[v]=A},4686:function(e,t,n){"use strict";var r,o,i,a;n.r(t),n.d(t,{Apps:function(){return a},Events:function(){return i},Selectors:function(){return r},Sources:function(){return o}}),function(e){e.wrapper="wrapper"}(r||(r={})),function(e){e.merchantConfig="merchantConfig",e.breakpoints="breakpoints"}(o||(o={})),function(e){e.style="style",e.dataRequest="dataRequest",e.dataResponse="dataResponse",e.open="open",e.close="close"}(i||(i={})),function(e){e.prequal="prequal",e.toast="toast"}(a||(a={}))},4946:function(e,t,n){"use strict";n.r(t),n.d(t,{FRAME_STYLES:function(){return k},WRAPPER_STYLES:function(){return E},default:function(){return S}});var r,o,i="@affirm/messages/v1";!function(e){e.handshake="handshake",e.event="event",e.reply="reply"}(r||(r={})),function(e){e.success="success",e.error="error"}(o||(o={}));var a,s=(a={},function(e){var t=a[e]||1;return a[e]=t+1,t}),u={trackEvent:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log("event",t)},tag:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log("tag",t)}};try{var c=n(2504);u.trackEvent=function(e,t,n){return void 0===n&&(n=1),c.trackEvent("action-log",{action_name:e,action_data:t},n)},u.tag=c.tag}catch(e){}var l=u;function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,"events",void 0),p(this,"transactions",void 0),p(this,"ready",void 0),p(this,"resolve",void 0),p(this,"reject",void 0),p(this,"origin",void 0),p(this,"messageId",void 0),p(this,"listener",void 0),p(this,"target",void 0),this.reject=function(){},this.resolve=function(){},this.target=window.parent,this.origin="",this.messageId=-1,this.events={},this.transactions={},this.ready=new Promise((function(e,n){t.resolve=e,t.reject=n})),l.tag({postMessageVersion:i})}var t,n,a;return t=e,(n=[{key:"isSafe",value:function(e){return(!this.origin||e.origin===this.origin)&&e.data&&e.data.version===i&&(this.messageId<0||e.data.id===this.messageId)}},{key:"onReady",value:function(e){this.ready.then(e)}},{key:"listen",value:function(){var e=this;return this.listener=function(t){if(e.isSafe(t)){var n=t.data,i=n.type,a=n.events,s=n.transactionId,u=n.response,c=n.index,f=n.replyType;switch(i){case r.event:a.forEach((function(t,n){var r=t.event,i=t.data;e.events[r]?Object.keys(e.events[r]).forEach((function(t){try{Promise.resolve(e.events[r][t].call(e,i)).then((function(t){e.reply(s,n,t,o.success)}))}catch(i){l.trackEvent("Affirm Messages: Internal Error in Callback",{eventName:r,callbackIndex:t,callbackError:i}),e.reply(s,n,i,o.error)}})):l.trackEvent("Affirm Messsages: Event is not registered",{eventType:r})}));break;case r.reply:e.transactions[s][c][f](u);break;default:l.trackEvent("Affirm Messages: Received unsupported message type",{messageType:i})}}},window.addEventListener("message",this.listener,!1),this.resolve(this),this}},{key:"on",value:function(e,t){var n,r=s("listener");this.events[e]?this.events[e][r]=t:this.events[e]=((n={})[r]=t,n)}},{key:"remove",value:function(e,t){var n=this;Object.keys(this.events[e]).forEach((function(r){n.events[e][r]===t&&delete n.events[e][r]}))}},{key:"reply",value:function(e,t,n,o){this.sendMessage({type:r.reply,transactionId:e,index:t,response:n,replyType:o})}},{key:"close",value:function(){void 0!==this.listener&&window.removeEventListener("message",this.listener,!1)}},{key:"sendMessage",value:function(e){var t=this;void 0!==this.target&&this.ready.then((function(){try{t.target.postMessage(f({version:i,id:t.messageId},e),t.origin)}catch(r){l.trackEvent("Affirm Messages: Failed to send message",{message:e,error:r,origin:t.origin});var n=e.transactionId;n&&t.transactions[n]&&t.transactions[n].forEach((function(e){e[o.error]({error:r})}))}}))}},{key:"send",value:function(e,t){return this.sendAll([{event:e,data:t}])[0]}},{key:"sendAll",value:function(e){var t=[],n=e.map((function(e,n){return new Promise((function(e,r){var i;t[n]=((i={})[o.success]=e,i[o.error]=r,i)}))})),i=s("transaction");return this.transactions[i]=t,this.sendMessage({type:r.event,transactionId:i,events:e}),n}}])&&d(t.prototype,n),a&&d(t,a),e}();function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},g(e,t,n||e)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=Object.freeze({height:"1px",width:"1px",position:"fixed",zIndex:2147483646}),k=Object.freeze({height:"100%",width:"100%",margin:"0",border:"0",padding:"0"}),O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(s,e);var t,n,o,a=v(s);function s(e,t){var n;return void 0===t&&(t=document.body),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),w(_(n=a.call(this)),"url",void 0),w(_(n),"frame",void 0),w(_(n),"container",void 0),w(_(n),"wrapper",void 0),n.url=e,n.container=t,n.messageId=Date.now()+Math.random(),l.tag({postMessageId:n.messageId}),n.wrapper=document.createElement("div"),n.frame=n.generateFrame(n.wrapper),null===n.frame.contentWindow?(n.reject(),A(n,_(n))):(n.target=n.frame.contentWindow,n.handshake(),A(n,_(n)))}return t=s,(n=[{key:"generateFrame",value:function(e){var t=document.createElement("iframe");return Object.assign(e.style,E),Object.assign(t.style,k),e.id=""+this.messageId,e.appendChild(t),this.container.appendChild(e),t}},{key:"close",value:function(){g(b(s.prototype),"close",this).call(this),null!==this.wrapper.parentNode&&this.wrapper.parentNode.removeChild(this.wrapper)}},{key:"handshake",value:function(){var e,t,n=this;this.origin=(e=this.url,(t=document.createElement("a")).href=e,void 0===t.origin?t.protocol+"//"+(t.host&&t.host.split(":")[0]):t.origin);var o,a=performance.now(),s=!1;window.addEventListener("message",(function e(t){if(n.isSafe(t)){if(t.data.type!==r.handshake)return l.trackEvent("Affirm Messages: Received unsupported handshake type",{messageType:t.data.type}),n.reject();clearInterval(o),window.removeEventListener("message",e,!1),n.origin=t.origin,s&&l.trackEvent("Affirm Message: Recovered hanshake connection after failure");var i=performance.now();return l.trackEvent("Affirm Messages: Handshake completed",{totalTime:i-a},.1),n.listen()}return null}),!1);var u=function(){try{n.target.postMessage({version:i,type:r.handshake,id:n.messageId},n.origin)}catch(e){l.trackEvent("Affirm Messages: Initial handshake failed",{origin:n.origin,error:e})}};this.frame.addEventListener("load",(function(){o=function(e,t,n,r){if(n<1)return-1;var o=1,i=window.setInterval((function(){e(),(o+=1)>=n&&("function"==typeof r&&r(),window.clearInterval(i))}),t);return e(),i}(u,500,50,(function(){s=!0,l.trackEvent("Affirm Messages: Failed to complete handshake connection")}))}),!0),this.frame.src=this.url}}])&&m(t.prototype,n),o&&m(t,o),s}(h),S=O},539:function(e,t,n){"use strict";n.r(t),n.d(t,{Client:function(){return I},Host:function(){return E}});var r,o,i="affirm";!function(e){e.Initialized="initialized",e.InitializedAck="initializedAck",e.ClientResize="clientResize",e.StepChange="stepChange",e.StateChange="stateChange",e.Close="close",e.RequestClose="requestClose"}(r||(r={})),function(e){e.PrequalComplete="PrequalComplete",e.CheckoutComplete="CheckoutComplete",e.UserSignout="UserSignout"}(o||(o={}));var a=function(){function e(){var e,t,n;n={},(t="listeners")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var t=e.prototype;return t.addEventListener=function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)},t.removeEventListener=function(e,t){if(e in this.listeners){var n=this.listeners[e],r=n.indexOf(t);-1!==r&&n.splice(r,1)}},t.dispatchEvent=function(e){var t=this;e.type in this.listeners&&this.listeners[e.type].forEach((function(n){n.call(t,e)}))},e}();function s(e){return"function"==typeof URL?new URL(e).origin:function(e){var t=document.createElement("a");return t.href=e,t.protocol+"//"+(t.host&&t.host.split(":")[0])+(t.port?":"+t.port:"")}(e)}function u(){if("function"==typeof URL&&"function"==typeof URL.createObjectURL){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.substr(t.lastIndexOf("/")+1)}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function c(e,t){return e.filter(t)[0]}function l(e){if("function"==typeof URLSearchParams){var t=new URLSearchParams(e);return{id:t.get("frameId"),origin:t.get("origin")}}var n,r=(0===(n=e).indexOf("?")?n.slice(1):n).split("&").reduce((function(e,t){var n=t.split("="),r=n[0],o=n[1];return e[r]=o?decodeURIComponent(o.replace(/\+/g," ")):"",e}),{});return{id:r.frameId||null,origin:r.origin||null}}function f(e,t){if("function"==typeof URL){var n=new URL(e);return Object.keys(t).forEach((function(e){n.searchParams.append(e,t[e])})),n.href}return function(e,t){var n=-1===e.indexOf("?")?"?":"&";return""+e+n+Object.keys(t).map((function(e){return e+"="+encodeURIComponent(t[e])})).join("&")}(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){var t,n;function o(t,n){var r;return p(d(r=e.call(this)||this),"id",void 0),p(d(r),"url",void 0),p(d(r),"targetWindow",null),p(d(r),"origin",void 0),p(d(r),"name",void 0),r.origin=s(t),r.id=u(),r.targetWindow=(null==n?void 0:n.targetWindow)||null,r.name=null==n?void 0:n.name,r.url=f(t,{frameId:r.id,origin:s(window.location.href)}),r.ackOnInit(),r}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=o.prototype;return a.setTargetWindow=function(e){this.targetWindow=e},a.on=function(e,t){var n=this;this.addEventListener(e,(function(e){var r=e.data;t.call(n,r)}))},a.notify=function(e,t){if(!this.targetWindow)throw new Error("No targetWindow available");var n={channel:i,protocolVersion:1,event:e};t&&(n.data=t),this.targetWindow.postMessage(n,this.origin)},a.onInitialized=function(e){this.on(r.Initialized,e)},a.onClose=function(e){this.on(r.Close,e)},a.onClientResize=function(e){this.on(r.ClientResize,e)},a.onStepChange=function(e){this.on(r.StepChange,e)},a.onStateChange=function(e){this.on(r.StateChange,e)},a.ackOnInit=function(){var e=this;this.onInitialized((function(){e.notify(r.InitializedAck)}))},o}(a);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=0,y=1,v=2,A=3;function _(){var e;(e=console).log.apply(e,arguments)}var b=function(){function e(e,t){void 0===t&&(t=g),m(this,"name",void 0),m(this,"level",void 0),this.name=e,this.level=t}var t=e.prototype;return t.error=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];_.apply(void 0,[this.name].concat(t))},t.warning=function(){if(this.level>=y){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];_.apply(void 0,[this.name].concat(t))}},t.info=function(){if(this.level>=v){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];_.apply(void 0,[this.name].concat(t))}},t.debug=function(){if(this.level>=A){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];_.apply(void 0,[this.name].concat(t))}},e}();function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(){function e(e){var t=this;w(this,"clients",[]),w(this,"nameAliases",{}),w(this,"logger",void 0),w(this,"messageListener",(function(e){t.logger.debug("Receiving event",e);var n=c(t.clients,(function(t){return t.targetWindow===e.source}));if(n){var r=e.data;r&&r.frameId===n.id?(t.logger.debug("dispatchEvent",{type:r.event,data:r}),n.dispatchEvent({type:r.event,data:r})):t.logger.warning("Incorrect frameId, receiving "+(null==r?void 0:r.frameId)+", expecting "+n.id)}else t.logger.debug("Message source not among registered clients",e.source)})),this.logger=new b("PostMessageHost",null==e?void 0:e.debugLevel),this.listenMessage()}e.init=function(t){return new e(t)};var t=e.prototype;return t.createClient=function(e,t){var n=null==t?void 0:t.name;if(n&&this.nameAliases[n])throw new Error("Duplicated name for the client");var r=new h(e,t);return this.clients.push(r),n&&(this.nameAliases[n]=r.id),r},t.getClient=function(e){var t=this.nameAliases[e]||e;return c(this.clients,(function(e){return e.id===t}))},t.removeClient=function(e){var t="string"==typeof e?this.getClient(e):e;if(t){var n=this.clients.indexOf(t);-1!==n&&this.clients.splice(n,1)}},t.tearDown=function(){window.removeEventListener("message",this.messageListener)},t.listenMessage=function(){window.addEventListener("message",this.messageListener)},e}();function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}w(E,"PROTOCOL_VERSION",1);var O=function(){return k(this,"id",null),k(this,"origin",null),new Proxy(this,{get:function(e,t){if(t in e)return e[t];throw new Error("client is not initialized")}})};var S=function(){function e(){var t,n,r;r=void 0,(n="targetWindow")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,e.isMobileWebView()?this.targetWindow=window:this.targetWindow=window.parent}return e.isMobileWebView=function(){var e,t;return window.self===window.parent&&(!(null==(e=window.webkit)||null==(t=e.messageHandlers)||!t.postMessageHandler)||!!window.postMessageAndroid)},e.prototype.postMessage=function(t,n){var r,o;e.isMobileWebView()?(null!=(r=this.targetWindow.webkit)&&null!=(o=r.messageHandlers)&&o.postMessageHandler&&this.targetWindow.webkit.messageHandlers.postMessageHandler.postMessage(t),this.targetWindow.postMessageAndroid&&this.targetWindow.postMessageAndroid.postMessage(JSON.stringify(t),n)):this.targetWindow.postMessage(t,n)},e}();function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){var t,n;function o(t,n,o){var a;return C(P(a=e.call(this)||this),"postMessageProxy",new S),C(P(a),"logger",void 0),C(P(a),"listener",(function(e){if(a.logger.debug("Receiving event",e),!S.isMobileWebView()){if(e.origin!==a.origin)return void a.logger.info("event.origin: "+e.origin,"this.origin: "+a.origin);if(e.source!==a.postMessageProxy.targetWindow)return void a.logger.info("different source from targetWindow")}if(e.data&&e.data.channel===i){var t=e.data;a.logger.debug("dispatchEvent",{type:t.event,data:t}),a.dispatchEvent({type:t.event,data:t})}else{var n;a.logger.info("event.data.channel: "+(null==(n=e.data)?void 0:n.channel))}})),a.origin=n,a.id=t,a.logger=new b("PostMessageClient",null==o?void 0:o.debugLevel),a.listenMessage(),a.notify(r.Initialized,null==o?void 0:o.initData),a}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,o.checkEnvironment=function(e){var t=new b("PostMessageClient",null==e?void 0:e.debugLevel);if(S.isMobileWebView())return{id:"AffirmMobileFrame",origin:""};var n=l(window.location.search),r=n.id,o=n.origin;return r&&o?window.parent===window.self?(t.debug("Running client in parent window, noop"),!1):{id:r,origin:o}:(t.debug("Invalid id or origin"),!1)},o.init=function(e,t){void 0===t&&(t=!1);var n=o.checkEnvironment(e);if(!n){if(t)return new O;throw new Error("Invalid id or origin")}return new o(n.id,n.origin,e)};var a=o.prototype;return a.notify=function(e,t){var n={channel:i,protocolVersion:1,event:e,frameId:this.id};t&&(n.data=t),this.logger.debug("postMessage",n,this.origin),this.postMessageProxy.postMessage(n,this.origin)},a.on=function(e,t){var n=this;this.addEventListener(e,(function(e){var r=e.data;t.call(n,r)}))},a.tearDown=function(){window.removeEventListener("message",this.listener)},a.notifyClientResize=function(e){this.notify(r.ClientResize,e)},a.notifyClose=function(e){this.notify(r.Close,e)},a.notifyStateChange=function(e){this.notify(r.StateChange,{state:e})},a.notifyStepChange=function(e){this.notify(r.StepChange,{step:e})},a.listenMessage=function(){window.addEventListener("message",this.listener)},o}(a);C(I,"PROTOCOL_VERSION",1)},5461:function(e){var t=function(){t={};var e=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance;if(e){Object.keys(Object.getPrototypeOf(e.timing)).forEach((function(n){"function"!=typeof e.timing[n]&&(t[n]=e.timing[n])}));var n=t.fetchStart;Object.keys(t).forEach((function(e){0!==t[e]&&(t[e]=t[e]-n)})),Object.assign(t,{TTFB:t.responseStart,contentDownloadTime:t.responseEnd-t.responseStart,domContentLoaded:t.domContentLoadedEventStart-t.domLoading,domProcessing:t.domComplete-t.domLoading,pageLoadTime:t.loadEventEnd})}return t};e.exports=t},1597:function(e){var t=["ssn","cvc","dob","name","phone","email","line1","address","zipcode","ssn_last4","card_number","phone_number","account_number"];e.exports=function e(n,r){if(null==n||"boolean"==typeof n)return n;if("string"==typeof n||"number"==typeof n)return r?(""+n).replace(/[0-9a-z]/gi,"*"):n;if(Array.isArray(n))return n.map((function(t){return e(t,r)}));if("object"==typeof n){var o={};return Object.keys(n).forEach((function(i){o[i]=e(n[i],function(e){return-1!==t.indexOf(e)}(i)||r)})),o}return null}},2504:function(e,t,n){"use strict";n.r(t),n.d(t,{ANALYTICS_STORAGE_COLLECTORS:function(){return b},USER_ACTIONS:function(){return w},clearTags:function(){return re},flushEventQueue:function(){return j},init:function(){return ie},tag:function(){return te},trackAPI:function(){return V},trackActionLog:function(){return W},trackAppAbandonment:function(){return ee},trackApplicationResponseTime:function(){return X},trackBrowserNotSupportedImpression:function(){return Q},trackCustomEvent:function(){return N},trackDebugEvent:function(){return U},trackEvent:function(){return L},trackFirstInputDelay:function(){return Z},trackImpression:function(){return H},trackLongTasksEntries:function(){return J},trackOnExit:function(){return F},trackPageView:function(){return B},trackResourceTiming:function(){return Y},trackTimeToInteractive:function(){return $},trackUserInteraction:function(){return z},untag:function(){return ne}});var r=n(3264),o=n(5461),i=n.n(o),a=n(1597),s=n.n(a),u=n(4402),c=n(108),l=n.n(c),f=n(9130),d=n.n(f),p=n(1781),h=n(7446),m=n(3156),g=n(3700),y=n.n(g);n(6189);function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}var A="last_session_id",_=window.Rollbar||window.affirm&&window.affirm.Rollbar,b={DEFAULT:"/collect",CHRONO:"/api/chrono/v1/collect2"},w={CLICK:"Click",DISMISS:"Dismiss",HOVER:"Hover",SWIPE_LEFT:"Swipe Left",SWIPE_RIGHT:"Swipe Right",TAP:"Tap"},E={},k="",O="",S=!1,P=null,C=[],I=null,T=1;function M(e,t,n){void 0===n&&(n={});window.fetch(e,v({method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},n)).catch((function(t){!(0,h.Z)(t)&&Math.random()<.01&&_&&_.warn("Network error fetching "+e,t,{version:"v2"})}))}function x(e,t){if(void 0===e&&(e={}),void 0===t&&(t=!1),k){var n="https://"+k+b.DEFAULT,r=""+O+b.CHRONO,o=t?b.CHRONO:b.DEFAULT,i="localhost"===k?o:t?r:n;if(t)M(i,e);else if(navigator&&"function"==typeof navigator.sendBeacon)navigator.sendBeacon(i,JSON.stringify(e))||Math.random()<.01&&_&&_.warn("Error queueing beacon to "+i,void 0,{version:"v2"});else M(i,e,{credentials:"include"})}else if(window.console&&"function"==typeof console.log){var a=t?"Tracking event with Chrono: "+e[0].eventType:"Tracking event: "+e.eventType;console.log(a,e)}}function R(){var e,t,n=(e=window.location.href,(t=document.createElement("a")).href=e,t);return{hash:n.hash,hostname:n.hostname,pathname:n.pathname,queryParams:n.search}}function j(){for(;0!==C.length;){var e=C.pop(),t=e.payloadData,n=e.useChrono;Object.assign(t,E),x(t,n)}}function D(e,t,n){void 0===n&&(n=!0);var r={hr:window.location.href,ts:Date.now(),ms:window.performance?window.performance.now():null,is_load_finished:null!=P},o={};Object.assign(o,E),Object.assign(o,{eventType:e}),Object.assign(o,r),Object.assign(o,t),"user-interaction"===e?I=o:I&&"page-view"===e&&(o.screen_transition={latency:o.ms-I.ms,start_page_key:I.pageKey,start_user_action:I.user_action,start_element_name:I.element_name},I=null);var i=s()(o),a=i;return n&&(a=d()(i)),a}function L(e,t,n,r,o){if(void 0===t&&(t={}),void 0===n&&(n=1),void 0===r&&(r=!0),void 0===o&&(o=!1),!(Math.random()>n)){var i=D(e,t,r);if(window.Rollbar&&"function"==typeof window.Rollbar.captureEvent&&"resource-timing"!==e){var a={eventType:e,action_name:t.action_name,url:t.url,response_status:t.response_status,pageKey:t.pageKey,user_action:t.user_action,element_name:t.element_name,referrer:t.referrer,load_type:t.load_type};i&&(a.screen_transition=i.screen_transition),window.Rollbar.captureEvent(a,"info")}var s=o?function(e,t){return[v({},e,{eventType:t,merchantPublicApiKey:E.public_api_key})]}(t,e):i;S?(x(s,o),j()):C.push({payloadData:s,useChrono:o})}}function N(e,t){void 0===t&&(t={}),ae.trackEvent("custom-event",v({customEventName:e},t))}function U(e,t){void 0===t&&(t={}),ae.trackEvent("debug-event",v({debugEventName:e},t))}function F(e,t){void 0===e&&(e={}),void 0===t&&(t="resource-timing"),x(D(t,{entry:e&&e.entry?e.entry:{entryType:"exit_page"}}))}function B(e,t,n){void 0===t&&(t=!0),void 0===n&&(n={});var r=v({},n,{load_type:t?"full":"dynamic",referrer:document.referrer});e&&Object.assign(r,{pageKey:e}),te({path:R()}),L("page-view",r)}function H(e,t){void 0===t&&(t={}),ae.trackEvent("impression",v({},t,{element_name:e}))}function W(e,t){L("action-log",{action_name:e,action_data:t})}function V(e,t,n,r){var o;void 0===r&&(r={}),o="string"!=typeof n?JSON.stringify(n):n;var i=t<=299?T:1;L("api",v({},r,{url:e,response_status:t||"unknown",response_message:o}),i)}function Q(e,t){L("Browser does not support PerformanceEntry type "+e,{errorMessage:t?t.message:""})}function G(e){e.forEach((function(e){var t=e.toJSON();t.entryName=t.name,delete t.name,L("resource-timing",{entry:t})}))}function q(e,t){void 0===t&&(t={});var n=Object.assign({},e);n.entryName=n.name,delete n.name;var r=Object.assign({},n,t);if(!!r.responseStart){var o=r.redirectEnd-r.redirectStart,i=0!==o,a=r.domainLookupStart-r.fetchStart==0,s=r.domainLookupEnd-r.domainLookupStart,u=0===s,c=r.connectEnd-r.connectStart,l=0===c;Object.assign(r,{isBrowserCached:a,isDNSCached:u,isPersistentConnection:l,isRedirected:i,resourceConnectionTime:c,resourceContentDownloadTime:r.responseEnd-r.responseStart,resourceDNSLookupTime:s,resourceRedirectTime:o,resourceTTFB:r.responseStart-r.startTime,resourceTTLB:r.responseEnd-r.startTime})}return r}function K(e,t){e.reduce((function(e,n){if("function"!=typeof n.toJSON)return e;var r=b.DEFAULT,o=n.toJSON(),i="localhost"===k?r:"https://"+k+r;if(-1!==o.name.indexOf(i))return e;if(t&&t.length&&!t.find((function(e){return o.name.indexOf(e)>-1})))return e;return e.push(q(o)),e}),[]).forEach((function(e){ae.trackEvent("resource-timing",{entry:e})}))}function J(e){e.forEach((function(e){var t=e.toJSON();if(t&&t.attribution){var n=q(t);delete n.attribution,t.attribution.forEach((function(e){var t=e;t.attributionName=t.name,delete t.name,ae.trackEvent("resource-timing",{entry:n,attribution:t})}))}else{Q("longtask",{message:"TaskAttributionTiming not present in the entry"})}}))}function Y(){}function X(e){L("resource-timing",{applicationResponseData:e})}function z(e,t,n){void 0===n&&(n={}),Object.keys(w).some((function(e){return w[e]===t}))&&ae.trackEvent("user-interaction",v({},n,{element_name:e,user_action:t}))}function Z(){var e="first-input-delay";try{perfMetrics.onFirstInputDelay((function(t){ae.trackEvent("resource-timing",{entry:{entryType:e,duration:t}})}))}catch(t){Q(e,t)}return r.default.deviceId}function $(){return window.performance&&window.PerformanceLongTaskTiming?(window.__tti={entries:[]},window.__tti.entries=window.__tti.entries.concat(window.performance.getEntriesByType("longtask")),y().getFirstConsistentlyInteractive().then((function(e){ae.trackEvent("resource-timing",{entry:{entryType:"time-to-interactive",duration:e}})}))):r.default.deviceId}function ee(){document.addEventListener("visibilitychange",(function e(){document.removeEventListener("visibilitychange",e),ae.trackOnExit({entry:{entryType:"app-abandonment",startTime:window.performance?window.performance.now():null}},"page-view")}))}function te(e){return void 0===e&&(e={}),Object.assign(E,d()(s()(e))),this}function ne(e){return(Array.isArray(e)?e:[e]).forEach((function(e){return delete E[e]})),this}function re(){return E={},this}function oe(e){var t,n,o=r.default.localDeviceId,a=m.ZP.read(A),s=((t={})[r.default.COOKIE_KEY]=o,t);return a&&(s.last_session_id=a),te(s),S=!0,e.firePageView&&(n=function(){L("page-load",{performance:i()(),load_type:"full",is_performance_observed:"PerformanceObserver"in window})},(0,p.loadEventListener)((function(){return setTimeout(n,0)})),B()),e.fireAppAbandonment&&ee(),j(),r.default.deviceId}function ie(e,t,n,o,i,a,s,c,f,d,p,h,m,g){void 0===i&&(i={}),void 0===a&&(a=!0),void 0===s&&(s=1),void 0===c&&(c=[]),void 0===f&&(f=!0),void 0===d&&(d=!0),void 0===p&&(p=1),void 0===h&&(h=!0),void 0===m&&(m=p),void 0===g&&(g=""),T=m;var y=navigator.userAgent,A=l()(y),_=(0,u.parseUserAgentIntoDeviceType)(y),b=navigator.connection?navigator.connection.effectiveType:"";k=o,O=g;var w={firePageView:a,fireAppAbandonment:h,defaultObserverSampleRate:s};return te({client:{appName:e,appVersion:t,browser:A,deviceType:_,connectionType:b},path:R()}),te(i),te({pageKey:window.location.href}),r.default.initialize({apiUrl:n}).then((function(){return oe(w)})).then((function(){return function(e,t){if(Math.random()>t)return r.default.deviceId;try{window.performance&&window.performance.getEntriesByType&&K(window.performance.getEntriesByType("resource"),e),new PerformanceObserver((function(t){K(t.getEntries(),e)})).observe({entryTypes:["resource"]})}catch(e){Q("resource",e)}return r.default.deviceId}(c,p)})).then((function(){Math.random()>s||function(){var e="paint";if(window.performance&&window.performance.getEntriesByType&&(G(window.performance.getEntriesByType(e)),window.PerformanceObserver)){var t=new PerformanceObserver((function(e){G(e.getEntries()),t.disconnect()}));try{t.observe({entryTypes:[e]})}catch(t){Q(e,t)}}return r.default.deviceId}().then((function(){return function(){if(window.performance&&window.performance.getEntriesByType&&(J(window.performance.getEntriesByType("longtask")),window.PerformanceObserver)){var e=new PerformanceObserver((function(e){J(e.getEntries())}));try{e.observe({entryTypes:["longtask"]})}catch(e){Q("longtask",e)}}return r.default.deviceId}()})).then((function(){return function(){var e="largest-contentful-paint";try{new PerformanceObserver((function(e){var t=e.getEntries(),n=t[t.length-1];P={startTime:n.renderTime||n.loadTime,size:n.size,url:n.url,element:{text:n.element&&n.element.innerText,pageUrl:n.element&&n.element.baseURI}}})).observe({type:e,buffered:!0}),document.addEventListener("visibilitychange",(function(){P&&"hidden"===document.visibilityState&&ae.trackOnExit({entry:v({entryType:"largest-contentful-paint"},P)})}))}catch(t){Q(e,t)}return r.default.deviceId}()})).then((function(){return d&&$()})).then((function(){return f&&Z()}))})),this}var ae={clearTags:re,init:ie,tag:te,untag:ne,trackEvent:L,trackBrowserNotSupportedImpression:Q,trackCustomEvent:N,trackDebugEvent:U,trackOnExit:F,trackActionLog:W,trackApplicationResponseTime:X,trackImpression:H,trackUserInteraction:z,trackResourceTiming:Y,trackResourceTimingEntries:K,trackLongTasksEntries:J,trackTimeToInteractive:$,trackFirstInputDelay:Z,trackAppAbandonment:ee,trackAPI:V,trackPageView:B,postTrackingEvent:x,USER_ACTIONS:w};t.default=ae},4402:function(e){var t=["Android","BlackBerry","iPad","iPhone","iPod","webOS","Windows Phone"],n=["Linux","Macintosh","Windows"];function r(e){for(var r=0;r<t.length;r+=1){var o=t[r];if(-1!==e.indexOf(o))return o}for(var i=0;i<n.length;i+=1){var a=n[i];if(-1!==e.indexOf(a))return a}return"Other"}e.exports={parseUserAgentIntoDeviceType:r,isMobile:function(){var e=r(navigator.userAgent);return-1!==t.indexOf(e)}}},665:function(e,t,n){"use strict";n.r(t);var r=n(2504),o=n(7446),i=n(3156),a={};a.cookies=i.am,a.cors=function(){return!(!window.XMLHttpRequest||!("withCredentials"in new XMLHttpRequest))},a.json=function(){try{return window.JSON.parse(window.JSON.stringify({affirmsniffer:!0})),!0}catch(e){return!1}},a.localStorage=function(){try{return window.localStorage.setItem("affirmsniffer","affirmsniffer"),window.localStorage.getItem("affirmsniffer"),window.localStorage.removeItem("affirmsniffer"),!0}catch(e){return!1}},a.postMessage=function(){return!!window.postMessage},a.thirdPartyCookies=function(e,t){return void 0===t&&(t=!1),function(e){return window.fetch(e,{credentials:"include",headers:{Accept:"application/json"},method:"GET"})}(e).then((function(e){return e.json()})).then((function(n){return!!n.cookie_sent||!t&&a.thirdPartyCookies(e,!0)})).catch((function(e){if((0,o.Z)(e))r.default.trackEvent("Third party cookie check failed",{},.1);else{var t=window.Rollbar||window.affirm&&window.affirm.Rollbar;t&&t.error("Error conducting third party cookie check",e)}return!1}))},a.ie11=function(){return!(window.navigator.userAgent.indexOf("Trident")>-1)},t.default=a},217:function(e,t,n){"use strict";function r(e,t){for(var n,r=t,o=arguments.length,i=new Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];if("string"==typeof t&&(r=e,i.push(t)),!i.length)throw new Error("bindAll requires at least one method name to bind");i.forEach((function(t){if("function"!=typeof(n=e[t]))throw new Error(t+" is not a method on object");e[t]=n.bind(r)}))}n.r(t),n.d(t,{default:function(){return r}})},108:function(e){e.exports=function(e){return-1!==e.indexOf("Opera")||-1!==e.indexOf("OPR")?"Opera":-1!==e.indexOf("Edge")?"Edge":-1!==e.indexOf("Chrome")?"Chrome":-1!==e.indexOf("Safari")?"Safari":-1!==e.indexOf("Firefox")?"Firefox":-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident")?"IE":"Other"}},4193:function(e,t,n){"use strict";function r(e,t){var n,o=null;return Array.isArray(e)?(o=[],e.forEach((function(e){n=r(e,t),t(n)&&o.push(n)}))):null!==e&&"object"==typeof e?(o={},Object.keys(e).forEach((function(i){n=r(e[i],t),t(n)&&(o[i]=n)}))):t(e)&&(o=e),o}n.r(t),n.d(t,{default:function(){return r}})},8056:function(e,t,n){"use strict";n.r(t),t.default={bind:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},unbind:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)}}},6482:function(e,t,n){"use strict";var r=n(6691),o=n.n(r);function i(e,t){return Object.keys(t).forEach((function(n){var r=t[n];null!=r&&Object.prototype.hasOwnProperty.call(t,n)&&(o().isPlainObject(r)?o().isPlainObject(e[n])?e[n]=i(e[n],i({},r)):e[n]=i({},r):e[n]=r)})),e}i.default=i,t.default=i},535:function(e,t,n){e.exports=n(6482).default},1781:function(e){e.exports={loadEventListener:function(e){"complete"===document.readyState?e():window.addEventListener&&window.addEventListener("load",e,!1)}}},2693:function(e,t,n){"use strict";n.r(t),n.d(t,{TIMEOUT_ERROR:function(){return r},default:function(){return o}});var r="TIMED_OUT";function o(e,t){var n,o,i,a=new Promise((function(e,a){o=a,i=e,n=setTimeout((function(){a(r)}),t)}));return Promise.race([e,a]).then((function(e){return clearTimeout(n),i(),e})).catch((function(e){throw clearTimeout(n),o(),e}))}},6691:function(e){function t(e){return Array.isArray(e)}function n(e){return"object"==typeof e&&!t(e)}e.exports={isArray:t,isObject:n,isPlainObject:function(e){return n(e)&&"[object Object]"===String(e)}}},7446:function(e,t,n){"use strict";function r(e){var t=e&&e.message&&"function"==typeof e.message.toLowerCase&&e.message.toLowerCase()||"";return t.indexOf("failed to fetch")>-1||t.indexOf("network request failed")>-1}n.d(t,{Z:function(){return r}})},3156:function(e,t,n){"use strict";n.d(t,{am:function(){return u}});var r=n(6436),o={};function i(e){window.Rollbar&&"function"==typeof window.Rollbar.warning&&window.Rollbar.warning(e)}function a(){var e=navigator.userAgent;return!(!(0,r.isIosMajorVersion)(e,12)&&!(0,r.isMacosxVersion)(e,10,14)||!(0,r.isSafariBased)(e)&&!(0,r.isMacEmbeddedBrowser)(e))||!!((0,r.isChromiumBased)(e)&&(0,r.chromeMajorVersion)(e)<67)}function s(e,t,n,r,a){try{var s;if(n){var u=new Date(Date.now());u.setTime(u.getTime()+24*n*60*60*1e3),s=u.toUTCString()}else s="";o.buildCookie(e,t,r||"",s,a)}catch(e){i(e)}}function u(){try{o.buildCookie("cookietest","1","","","None");var e=-1!==document.cookie.indexOf("cookietest=");return o.buildCookie("cookietest","1","","Thu, 01 Jan 1970 00:00:01 GMT","None"),e}catch(e){return i(e),!1}}function c(e){try{var t=window.location.hostname.split(".");t.slice(0,-1).forEach((function(n,r){var i=t.slice(r).join(".");o.buildCookie(e,"",i,"Thu, 01 Jan 1970 00:00:01 GMT")}))}catch(e){i(e)}}function l(e){try{for(var t=document.cookie.split(";"),n=0;n<t.length;n+=1){var r=t[n],o=new RegExp("s*"+e+"=(.*)").exec(r);if(o&&o.length>1)return o[1]}}catch(e){i(e)}return null}o.buildCookie=function(e,t,n,r,o){void 0===o&&(o="Lax");var i=r?"; expires="+r:"",s=n?"; domain="+n:"",u="https:"===location.protocol&&"None"===o?"; Secure":"",c=e+"="+t+i+s+"; path=/";a()?document.cookie=c:document.cookie=c+"; SameSite="+o+u},o.create=s,o.enabled=u,o.erase=c,o.read=l,o.upsert=function(e,t,n,r,o){try{l(e)&&c(e),s(e,t,n,r,o)}catch(e){i(e)}},o.isSameSiteNoneIncompatible=a,t.ZP=o},6436:function(e){function t(e){var t=e.match(/\(iP.+; CPU .*OS (\d+)[_\d]*.*\) AppleWebKit\//);return t&&parseInt(t[1],10)}function n(e){var t=e.match(/\(Macintosh;.*Mac OS X (\d+)_(\d+)[_\d]*.*\) AppleWebKit\//);return{major:t&&parseInt(t[1],10),minor:t&&parseInt(t[2],10)}}function r(e){var t=e.match(/Chrom[^ \/]+\/(\d+)[\.\d]/);return t&&parseInt(t[1],10)}function o(e){return Boolean(e.match(/Chrom(e|ium)/))}e.exports={iosMajorVersion:t,isIosMajorVersion:function(e,n){return t(e)===n},macosxVersion:n,isMacosxVersion:function(e,t,r){void 0===r&&(r=null);var o=n(e),i=o.major,a=o.minor;return r?i===t&&a===r:i===t},chromeMajorVersion:r,isChromeMajorVersion:function(e,t){return r(e)===t},isChromiumBased:o,isSafariBased:function(e){return!o(e)&&Boolean(e.match(/Version\/.* Safari\//))},isMacEmbeddedBrowser:function(e){return Boolean(e.match(/^Mozilla\/[\.\d]+ \(Macintosh;.*Mac OS X [_\d]+\)+ AppleWebKit\/[\.\d]+ \(KHTML, like Gecko\)$/))}}},4699:function(e,t,n){"use strict";n.r(t);var r=n(8056),o="iframe-dimensions",i="iframe-ready",a="AFFIRM_FRAME_MESSAGES",s="request-parent-bounds",u="request-iframe-dimensions";function c(e){var t=l(e);t&&t.name===u&&f()}function l(e){var t;if("string"==typeof e.data)try{(t=JSON.parse(e.data)).id!==a&&(t=null)}catch(e){t=null}return t}function f(){var e=document.body.style.height,t=document.body.style.minHeight;document.body.style.height="auto",document.body.style.minHeight=0;var n={height:document.body.offsetHeight,id:a,name:o,width:document.body.offsetWidth};document.body.style.height=e,document.body.style.minHeight=t,window.parent.postMessage(JSON.stringify(n),"*")}t.default={IFRAME_DIMENSIONS_MESSAGE:o,IFRAME_READY_MESSAGE:i,initMessageListener:function(){r.default.bind(window,"message",c),window.parent.postMessage(JSON.stringify({id:a,name:i}),"*"),f()},isInIFrame:function(){return window.self!==window.top&&window.parent},requestParentBounds:function(){window.parent.postMessage(JSON.stringify({id:a,name:s}),"*")},parsePostMessageData:l,sendBodyDimensions:f,PARENT_BOUNDS_MESSAGE:"parent-bounds",POST_MESSAGE_ID:a,REQUEST_PARENT_BOUNDS_MESSAGE:s,REQUEST_IFRAME_DIMENSIONS_MESSAGE:u}},9537:function(e,t,n){"use strict";n.r(t),t.default={getScrollbarWidth:function(){var e=document.createElement("div");e.style.msOverflowStyle="scrollbar",e.style.visibility="hidden",e.style.width="100px",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var r=n.offsetWidth;return e.parentNode.removeChild(e),t-r},hasVerticalScrollbar:function(){return window.innerWidth>document.documentElement.clientWidth}}},942:function(e,t,n){"use strict";t.Z=function(){if(u.default.isIe())return;var e=Date.now(),t=Math.random()<.1;i.default.ready(),r.default.initialize({apiUrl:u.default.getApiUrl("")}).then((function(){(0,o.getCSMPrequalExperiment)(!1),l.default.ready((function(){var n,r;n=u.default.getApiUrl(""),r=u.default.getFrontendUrl(""),u.default.preconnectTo(n),u.default.preconnectTo(n,!0),u.default.preconnectTo(r),u.default.preconnectTo(r,!0),t&&f.default.trackEvent("DOM: Ready",{elapsedTime:Date.now()-e});for(var o={affirm:"affirm_short_logo",Affirm:"affirm_full_logo"},i=document.getElementsByClassName("__affirm-logo"),l=0;l<i.length;l+=1)(0,c.applyLigatures)(i[l],o);(0,c.addInsertListener)("affirm_logo_listener",(function(e){(0,c.applyLigatures)(e,o)})),t&&f.default.trackEvent("Promo: Pre-delay",{elapsedTime:Date.now()-e}),u.default.delay((function(){t&&f.default.trackEvent("Promo: Refresh",{elapsedTime:Date.now()-e}),(0,s.default)({trackPromos:t})})),console&&"function"==typeof console.warn&&u.default.sniffer.failed.forEach((function(e){console.warn("Warning: affirm.js may not work properly due to the follow issue: ".concat(e))})),a.default.ready()}))}))};var r=d(n(3264));n(4686);n(2370);var o=n(1735),i=(d(n(7359)),d(n(5794))),a=d(n(9830)),s=d(n(8276)),u=d(n(2613)),c=n(6516),l=d(n(2650)),f=d(n(2504));function d(e){return e&&e.__esModule?e:{default:e}}},4624:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(2514)),o=s(n(2579)),i=s(n(2158)),a=s(n(2504));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var h=["YOUR_PUBLIC_KEY","XXXXXXXXXXXXXXX"],m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(s,e);var t,n,r,o=f(s);function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=o.call(this)).publicApiKey=null,e.getPublicApiKey()&&e.setPublicApiKey(e.getPublicApiKey()),e}return t=s,n=[{key:"checkPublicApiKey",value:function(){return!!this.getPublicApiKey()}},{key:"getPublicApiKey",value:function(){var e=this.publicApiKey||i.default.queryObj().public_api_key||window._affirm_config&&(window._affirm_config.public_api_key||window._affirm_config.publicApiKey);return-1===h.indexOf(e)?e:null}},{key:"setPublicApiKey",value:function(e){var t=this;this.publicApiKey=e,a.default.tag({public_api_key:e}),i.default.delay((function(){t.trigger("public_api_key_set")}))}}],n&&c(t.prototype,n),r&&c(t,r),s}(r.default),g=new m,y=(0,o.default)(g,["checkPublicApiKey","getPublicApiKey","off","on","setPublicApiKey","trigger"]);t.default=y},176:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(7129)),o=u(n(8628)),i=u(n(3632)),a=u(n(2514)),s=u(n(2579));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(u,e);var t,n,a,s=d(u);function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=s.call(this)).apiTokens=null,e.getApiTokens()&&e.setApiTokens(e.getApiTokens()),e}return t=u,n=[{key:"checkApiTokens",value:function(){return!!this.getApiTokens()}},{key:"getUserApiTokens",value:function(){var e=o.default.buildTarget,t=null;return"test"===o.default.target||"dev"===e?t:t=r.default[i.default.getCountryEnvironment(e)]}},{key:"getApiTokens",value:function(){return this.apiTokens||this.getUserApiTokens()||o.default.apiTokens||null}},{key:"getTrackingBlacklist",value:function(){return this.getApiTokens().tracking_blacklist}},{key:"setApiTokens",value:function(e){this.apiTokens=e}}],n&&l(t.prototype,n),a&&l(t,a),u}(a.default),g=new m,y=(0,s.default)(g,["checkApiTokens","getApiTokens","getTrackingBlacklist","off","on","setApiTokens","trigger"]);t.default=y},3632:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(2514)),o=s(n(8628)),i=s(n(2579)),a=s(n(8022));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(s,e);var t,n,r,i=f(s);function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this)).countryCode=null,e.getCountryCode()&&e.setCountryCode(e.getCountryCode()),e}return t=s,n=[{key:"checkCountryCode",value:function(){return!!this.getCountryCode()}},{key:"getCountryCode",value:function(){var e,t,n,r;return this.countryCode||(null===(e=window)||void 0===e||null===(t=e._affirm_config)||void 0===t?void 0:t.country_code)&&window._affirm_config.country_code||(null===(n=window)||void 0===n||null===(r=n.affirm_config)||void 0===r?void 0:r.country_code)&&window.affirm_config.country_code||o.default.country_code||"USA"}},{key:"getCountryPrefix",value:function(e){var t;if(e&&e.match(/^au-|^ca-/i))return"";var n=this.getCountryCode();return(null===(t=a.default[n])||void 0===t?void 0:t.prefix)||""}},{key:"getCountryCodeAlpha2",value:function(){var e,t=this.getCountryCode();return(null===(e=a.default[t])||void 0===e?void 0:e.alpha2)||"US"}},{key:"getCountryEnvironment",value:function(e){var t=this.getCountryPrefix(e);return""!==t?t.concat("-",e):e}},{key:"setCountryCode",value:function(e){this.countryCode=e}}],n&&c(t.prototype,n),r&&c(t,r),s}(r.default),m=new h,g=(0,i.default)(m,["checkCountryCode","getCountryCode","getCountryCodeAlpha2","getCountryPrefix","getCountryEnvironment","off","on","setCountryCode","trigger"]);t.default=g},6075:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(4349)),o=u(n(8628)),i=u(n(3632)),a=u(n(2514)),s=u(n(2579));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(u,e);var t,n,a,s=d(u);function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=s.call(this)).environmentPaths=null,e.getEnvironmentPaths()&&e.setEnvironmentPaths(e.getEnvironmentPaths()),e}return t=u,n=[{key:"checkEnvironmentPaths",value:function(){return!!this.getEnvironmentPaths()}},{key:"concatUrlFragments",value:function(e){return e.filter((function(e){return!!e})).reduce((function(e,t){return e.concat([t.replace(/\/$/,"")])}),[]).join("/")}},{key:"getPlatformPath",value:function(e,t){return this.concatUrlFragments([e,t||"","platform"])}},{key:"getAssetsRootPath",value:function(e,t,n,r){return this.concatUrlFragments([e,n||"","products",r||"","affirmjs",t,"dist"])}},{key:"getUserEnvironmentPaths",value:function(){var e=o.default.buildTarget,t=o.default.hash,n=null;if("test"===o.default.target||"dev"===e)return n;n=r.default[i.default.getCountryEnvironment(e)];var a=this.getAssetsRootPath(n.cdn_root,"",i.default.getCountryCodeAlpha2(),t);return n.tracking_endpoint=n.affirm_tracking_endpoint,n.platform_cdn_url=this.getPlatformPath(n.cdn_root,""),n.assets_root="".concat(a,"/"),n.promos_url_prefix="".concat(n.platform_cdn_url,"/").concat(n.promos_url_path),n}},{key:"getEnvironmentPaths",value:function(){var e={api_url:o.default.api_url,api_version:o.default.api_version,assets_root:o.default.assets_root,frontend_url:o.default.frontend_url,minified_url:o.default.minified_url,payments_url_base:o.default.payments_url_base,promos_url_prefix:o.default.promos_url_prefix,tracking_endpoint:o.default.tracking_endpoint,cdn_assets_root:o.default.cdn_assets_root,cdn_root:o.default.cdn_root,elastic_cloud_apm_endpoint:o.default.elastic_cloud_apm_endpoint};return this.environmentPaths||this.getUserEnvironmentPaths()||e}},{key:"setEnvironmentPaths",value:function(e){this.environmentPaths=e}}],n&&l(t.prototype,n),a&&l(t,a),u}(a.default),g=new m,y=(0,s.default)(g,["checkEnvironmentPaths","getEnvironmentPaths","off","on","setEnvironmentPaths","trigger"]);t.default=y},8546:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(3632)),o=s(n(2514)),i=s(n(2579)),a=s(n(8022));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var h="en_US",m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(s,e);var t,n,o,i=f(s);function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this)).locale=null,e.getLocale()&&e.setLocale(e.getLocale()),e}return t=s,n=[{key:"checkLocale",value:function(){return!!this.getLocale()}},{key:"getUserLocale",value:function(){var e,t=r.default.getCountryCode();return(null===(e=a.default[t])||void 0===e?void 0:e.defaultLocale)||h}},{key:"getLocale",value:function(){return this.locale||window._affirm_config&&window._affirm_config.locale||this.getUserLocale()||h}},{key:"setLocale",value:function(e){this.locale=e}}],n&&c(t.prototype,n),o&&c(t,o),s}(o.default),g=new m,y=(0,i.default)(g,["checkLocale","getLocale","off","on","setLocale","trigger"]);t.default=y},64:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(4634)),o=i(n(535));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cart={},this.buildTarget="prod-live",this.hash="master",this.pageType="",this.resource_urls={checkout_button_route:"apps/checkout-button/",new_order:"checkout/",product_flows_checkout_route:"products/checkout",new_future_checkout:"checkout/?as_future=1",orders_backend_route:"apps/orders/",prequal_backend_route:"apps/prequal/",prequal_frontend_learn_more_route:"#/prequalifications/learn-more",send_future_checkout:"send_future_checkout",third_party_cookie_check:"cookie_sent"},this.target="prod-live",this.tracking_blacklist={0:"E0QK6BONBI305A0Y"},this.apiTokens={affirmjs_rollbar:"a118d4416b08480984711912aca9ac51",tracking_blacklist:{0:"E0QK6BONBI305A0Y"},rollbar:"dcce876e5122437d8373240f0b7c0778",branch:"key_live_eak0b1ysFeymTfKqPf8GfmjhyFpG45mQ"},this.api_url="https://api-cf.affirm.com/api/v2/",this.api_version="v2",this.assets_root="https://cdn1.affirm.com/products/affirmjs/master/dist/",this.country_code="US",this.frontend_url="https://www.affirm.com",this.minified_url="https://cdn1.affirm.com/js/v2/affirm.js",this.payments_url_base="https://calculator.affirm.com",this.promos_url_prefix="https://cdn1.affirm.com/platform/public/promos/",this.tracking_endpoint="tracker.affirm.com",this.extend=this.extend.bind(this)}var t,n,i;return t=e,i=[{key:"scrubConfig",value:function(e){var t=(0,o.default)({},e);return delete t.scrubConfig,delete t.extend,delete t.learn_more,t}}],(n=[{key:"extend",value:function(t){var n=e.scrubConfig(t);(0,o.default)(this,n),r.default.trigger("config",n)}}])&&a(t.prototype,n),i&&a(t,i),e}();t.default=s},2514:function(e,t){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.on=this.on.bind(this),this.off=this.off.bind(this),this.trigger=this.trigger.bind(this),this.logError=this.logError.bind(this),this.name=t||"AFFIRM_ELEMENT_".concat(Math.round(10*Math.random())),this.uuid="".concat(10*Math.random()).replace(/\./,"-"),this.on("error",this.logError)}var t,o,i;return t=e,o=[{key:"on",value:function(e,t){var n=this,r=e;return"string"==typeof r&&(r=[r]),this.events||(this.events={}),r.forEach((function(e){n.events[e]||(n.events[e]=[]),n.events[e].push(t)})),this}},{key:"off",value:function(e,t){var n=this,r=e;return"string"==typeof r&&(r=[r]),this.events||(this.events={}),r.forEach((function(e){return window.setTimeout((function(){if(n.events[e]){var r=-1;if(Object.keys(n.events[e]).forEach((function(o){n.events[e][o]===t&&(r=o)})),r>=0)return n.events[e].splice(r,1)}}))}))}},{key:"trigger",value:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=e;"string"==typeof o&&(o=[o]),this.events||(this.events={});var i=[];return o.forEach((function(e){n.events[e]&&n.events[e].forEach((function(r){i.push("function"==typeof r.call?r.call(n,t,e):void 0)})),r&&n.events.all&&n.events.all.forEach((function(r){i.push("function"==typeof r.call?r.call(n,t,e):void 0)}))})),i}},{key:"logError",value:function(e,t){var r=t,o=e;"object"===n(e)&&e.data&&(r=e.data.data||{},o=e.data.error_name);var i="Affirm Error (".concat(this.name,"):");try{return console.log(i,o,r)}catch(e){return}}}],o&&r(t.prototype,o),i&&r(t,i),e}();t.default=o},4615:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(2514)),o=s(n(2579)),i=s(n(2613)),a=s(n(2504));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var h=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(s,e);var t,n,r,o=f(s);function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=o.call(this)).data={},e}return t=s,(n=[{key:"get",value:function(){return this.data}},{key:"resetPrequal",value:function(){this.data={},this.trigger("reset")}},{key:"set",value:function(e){i.default.throwErrIfNotObject(e),this.data=e,a.default.trackActionLog("Prequal Config Set",{keys:Object.keys(this.data).join(",")}),this.trigger("set",this.data)}},{key:"updatePrequal",value:function(e){i.default.throwErrIfNotObject(e),this.data=Object.assign(this.data,e),this.trigger("update",this.data)}}])&&c(t.prototype,n),r&&c(t,r),s}(r.default)),m=(0,o.default)(h,["get","resetPrequal","set","updatePrequal"]);t.default=m},9372:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(2514)),o=a(n(2613)),i=a(n(2504));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p="affirm.jsReady",h="affirm.ui.ready",m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(s,e);var t,n,r,a=l(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this)).isReady=!1,t.service=e.service||"",t}return t=s,(n=[{key:"getActionLog",value:function(){var e;switch(this.service){case p:e=window.affirm&&window.affirm._;break;case h:e=window.affirm&&window.affirm.ui&&window.affirm.ui._;break;default:e=[]}return e||[]}},{key:"ready",value:function(e){if(e)if(this.isReady){if("function"==typeof e)try{e()}catch(e){i.default.trackEvent("".concat(this.service," Callback Error"),e)}}else this.on("ready",e);else this.trigger("ready"),this.isReady=!0;return this.isReady}},{key:"runQueuedActions",value:function(){var e=this,t=this.getActionLog();o.default.delay((function(){t.forEach((function(t){e[t[0]].apply(e,t[1])}))}))}}])&&u(t.prototype,n),r&&u(t,r),s}(r.default);t.default=m},2370:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(9686),o=s(n(4624)),i=s(n(6075)),a=n(1735);function s(e){return e&&e.__esModule?e:{default:e}}var u=i.default.getEnvironmentPaths(),c="".concat(u.frontend_url.replace(/\/$/,"")),l={merchant_public_key:o.default.getPublicApiKey()||(0,a.getPublicApiKeyByWindowLocation)()},f=r.AxpClient.initialize(c,{appName:"affirm-js",appVersion:"10.167.1"},l);t.default=f},1594:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cachePromises=a,t.cacheSinglePromise=function(e){var t,n=!1;return function(){return n||(t=e(),n=!0),t}},t.default=void 0;var r,o=(r=n(2613))&&r.__esModule?r:{default:r};var i={};function a(e){var t={};return function(n){if(n in t)return t[n];var r=e(n);return t[n]=r,r}}a((function(e){return Promise.resolve()}));var s={getExperimentPageType:function(e,t){return Promise.resolve(t)},getFinancingExperimentCohortId:function(e){return Promise.resolve()},getUniqueExperimentIDs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t={};return o.default.isObject(e)&&Object.keys(e).forEach((function(n){t[e[n].experimentId]=!0})),Object.keys(t)}};t.default=s},8139:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(1735),o=u(n(8546)),i=u(n(2613)),a=u(n(2504)),s=u(n(4193));function u(e){return e&&e.__esModule?e:{default:e}}var c=["TEST_BLACKLISTED_MERCHANT"],l={all:"all",ala:"ala",modal:"modal"},f={promo:{ala:"Buy in monthly payments with Affirm on orders over $50. Learn more",html_ala:'Buy in monthly payments with Affirm on orders over $50. <a class="affirm-modal-trigger">Learn more</a>',button:"Just select Affirm at checkout.",config:{calculate_ala_option:"longest_loan_term",images:{hero:null,hero2x:null,logo:null,logo2x:null},promo_prequal_enabled:!1,styles:{color:null,fontFamily:null}},content_space_1:"quick_and_easy",content_space_2:"no_hidden_fees",footer:"Subject to credit check and approval. Down payment may be required. Available for purchases over $50. Estimated payment amount excludes taxes and shipping fees. Payment options through Affirm are provided by these lending partners: affirm.com/lenders. See affirm.com/faqs for details.",headline:"Make easy monthly payments for your purchase",tagline:"Rates from 10-30% APR"},offer:{terms:[],expiry:null}};var d={getPromoConfig:function(e,t,n,r){var o=i.default.getApiUrl("promos/".concat(e,"/").concat(t));return n&&(o+="?promo_external_id=".concat(n)),window.fetch(o).then((function(e){return e.ok?e.json().then((function(t){return a.default.trackAPI(e.url,e.status,t),t})):e.json().then((function(t){return a.default.trackAPI(e.url,e.status,t.message),r}))}))},getPromoResponse:function(e,t,n){var u,c=l[n]||l.all;return(0,r.getCSMPrequalExperiment)(!0).then((function(n){var a=!n,l="".concat("api/promos/v2","/").concat(e).concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.default)(e,(function(e){return""!==e&&null!=e}));return e&&Object.keys(t).length?"?".concat(Object.keys(t).map((function(e){return t[e]?"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e])):""})).join("&")):""}({amount:t.amount,field:c,items:(0,r.getItemsInput)(t.items),locale:o.default.getLocale()||null,logo_color:t.logoColor,logo_type:t.logoType,page_type:t.pageType,promo_external_id:t.promoId,show_cta:t.showCTA,disable_prequal:a||null}));return u=i.default.getFrontendUrl(l),window.fetch(u,{credentials:"include"})})).then((function(e){return e.ok?e.json().then((function(t){return a.default.trackAPI(e.url,e.status,t),t})):e.json().then((function(t){return a.default.trackAPI(e.url,e.status,t.message),f}))})).catch((function(e){return a.default.trackAPI(u,500,"Promo fetch error message: ".concat(e?e.message:"FALSY ERROR OBJECT")),f}))},useV2Api:function(e,t){var n,r=-1!==c.indexOf(e);return t?(n=t)&&n.indexOf&&0===n.indexOf("promo_set")&&!r:!r},DEFAULT_PROMO_RESPONSE:f,TEMPLATE_FIELD:l};t.default=d},8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!o.default.sniffer.cors)return(0,r.showError)({body:"Your browser is missing important features that allow Affirm checkout to work properly. Please upgrade your browser at http://browsehappy.com before continuing.",title:"Your browser is out of date"}),i.default.trackEvent("CORS not available"),!1;return!0};var r=n(6103),o=a(n(2613)),i=a(n(2504));function a(e){return e&&e.__esModule?e:{default:e}}},536:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(8628)),o=n(6516),i=c(n(4624)),a=c(n(176)),s=c(n(6075)),u=c(n(2504));function c(e){return e&&e.__esModule?e:{default:e}}var l,f,d=i.default.getPublicApiKey(),p=s.default.getEnvironmentPaths();l=a.default.getTrackingBlacklist(),f=d,(0,o.indexOf)(l,f)>-1||(u.default.init("affirm-js-v2","10.167.1",p.api_url,p.tracking_endpoint,{},!1,0,[p.api_url,p.frontend_url,p.minified_url],!1,!1,.01,!1,1,p.frontend_url),d||u.default.trackEvent("Merchant API Key Not Set",{},.01));var h=r.default;t.default=h},110:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SPECIAL_SPLITTING_PUBLIC_API_KEYS=t.CSM_PREQUAL_PUBLIC_API_KEYS=void 0;t.SPECIAL_SPLITTING_PUBLIC_API_KEYS=["0IG46T5QMF0HQCVJ","ZX67WEM48P0CITDQ","NP70PDQCUSKRTDUV","WPNP0URIGLIVJQWH","PreSeededApiKeyAdaptiveIntl2","PreSeededApiKeyDirect","NK1IPXSWACQWMA66","48GVRHRRAAAXVWXR","IG55M62K4XPNNC8L","QGWQQRVF4VCMG61M","JDSM0ZS04RXMJC9M"];t.CSM_PREQUAL_PUBLIC_API_KEYS=["NUVOYEZ02SG5410T","77LMI4T0LGU6901G","HRFAB0EUSCVMFN8E","I8814P5JRWVJU7G9","EDQ89Q4TWDTJQJMB","QC68KO2P8N9DO377","AKQ4NQWKGQHNCOJL","YJ978EA9EIHRI7CN","JJZMSJXN69SH093S","FMLR2YS9VQL68QB4","6HDNQ9YCNUNWNETV","RRNARGUUTDTD7CVP","II30SB626MG0YO4F","XPP2OI730KPVP4BU","NQA9LHL3X482X5FH","PT9XQ44ISFW71Z7Z","5RL9MO2349UNQUT1","XJ392E6ZF6QFTC5F","GHS3QH4MQSA91DJG","P7L97E23U6VHE00R","XINJCX6L449ND4H8","8WG6C73IQUJVBQIX","T95R36WAISM85EOE","VL3WPBF9JWX6TBFX","APB2Q9XJTV10D566","O2OKD4223SN3N4O8","V4G29OAYLGVGOQSD","T1LND18HWWCHZ26P","W6U1KRH5MBKIPWBU","9R9U0837A6PI2T4J","WAJU0OI47SXWJ7XW","4BK2IA4VJX5DI9KG","YUWEV2RA1LQ8ILZJ","VEMNOXBR7NMEM5MD","VWTMEDKWJAUVYEW8","66QUGMVS6NZRNLQM","LBX635GQ9CLU8K49","JSGOHVM392OQDR61","QKDW9C8302PYRJRV","TQJMGL0OOEBG0F1O","G2C9TH2O25MAFOP1","1PDPWFEN3LQXAMLK","E267IYS3R4CV5E4I","1ROZO5Q10NLTCN6M","HE5Y624C8TRY1A99","94P300F1MXDELRSE","H9VJFGNT8YYDQQ3R","49GA6GOMUBWVJ4ZN","CUF972XT6S4DA5R4","BGRBKYV6MMCWDGAM","JRA8RIFRJJEGIO2Y","BLUMXJJSTDVA4FF3","CD1OJQU7SD5I22NC","2T78WTC6S7ITF9UZ","4DXMCLJ503EHF38X","TCB8DC3Y579VYZL2","VQB8FFK44JDGZXXW","QQKFTYVDV8YII6U9","IXYSI8WYOGV161MX","X2B2MHIJEEW9M1U9","7HVIZQ9YM2OAL1J8","BX4DMVR4L2VAHJF5","DU72MDDDAY3KFTPS","INSXV6AA71ILTMNZ","OGXDFQUU1J2H56Y7","0R0VFA24I6STNZOO","NXFBH7X2Z3I78Z9L","UGNTW60UWG1VHT12","Z8NLZOP86N0XX3I8","F9VNNHC570KTJA52","CQ30808EI73ZTVG9","GE8BDYUW03CY2TBP","BRFB9NVVQYU34HSB","2KLADT837R63S162","KHFI2ESQH3OKE7HP","IY8UQ5U98OGUDG7H","FJ0HWWYPQQAJREI0","BDMJQG4QSXIOQLVJ","HM33TQ8KE8IV209U","2S9WWFMHQUWNAO0U","C3411WDPH74QMYXA","TB0BC7YZBEF1KIM4","HY76GM119UW196IU","CQFEQ4RCYJ61XZ0G","B2SUIQPPHGEG52HG","U3ZSPWNHX1ZAOEIO","3FR7EO1N72J5FNJB","PZ4IOEU3Q063O6AA","38OI8ZTSASOD04YF","VPGL5CVUN3CAB0SE","KQA6WM98M2A2QCI9","2SMIW5BWXEPSJ0V3","0VGLE33QPFK5M3JZ","U2RR369Z2OEWVKRH","E9I6JXYG0VIPQWJE","VGLM0A60108RZ9NW","Q9XLYO9RQ3VSA6XM","VCG4FREPOSBKITT8","E9VMFF47Q8BMHB9P","LVEC84XYH1TYGG30","E3CZ9Q1T1EN4S19F"]},4997:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trackPromotionViewed=t.trackPromotionClicked=t.trackProductsSearched=t.trackProductViewed=t.trackProductRemoved=t.trackProductListViewed=t.trackProductClicked=t.trackProductAdded=t.trackOrderUpdated=t.trackOrderRefunded=t.trackOrderConfirmed=t.trackOrderCancelled=t.trackCheckoutStepViewed=t.trackCheckoutStepCompleted=t.trackCheckoutStarted=t.trackCheckoutPaymentEntered=t.trackCartViewed=t.schematizePromotion=t.schematizeProduct=t.schematizeOrder=t.schematizeListOfProducts=t.schematizeCart=void 0;var r,o=(r=n(2504))&&r.__esModule?r:{default:r},i=n(1735);var a=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s=function(e){return/^\d+$/.test(e)},u=function(e){return null==e},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.label,r=a(t,"step"),o=["currency","orderId","paymentMethod","total"],i=o.filter((function(t){return u(e[t])}));if(r){var c=u(t.step);c&&i.push("step")}if(i.length>0){var l=i.map((function(e){return'"'.concat(e,'"')})).join(", "),f="Affirm.js - Error calling ".concat(n,". Required fields: ").concat(l,".");return{isValid:!1,errorMessage:f}}var d=s(e.total);if(!d){var p="Affirm.js - Error calling ".concat(n,'. "total" field must be an integer.');return{isValid:!1,errorMessage:p}}return{isValid:!0,errorMessage:null}},l=function(e,t){return{timestamp:(new Date).toISOString(),currency:e.currency,orderId:e.orderId,paymentMethod:e.paymentMethod,orderTotal:e.total,product:t}},f=function(e,t){return{timestamp:(new Date).toISOString(),currency:e.currency,order_id:e.orderId,payment_method:e.paymentMethod,order_total:e.total,step:t}},d=function(e){return{ctid:e.cartId,ctnm:e.name}};t.schematizeCart=d;var p=function(e){return{ltid:e.listId,ltc:e.category,ltnm:e.name}};t.schematizeListOfProducts=p;var h=function(e){return{osn:e.storeName,oci:e.checkoutId,occ:e.coupon,ocu:e.currency,od:e.discount,ooi:e.orderId,opm:e.paymentMethod,or:e.revenue,os:e.shipping,osm:e.shippingMethod,otx:e.tax,ot:e.total}};t.schematizeOrder=h;var m=function(e){return{prbr:e.brand,prca:e.category,prcc:e.coupon,prcu:e.currency,prnm:e.name,prpr:e.price,prid:e.productId,prqt:e.quantity,prva:e.variant}};t.schematizeProduct=m;var g=function(e){return{pmmc:e.creativeId,pmms:e.message,pmpo:e.position,pmpi:e.promotionId}};t.schematizePromotion=g;t.trackProductsSearched=function(e){var t={query:decodeURIComponent(e)};o.default.trackEvent("trackProductsSearched",t,1,!1)};t.trackProductListViewed=function(e,t){var n={list:p(e),products:t.map((function(e){return m(e)}))};o.default.trackEvent("trackProductListViewed",n,1,!1)};t.trackPromotionViewed=function(e){var t={promotion:g(e)};o.default.trackEvent("trackPromotionViewed",t,1,!1)};t.trackPromotionClicked=function(e){var t={promotion:g(e)};o.default.trackEvent("trackPromotionClicked",t,1,!1)};t.trackProductClicked=function(e){var t={product:m(e)};o.default.trackEvent("trackProductClicked",t,1,!1)};t.trackProductViewed=function(e){var t={product:m(e)};o.default.trackEvent("trackProductViewed",t,1,!1)};t.trackProductAdded=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={cart:d(t),product:m(e)};o.default.trackEvent("trackProductAdded",n,1,!1)};t.trackProductRemoved=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={cart:d(t),product:m(e)};o.default.trackEvent("trackProductRemoved",n,1,!1)};t.trackCartViewed=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={cart:d(t),products:e.map((function(e){return m(e)}))};o.default.trackEvent("trackCartViewed",n,1,!1)};t.trackCheckoutStarted=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t||[];if(n){var a=c(e,{label:"trackCheckoutStarted"}),s=a.isValid,u=a.errorMessage;return s?o.default.trackEvent("UserBeginsPixelOrder",l(e,r),1,!1,n):(0,i.logWarning)(u)}return o.default.trackEvent("trackCheckoutStarted",{order:h(e),products:r.map(m)},1,!1,n)};t.trackCheckoutStepViewed=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n){var r=c(t,{label:"trackCheckoutStepViewed",step:e}),a=r.isValid,s=r.errorMessage;return a?o.default.trackEvent("UserViewsPixelCheckoutStep",f(t,e),1,!1,n):(0,i.logWarning)(s)}return o.default.trackEvent("trackCheckoutStepViewed",{step:e,order:h(t)},1,!1,n)};t.trackCheckoutStepCompleted=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n){var r=c(t,{label:"trackCheckoutStepCompleted",step:e}),a=r.isValid,s=r.errorMessage;return a?o.default.trackEvent("UserCompletesPixelCheckoutStep",f(t,e),1,!1,n):(0,i.logWarning)(s)}return o.default.trackEvent("trackCheckoutStepCompleted",{step:e,order:h(t)},1,!1,n)};t.trackCheckoutPaymentEntered=function(e,t){var n={order:h(t),step:e};o.default.trackEvent("trackCheckoutPaymentEntered",n,1,!1)};t.trackOrderConfirmed=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t||[];if(n){var a=c(e,{label:"trackOrderConfirmed"}),s=a.isValid,u=a.errorMessage;return s?o.default.trackEvent("UserConfirmsPixelOrder",l(e,r),1,!1,n):(0,i.logWarning)(u)}return o.default.trackEvent("trackOrderConfirmed",{order:h(e),products:r.map(m)},1,!1,n)};t.trackOrderCancelled=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t||[];if(n){var a=c(e,{label:"trackOrderCancelled"}),s=a.isValid,u=a.errorMessage;return s?o.default.trackEvent("UserCancelsPixelOrder",l(e,r),1,!1,n):(0,i.logWarning)(u)}return o.default.trackEvent("trackOrderCancelled",{order:h(e),products:r.map(m)},1,!1,n)};t.trackOrderRefunded=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=r||[],a={amount:e,currency:t,orderId:n,products:i.map((function(e){return m(e)}))};o.default.trackEvent("trackOrderRefunded",a,1,!1)};t.trackOrderUpdated=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t||[];if(n){var a=c(e,{label:"trackOrderUpdated"}),s=a.isValid,u=a.errorMessage;return s?o.default.trackEvent("UserUpdatesPixelOrder",l(e,r),1,!1,n):(0,i.logWarning)(u)}return o.default.trackEvent("trackOrderUpdated",{order:h(e),products:r.map(m)},1,!1,n)}},2158:function(e,t){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){var t=e?function(e){var t=e.indexOf("?");return t>-1?e.substring(t):""}(e):window.location.search,r={};return t.slice(1).split("&").forEach((function(e){if(e){var t=n(e.split("="),2),o=t[0],i=t[1];r[o]=i||""}})),r}function i(e,t){setTimeout(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.delay=i,t.queryObj=o;var a={queryObj:o,delay:i};t.default=a},194:function(e,t,n){"use strict";var r;function o(e,t,n){var r=t.shift();if(0===t.length){var i;if(r in e)for(i in e[r])e[r].hasOwnProperty(i)&&!n.hasOwnProperty(i)&&(n[i]=e[r][i]);e[r]=n}else r in e||(e[r]={}),o(e[r],t,n);return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,(0,((r=n(2379))&&r.__esModule?r:{default:r}).default)();var i=function(e,t){var n=e.split(".");return o(window.affirm,n,t)};t.default=i},1735:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.featureFlagNames=t.POST_MESSAGE_CHANNEL=t.FEATURE_FLAG_STATUS=t.CSM_PREQUAL_EXPERIMENT=void 0,t.getCSMPrequalExperiment=function(e){if(-1===o.CSM_PREQUAL_PUBLIC_API_KEYS.indexOf(r.default.getPublicApiKey()))return Promise.resolve(!0);null===d&&(d=a.AxpClient.getExperimentVariants([l]));return d.then((function(t){d=null;var n=t.csm_prequal_experiment,r="treatment"===n;return e&&a.AxpClient.trackImpression(l,n,r?a.impressionTypes.SHOWN_TREATMENT:a.impressionTypes.SHOWN_DEFAULT),r})).catch((function(e){return d=null,window.affirm&&window.affirm.Rollbar&&"function"==typeof window.affirm.Rollbar.warning&&Math.random()<.1&&window.affirm.Rollbar.warning("AXP Impression failed",e),!1}))},t.getFeatureFlagStatus=function(e){return a.AxpClient.getAxpVariants({featureFlagNames:Object.keys(f)}).then((function(t){return t.featureFlagVariants[e]||c.FEATURE_OFF})).catch((function(e){return window.affirm&&window.affirm.Rollbar&&"function"==typeof window.affirm.Rollbar.warning&&Math.random()<.1&&window.affirm.Rollbar.warning("AXP Variant fetch failed",e),!1}))},t.getItemsInput=function(e){if(!e||!e.length)return null;var t=e.map(p);return JSON.stringify(t)},t.getModes=void 0,t.getPublicApiKeyByWindowLocation=function(){var e=window.location.hostname;return s.default.trackActionLog("AJFS_public_key_from_window_location"),e.indexOf("americangirl.com")>-1?"J58O9ZQ92CVD2JUI":e.indexOf("shiekh.com")>-1?"Y7YCRFSNMXGWVY2B":e.indexOf("eshakti.com")>-1?"FDZPOIM536QEZPP5":e.indexOf("511tactical.com")>-1?"4UDO5IUJVOMQ5PHD":e.indexOf("luisaviaroma.com")>-1?"19QM9L004P0D521M":e.indexOf("neimanmarcus.com")>-1?"BF1E98V0I4ZFN4LF":e.indexOf("mavix.com")>-1?"5HQ4NWB4X643A4GM":e.indexOf("revzilla.com")>-1?"LV2522QG9NXCFS23":e.indexOf("adidas.com")>-1?"LFZI1FWRYWDJ5VO4":""},t.logWarning=void 0,t.throttle=h;var r=u(n(4624)),o=n(110),i=u(n(2158)),a=n(9686),s=u(n(2504));function u(e){return e&&e.__esModule?e:{default:e}}t.POST_MESSAGE_CHANNEL="affirm";var c={FEATURE_OFF:"feature_off",FEATURE_ON:"feature_on"};t.FEATURE_FLAG_STATUS=c;var l="csm_prequal_experiment";t.CSM_PREQUAL_EXPERIMENT=l;var f={test_ff_dont_remove:"test_ff_dont_remove"};t.featureFlagNames=f;var d=null;function p(e){return{sku:e.sku,display_name:e.displayName,qty:e.qty,unit_price:e.unitPrice,item_url:e.itemUrl,item_image_url:e.itemImageUrl,upc:e.upc}}function h(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return function(){t||(e.apply(void 0,arguments),t=!0,setTimeout((function(){t=!1}),n))}}var m=h((function(e){var t,n,r;console.warn(e),null===(t=window)||void 0===t||null===(n=t.affirm)||void 0===n||null===(r=n.Rollbar)||void 0===r||r.warning(e)}));t.logWarning=m;t.getModes=function(){return i.default.queryObj().modes||window._affirm_config&&window._affirm_config.modes||null}},7605:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.Z=function(){(0,u.default)("config",s.default),(0,u.default)("promo",f.default),(0,u.default)("util",m.default),(0,u.default)("jsReady",h.default.ready),(0,u.default)("checkout",a.default),(0,u.default)("events",g.default),(0,u.default)("product",l.default),(0,u.default)("ui",p.default),(0,u.default)("ui.components",d.default),(0,u.default)("findAffirmConfig",A.findAffirmConfig),(0,u.default)("setAffirmConfig",A.setAffirmConfig),(0,u.default)("ui.error",_.showError),(0,u.default)("widgets.learn_more",b.default),(0,u.default)("widgets.as_low_as",v.default),(0,u.default)("analytics",i),(0,u.default)("ui.modal",P.default),(0,u.default)("ui.modal_access",E.default),(0,u.default)("ui.payments",k.default),(0,u.default)("ui.template",S.default),(0,u.default)("ui.refresh",O.default),(0,u.default)("ui.openModal",w.default),(0,u.default)("ui.prequal",y.default),(0,u.default)("prequal",c.default),(0,u.default)("apiKey",o.default)};var o=I(n(4624)),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=C();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(4997)),a=I(n(8445)),s=I(n(536)),u=I(n(194)),c=I(n(4615)),l=I(n(2149)),f=I(n(2851)),d=I(n(4747)),p=I(n(9830)),h=I(n(5794)),m=I(n(2613)),g=I(n(4634)),y=I(n(4838)),v=I(n(2889)),A=n(679),_=n(6103),b=I(n(4644)),w=I(n(6442)),E=I(n(8995)),k=I(n(1684)),O=I(n(8276)),S=I(n(4790)),P=I(n(5556));function C(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return C=function(){return e},e}function I(e){return e&&e.__esModule?e:{default:e}}},2379:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){window.affirm=window.affirm||{},window.affirm.lib={},window.affirm.VERSION="@VERSION",window.affirm.VERSION_DATE="@DATE"}},2149:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(n(4624)),i=c(n(536)),a=(c(n(194)),c(n(2613))),s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1849));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(e){return e&&e.__esModule?e:{default:e}}var l={};function f(e,t){var n=a.default.getDomain(i.default.assets_root),r="".concat(n,"0/merchant/").concat(o.default.getPublicApiKey(),"/product/").concat(e,"/config.json"),u="_".concat(Math.round(1e14*Math.random()));l.callbacks[u]=function(n){l.products[e]=n;try{t(n)}catch(e){}try{i.default.merchant=n.merchant_name}catch(e){}},l.__callbacks=l.callbacks,s.loadjs("".concat(r,"?callback=affirm.product.__callbacks.").concat(u))}Object.assign(l,{callbacks:[],clearCache:function(){this.products={},this.__products=this.products},get:function(e,t){var n=this;if(this.products[e]&&"function"==typeof t)return a.default.delay((function(){return t(n.products[e])}));o.default.getPublicApiKey()&&f(e,t),o.default.on("public_api_key_set",(function n(){f(e,t),o.default.off("public_api_key_set",n)}))},products:{}});var d=l;t.default=d},2851:function(e,t,n){"use strict";var r,o=(r=n(2504))&&r.__esModule?r:{default:r};var i={};e.exports={onClick:function(e,t){i[e]=t},getClickHandler:function(e){var t=Object.keys(i).filter((function(t){return function(e,t){return(Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector).call(e,t)}(e,t)}));return 0===t.length?null:(t.length>1&&o.default.trackEvent("Element matches multiple selectors",t.length),i[t[0]])}}},7359:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AppRegistry=t.App=void 0;var r=g(n(3264)),o=g(n(4624)),i=g(n(536)),a=g(n(4946)),s=g(n(4634)),u=g(n(2504)),c=g(n(4615)),l=g(n(8469)),f=n(4686),d=g(n(2579)),p=g(n(9340)),h=g(n(2613)),m=n(6516);function g(e){return e&&e.__esModule?e:{default:e}}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),e}function k(e,t,n){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},k(e,t,n||e)}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function I(){return I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}var T={},M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(n,e);var t=S(n);function n(e){var r;b(this,n);var o=h.default.getFrontendUrl("apps/".concat(e,"/"));return(r=t.call(this,o)).appName=e,r.configKeys=[],r.breakpointIndex=null,r.setupListeners(),r.processBreakpoints(),r.wrapper.setAttribute("data-test-id","".concat(e,"-wrapper")),r.frame.setAttribute("data-test-id","".concat(e,"-frame")),r.frame.setAttribute("title","Affirm ".concat(e)),r}return E(n,[{key:"open",value:function(e){this.send(f.Events.open,I({merchantPublicApiKey:o.default.getPublicApiKey()},e))}},{key:"close",value:function(){k(C(n.prototype),"close",this).call(this),window.removeEventListener("orientationchange",this.processBreakpoints),window.removeEventListener("resize",this.processBreakpoints)}},{key:"setupListeners",value:function(){var e=this;this.on(f.Events.style,this.applyStyles),this.on(f.Events.dataRequest,(function(t){t.sources.forEach((function(t){return e.handleDataRequest(t)}))})),this.on(f.Events.open,(function(e){var t=e.app,n=e.data;t===f.Apps.prequal?function(e){if(!T[e]){var t=c.default.get();T[e]=new l.default(I({},t,{urlParams:{unit_price:e,device_id:r.default.localDeviceId,merchant_name:t.merchant_name,referring_url:encodeURIComponent(window.location.href),webhook_session_id:t.webhook_session_id||h.default.getWebhookSessionId()}}))}T[e].open(),T[e]}(n.amount):R.open(t,n)})),s.default.on("config",(function(t){e.sendMerchantConfig(t)})),this.on(f.Events.close,(function(){return e.close()})),window.addEventListener("orientationchange",(function(){return e.processBreakpoints()})),window.addEventListener("resize",(function(){return e.processBreakpoints()}))}},{key:"handleDataRequest",value:function(e){var t,n=e.source,r=e.query,o=(_(t={},f.Sources.merchantConfig,this.handleMerchantConfigRequest),_(t,f.Sources.breakpoints,this.handleBreakpointRequest),t)[n];o&&o.call(this,r)}},{key:"handleBreakpointRequest",value:function(e){var t=e.breakpoints;this.breakpoints=t,this.processBreakpoints()}},{key:"getBreakpointIndex",value:function(e){var t=(0,m.findIndex)(this.breakpoints,(function(t){return e<=t}));return t<0?this.breakpoints.length:t}},{key:"processBreakpoints",value:function(){if(this.breakpoints){var e=this.getBreakpointIndex(window.innerWidth);e!==this.breakpointIndex&&(this.breakpointIndex=e,this.send(f.Events.dataResponse,_({},f.Sources.breakpoints,{breakpointIndex:this.breakpointIndex})))}}},{key:"handleMerchantConfigRequest",value:function(e){var t=e.keys;this.configKeys=t,this.sendMerchantConfig(i.default)}},{key:"getMerchantConfig",value:function(e){var t={};return this.configKeys.forEach((function(n){var r=m.get.apply(void 0,[e].concat(v(n.split("."))));void 0!==r&&(t[n]=r)})),t}},{key:"sendMerchantConfig",value:function(e){var t=this.getMerchantConfig(e);Object.keys(t).length&&this.send(f.Events.dataResponse,_({},f.Sources.merchantConfig,t))}},{key:"applyStyles",value:function(e){var t=e.styles,n=_({},f.Selectors.wrapper,this.wrapper);t.forEach((function(e){var t=e.selector,r=e.style;n[t]&&Object.assign(n[t].style,r)}))}}]),n}(a.default);t.App=M;var x=function(){function e(){b(this,e),this.appRegistry={},this.eligible=p.default.isModalSupported()}return E(e,[{key:"open",value:function(e,t){var n=this;return this.eligible.then((function(r){try{return r&&(n.appRegistry[e]||(n.appRegistry[e]=new M(e)),n.appRegistry[e].open(t)),r}catch(e){return void u.default.trackActionLog("AppService Open Error",{errorMessage:e&&e.message})}}))}},{key:"close",value:function(e){var t=this.appRegistry[e];t&&(t.close(),delete this.appRegistry[e])}},{key:"reset",value:function(){Object.keys(this.appRegistry).forEach(this.close)}}]),e}();t.AppRegistry=x;var R=new x,j=(0,d.default)(R,["close","open","reset"]);t.default=j},8445:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=y(n(3264)),o=y(n(4624)),i=y(n(536)),a=y(n(6075)),s=y(n(2514)),u=y(n(2149)),c=y(n(8)),l=y(n(3873)),f=y(n(9213)),d=y(n(7502)),p=y(n(166)),h=y(n(9340)),m=y(n(2613)),g=y(n(2504));function y(e){return e&&e.__esModule?e:{default:e}}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function A(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b="Checkout initiated",w=a.default.getEnvironmentPaths();function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return E.set(e)}["on","off","trigger"].forEach((function(e){E[e]=s.default.prototype[e]})),m.default.extend(E,{add:function(){var e=this;this.data.items||(this.data.items={});for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){[].concat(t).forEach((function(t){var n=t;["sku","unit_price"].forEach((function(e){if(null==n[e])throw"No ".concat(e," given for item")})),n.qty||(n.qty=1),["qty","unit_price"].forEach((function(e){if(n[e]=parseInt(n[e],10),"NaN"===n[e].toString())throw"item ".concat(e," must be an integer")})),e.data.items[n.sku]&&e.data.items[n.sku].sku===n.sku?e.data.items[n.sku].qty+=parseInt(n.qty,10):e.data.items[n.sku]=n}))})),this},attr:function(e,t){if("items"===e)return t&&this.items()?(this.empty(),this.add(t)):this.items();if(["productKey","financial_product_key"].indexOf(e)>-1)return null!=t?this.setProduct(t):this.getProduct();if(["publicApiKey","public_api_key"].indexOf(e)>-1)return null!=t?o.default.setPublicApiKey(t):o.default.getPublicApiKey();var n,r;n=e.match(/^[^.]+(\.[^.]+)+$/)?e.split("."):e.match(/^[^[\]]+(\[[^[\]]+])+$/)?e.replace("][","]").replace(/]$/,"").split(/]|\[/):[e];for(var i=this.data;r=n.shift();){if(null!=t&&0===n.length)return i[r]=t,this;if(null==i[r]){if(null==t)return null;i[r]={}}i=i[r]}return null!=t?this:i},checkCaasParams:function(e){if("string"!=typeof e.merchant.caas)throw new Error("Caas parameter must be string.");if(!this.isModal(e))throw new Error("Credit as a Service is only compatible with mode modal.")},checkData:function(e,t){var n=this;if(Array.isArray(t)){var r=[];return t.forEach((function(e){r.push(n.checkData(null,e))})),r}if(m.default.isObject(t)){var o={};return Object.keys(t).forEach((function(e){o[e]=n.checkData(e,t[e])})),o}return"name"===e&&"string"==typeof t?{full:t}:void 0===t?null:t},cleanData:function(){return this.checkData(null,m.default.extend({},this.data))},close:function(){g.default.trackUserInteraction("Inline Checkout closed"),f.default.hide(this.inlineCheckoutWidget)},currentProduct:null,empty:function(){return this.data.items={},this},get:function(e){return this.attr(e)},getProduct:function(){return this.currentProduct},init:function(){var e,t=this;this.data={items:{}},this._data=this.data,e=window.affirm.checkout&&window.affirm.checkout._?window.affirm.checkout._:[],m.default.delay((function(){e.forEach((function(e){t[e[0]].apply(t,A(e[1]))})),t.ready()}))},inline:function(e){var t=this;null!=e.data&&this.set(e.data);var n={container:e.merchant&&e.merchant.inline_container,data:Object.assign({},this.payload())},r={checkoutData:{}};["total","financing_program","order_id"].forEach((function(e){t.data[e]&&(r.checkoutData[e]=t.data[e])})),g.default.trackImpression("Inline Checkout initiated",r),this.inlineCheckoutWidget?this.inlineCheckoutWidget.update(n):(this.inlineCheckoutWidget=new p.default(n),this.inlineCheckoutWidget.on("removed",(function(){return delete t.inlineCheckoutWidget}))),f.default.show(this.inlineCheckoutWidget)},isModal:function(e){return e&&e.metadata&&e.metadata.mode===h.default.MODE_MODAL},isReady:!1,items:function(){var e=this;this.data.items||(this.data.items={});var t=[];return m.default.isObject(this.data.items)&&Object.keys(this.data.items).forEach((function(n){t.push(e.data.items[n])})),t},open:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null!=t.checkout_data&&this.set(t.checkout_data),!(0,c.default)())return!1;var n=this.get("metadata")||{};t.merchant&&t.merchant.use_vcn||g.default.trackEvent(b,{widgetMode:n.mode});var r=m.default.extend({checkoutPayload:Object.assign({},this.payload()),mode:n.mode||"redirect"},this.cleanData());return t.onFail&&(r.onFail=t.onFail),t.onOpen&&(r.onOpen=t.onOpen),t.onSuccess&&(r.onSuccess=t.onSuccess),t.onValidationError&&(r.onValidationError=t.onValidationError),this.checkoutWidget||(t.modalContainerId?(r.checkoutPayload.metadata=Object.assign({external_modal:!0},r.checkoutPayload.metadata),this.checkoutWidget=new d.default(r,{container:document.getElementById(t.modalContainerId),iframe_container_css:{position:"relative",height:"100%"}})):this.checkoutWidget=new d.default(r),this.checkoutWidget.on("unload",(function(){return delete e.checkoutWidget})),this.checkoutWidget.open()),this},openVcn:function(e){var t=m.default.extend(e,{checkout_data:{merchant:{use_vcn:!0}}}),n=t.checkout_data.metadata||{};if(g.default.trackEvent("VCN Checkout initiated",{widgetMode:n.mode}),n.mode=n.mode||d.default.MODE_POPUP,t.checkout_data.metadata=n,!t.success||!t.error)throw"success and error callbacks must be specified";t.onFail=t.error,t.onSuccess=t.success,t.onOpen=t.open,delete t.error,delete t.success,delete t.open,this.open(t)},payload:function(){var e=o.default.getPublicApiKey();return m.default.extend({api_version:w.api_version,bluecore_distinct_id:l.default.getDistinctID(e),bluecore_token:l.default.getToken(e),config:{financial_product_key:E.getProduct()},merchant:{public_api_key:e},meta:{__affirm_tracking_uuid:r.default.localDeviceId,release:null!=(null!=i.default?i.default.version:void 0),user_timezone:m.default.getUserTimeZone()}},this.cleanData())},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.open(m.default.extend(e,{redirect:!0}))},ready:function(e){e?this.isReady?"function"==typeof e&&e():this.on("ready",e):(this.trigger("ready"),this.isReady=!0)},reset:function(){return this.data={items:{}},this._data=this.data,this},set:function(e,t){var n=this;if(!t&&"object"===v(e)){var r=m.default.extend({},e);return["financial_product_key","items","productKey","public_api_key","publicApiKey"].forEach((function(e){r[e]&&(n.attr(e,r[e]),delete r[e])})),this.data=m.default.extend(this.data||{},r),this._data=this.data,d.default.isCaas(this.data)&&this.checkCaasParams(this.data),this.data.config&&this.data.config.public_api_key&&o.default.setPublicApiKey(this.data.config.public_api_key),this}return this.attr(e,t)},setProduct:function(e){var t=this;e!==this.currentProduct&&(this.currentProduct=e,this.trigger("product_changed",this.getProduct()),m.default.delay((function(){return u.default.get(t.currentProduct)}))),g.default.tag({productKey:e})}}),E.open_vcn=E.openVcn,E.init();var k=E;t.default=k},8628:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=new(((r=n(64))&&r.__esModule?r:{default:r}).default);t.default=o},4634:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(2514)),o=i(n(2579));function i(e){return e&&e.__esModule?e:{default:e}}var a=new r.default,s=(0,o.default)(a,["off","on","trigger"]);t.default=s},9213:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(2579));function o(e){return e&&e.__esModule?e:{default:e}}var i=new(o(n(9176)).default),a=(0,r.default)(i,["hide","remove","show"]);t.default=a},5794:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(2579));function o(e){return e&&e.__esModule?e:{default:e}}var i=new(o(n(9372)).default)({service:"affirm.jsReady"});i.runQueuedActions();var a=(0,r.default)(i,["ready"]);t.default=a},7753:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(539),o=a(n(2613)),i=a(n(2579));function a(e){return e&&e.__esModule?e:{default:e}}var s=new r.Client("affirm-js",o.default.getDomain()),u=(0,i.default)(s,["notify","tearDown"]);t.default=u},4748:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=n(539),i=(r=n(2579))&&r.__esModule?r:{default:r};var a=new o.Host,s=(0,i.default)(a,["createClient","getClient","removeClient"]);t.default=s},4838:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(2579));function o(e){return e&&e.__esModule?e:{default:e}}var i=new(o(n(2154)).default),a=(0,r.default)(i,["launchPrequalFlow"]);t.default=a},9830:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(9372)),o=i(n(2579));function i(e){return e&&e.__esModule?e:{default:e}}var a=new r.default({service:"affirm.ui.ready"});a.runQueuedActions();var s=(0,o.default)(a,["on","off","ready","trigger"]);t.default=s},2579:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={instance:e};return t.forEach((function(t){n[t]=e[t].bind(e)})),n}},7502:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TRACK_CHECKOUT_MODAL_PAGE=void 0;var r=b(n(5573)),o=b(n(3264)),i=b(n(1594)),a=b(n(4624)),s=b(n(8546)),u=b(n(536)),c=b(n(4634)),l=b(n(7753)),f=b(n(4418)),d=n(6103),p=b(n(9340)),h=b(n(5256)),m=n(6516),g=b(n(2613)),y=b(n(2504)),v=b(n(217)),A=b(n(4193)),_=b(n(8056));function b(e){return e&&e.__esModule?e:{default:e}}function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},C(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?M(e):t}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t,n){return x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},x(e,t,n||e)}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}var j="Checkout Modal Page";t.TRACK_CHECKOUT_MODAL_PAGE=j;var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(T,e);var t,n,b,O=I(T);function T(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};S(this,T);var r=t.checkoutPayload;if(!r&&!t.src)throw new Error(T.MISSING_SOURCE_ERROR);var o=Object.assign({mode:t.mode||T.MODE_REDIRECT},t),i={name:"checkout-application",popupCss:{width:"640px"},validateCheckoutToken:!0};return t.src&&(i.src=T.decorateUrlWithDeviceId(t.src)),!1===t.validateCheckoutToken&&(i.validateCheckoutToken=!1),(e=O.call(this,o,Object.assign(i,n))).config=Object.assign(e.config,e.defaultConfig,o),(0,v.default)(M(e),"onGetCheckoutDataError","onPopupClose","postMessageListener"),(0,v.default)(e.config,M(e),"onFail","onSuccess"),_.default.bind(window,"message",e.postMessageListener),e}return t=T,n=[{key:"defaultConfig",get:function(){return{mode:T.MODE_REDIRECT,onFail:this.onCheckoutFail,onSuccess:this.onCheckoutSuccess}}},{key:"defaultOptions",get:function(){var e=x(R(T.prototype),"defaultOptions",this);return e.resizeHeight=!0,e}},{key:"close",value:function(e,t){var n=this;this.isInvalidCheckoutSuccessData(t)?y.default.trackActionLog("AFJS Checkout invalid success data",{checkoutAri:this.config.checkoutAri,checkoutToken:t.data.checkout_token}):t?x(R(T.prototype),"close",this).call(this,(function(){var r,i;t.success?(n.isValidVcnCheckoutSuccessData(t.data)||y.default.trackActionLog("AFJS Checkout invalid vcn success data",{checkoutAri:n.config.checkoutAri,checkoutToken:t.data&&t.data.checkout_token,checkoutSuccessData:Object.keys(t.data)}),y.default.trackActionLog("AFJS_checkout_succeeded",{checkoutAri:n.config.checkoutAri,checkoutToken:t.data&&t.data.checkout_token,deviceId:o.default.localDeviceId,elapsedTime:Date.now()-n.widgetOpenTime,isIFrameReady:n.isIFrameReady,widgetMode:n.config.mode,userConfirmationUrl:null===(r=n.config.merchant)||void 0===r?void 0:r.user_confirmation_url}),n.config.onSuccess(t.data)):(y.default.trackActionLog("AFJS_checkout_failed",{checkoutAri:n.config.checkoutAri,deviceId:o.default.localDeviceId,elapsedTime:Date.now()-n.widgetOpenTime,isIFrameReady:n.isIFrameReady,userCancellationUrl:null===(i=n.config.merchant)||void 0===i?void 0:i.user_cancel_url,widgetMode:n.config.mode}),n.config.onFail(t.data)),n.unload(),"function"==typeof e&&(y.default.trackActionLog("AFJS_checkout_close_callback",{checkoutAri:n.config.checkoutAri,widgetMode:n.config.mode}),e())})):(y.default.trackActionLog("AFJS_user_closed_modal",{checkoutAri:this.config.checkoutAri,widgetMode:this.config.mode}),this.postMessage({id:T.POST_MESSAGE_ID,name:T.REQUEST_CHECKOUT_CLOSE_MESSAGE}))}},{key:"enableHeaderAuth",value:function(e){if(!g.default.sniffer.cookies||!g.default.sniffer.localstorage)return Promise.resolve(!0);if(T.isCaas(this.config.checkoutPayload)){var t=e===p.default.MODE_POPUP||e===p.default.MODE_UNSUPPORTED;return Promise.resolve(t)}return e===p.default.MODE_POPUP&&g.default.isIosWebView()&&!g.default.isAffirmWebView()||g.default.isWhiteLabeledCustomerForHeaderAuth(a.default.getPublicApiKey())?Promise.resolve(!0):Promise.resolve(!1)}},{key:"getCheckoutData",value:function(){var e=(0,A.default)(this.config.checkoutPayload,T.payloadFilter),t=this.config.checkoutAri;return t?Promise.resolve(T.createCheckoutUrl(t,e)).then(T.handleCheckoutWithIdResponse):T.createCheckout(e).then(T.parseCheckoutResponse).then(T.handleCheckoutResponse)}},{key:"isInvalidCheckoutSuccessData",value:function(e){return this.options.validateCheckoutToken&&e&&e.success&&e.data&&e.data.checkout_token&&0!==e.data.checkout_token.indexOf("LS-")&&e.data.checkout_token!==this.config.checkoutAri}},{key:"isValidVcnCheckoutSuccessData",value:function(e){var t=this.config&&this.config.merchant&&this.config.merchant.use_vcn,n=e&&e.billing_address&&e.cardholder_name&&e.checkout_token&&e.created&&e.cvv&&e.expiration&&e.id&&e.number,r=e&&e.is_pay_now&&e.cardholder_name&&e.cvv&&e.expiration;return r&&delete e.is_pay_now,!t||n||r}},{key:"loadCheckoutSource",value:function(e){var t=this;this.getCheckoutData().then((function(n){t.onGetCheckoutDataSuccess(n,e)}),this.onGetCheckoutDataError)}},{key:"onCheckoutFail",value:function(e){"declined"===e.reason?T.windowReload(this.config.merchant.user_decline_url):T.windowReload(this.config.merchant.user_cancel_url)}},{key:"onCheckoutSuccess",value:function(e){return(0,f.default)({checkoutData:e,checkoutAri:this.config.checkoutAri,mode:this.config.mode,userConfirmationUrl:this.config.merchant.user_confirmation_url,userConfirmationUrlAction:this.config.merchant.user_confirmation_url_action})}},{key:"onGetCheckoutDataError",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};x(R(T.prototype),"close",this).call(this,(function(){e.unload();var n={isCaas:T.isCaas(e.config.checkoutPayload),externalContainer:e.options.container};T.showGetCheckoutDataError(t,n),g.default.isCallable(e.config.onValidationError)&&e.config.onValidationError(t)}))}},{key:"onGetCheckoutDataSuccess",value:function(e,t){this.setCheckoutData(e),g.default.isMobile()&&l.default.notify(T.CHECKOUT_LOADED),this.config.onOpen&&this.config.onOpen(this.config.checkoutAri),y.default.trackActionLog("AFJS_open_checkout",{checkoutAri:this.config.checkoutAri,widgetMode:this.config.mode}),this.config.mode===p.default.MODE_MODAL||this.config.mode===T.MODE_INLINE?x(R(T.prototype),"open",this).call(this,t):this.config.mode===p.default.MODE_POPUP?this.updatePopupSource(this.options.src,t):this.config.mode===T.MODE_REDIRECT&&(g.default.setUrl(this.options.src),"function"==typeof t&&t())}},{key:"onPopupClose",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.popup.off("close",this.onPopupClose),y.default.trackActionLog("AFJS_popup_closed_by_user",{checkoutAri:this.config.checkoutAri,widgetMode:this.config.mode,canceled:e}),e&&this.close(null,{data:{reason:"canceled"},success:!1})}},{key:"onPopupOpen",value:function(e){var t=this;this.popup.on("close",this.onPopupClose),x(R(T.prototype),"onPopupOpen",this).call(this,(function(){t.options.src?"function"==typeof e&&e():t.loadCheckoutSource(e)}))}},{key:"open",value:function(e){var t=this;return p.default.determineMode(this.config.mode).then((function(n){return t.enableHeaderAuth(n).then((function(r){var o=n,i=t.config.checkoutPayload;r&&((i=i||{}).merchant=i.merchant||{},t.config.checkoutPayload=i,o=p.default.MODE_MODAL),(i=i||{}).use_adaptive=!1,t.config.checkoutPayload=i,g.default.isAffirmWebView()&&o!==T.MODE_REDIRECT&&(o=p.default.MODE_MODAL),o===p.default.MODE_UNSUPPORTED&&(o=i&&i.merchant&&i.merchant.use_vcn?T.MODE_UNSUPPORTED:T.MODE_REDIRECT),t.config.mode=o,o===p.default.MODE_MODAL||o===T.MODE_INLINE?(y.default.trackImpression(o===T.MODE_INLINE?"Checkout Inline Page":j),t.options.src?x(R(T.prototype),"open",t).call(t,e):t.loadCheckoutSource(e)):o===p.default.MODE_POPUP?(t.config.mode=p.default.MODE_MODAL,y.default.trackImpression(j),t.loadCheckoutSource(e)):o===T.MODE_REDIRECT?(y.default.trackImpression("Checkout Redirect Page"),t.options.src?(y.default.trackActionLog("AFJS_open_checkout_with_src_set",{checkoutAri:t.config.checkoutAri,widgetMode:t.config.mode,src:t.options.src}),g.default.setUrl(t.options.src)):t.loadCheckoutSource(e)):o===p.default.MODE_UNSUPPORTED&&(y.default.trackActionLog("AFJS_open_checkout_mode_unsupported_error",{checkoutAri:t.config.checkoutAri,widgetMode:t.config.mode}),(0,d.showError)({body:"Affirm Checkout requires third party cookies in order to work properly. Please enable them in your settings before continuing, or use a different browser.",title:"Your browser is missing important features"}),"function"==typeof e&&e())}))}))}},{key:"postMessageListener",value:function(e){var t=h.default.parsePostMessageData(e);if(t&&t.id===T.POST_MESSAGE_ID)switch(t.name){case"AFFIRM_CHECKOUT_CLOSE":y.default.trackActionLog("AFJS_checkout_post_message_received",{checkoutAri:this.config.checkoutAri,isIFrameReady:this.isIFrameReady,messageName:t.name,widgetMode:this.config.mode}),this.close(null,t);break;case"AFFIRM_CHECKOUT_INIT":this.clearTimers(!0);break;case"AFFIRM_CHECKOUT_STEP":c.default.trigger("checkout:step",{step:t.data&&t.data.step})}}},{key:"setCheckoutData",value:function(e){this.config.checkoutAri=e.token,this.options.src=T.decorateUrlWithDeviceId(g.default.formattedUrl(e.url,{fs:1})),this.options.src=T.decorateUrlWithMerchantUrl(this.options.src),this.options.src=T.decorateUrlWithFrameId(this.options.src)}},{key:"unload",value:function(){x(R(T.prototype),"unload",this).call(this),_.default.unbind(window,"message",this.postMessageListener),this.trigger("unload",{},!1)}}],b=[{key:"APP_NAME",get:function(){return"Affirm Checkout"}},{key:"CREATE_CHECKOUT_URL",get:function(){return encodeURI(g.default.getApiUrl(u.default.resource_urls.new_order))}},{key:"CHECKOUT_FRONTEND_URL",get:function(){return encodeURI(g.default.getFrontendUrl(u.default.resource_urls.product_flows_checkout_route))}},{key:"CHECKOUT_LOADED",get:function(){return"AFFIRM_CHECKOUT_LOADED"}},{key:"ERROR_MAPPING",get:function(){return{"billing.address":"billing address","billing.phone_number.phone_number":"billing phone number","billing.phone_number":"billing phone number","billing.name.first":"billing first name","billing.name.last":"billing last name","billing.email.email":"billing email","billing.name":"billing name","billing.email":"billing email","shipping.address":"shipping address","shipping.phone_number.phone_number":"shipping phone number","shipping.phone_number":"shipping phone number","shipping.name":"shipping name","shipping.name.first":"shipping first name","shipping.name.last":"shipping last name","shipping.email.email":"shipping email","shipping.email":"shipping email",total:"total"}}},{key:"INVALID_CHECKOUT_ARI",get:function(){return"Checkout ARI must be non-empty and may only contain characters [A-Z] and [0-9]"}},{key:"INVALID_MODE_ERROR",get:function(){return"Widget mode must either be 'modal', 'popup', 'inline', or 'redirect'"}},{key:"MISSING_SOURCE_ERROR",get:function(){return"Widget config must either include a checkoutPayload or a src"}},{key:"MODE_REDIRECT",get:function(){return"redirect"}},{key:"MODE_INLINE",get:function(){return"inline"}},{key:"POPUP_OVERLAY_MESSAGE",get:function(){return"Please click continue if you don't see the Affirm Checkout window. You may need to turn off your pop-up blocker."}},{key:"POST_MESSAGE_ID",get:function(){return"AFFIRM_CHECKOUT_MESSAGES"}},{key:"REQUEST_CHECKOUT_CLOSE_MESSAGE",get:function(){return"REQUEST_CHECKOUT_CLOSE"}},{key:"UNKNOWN_ERROR",get:function(){return{code:"unknown_error",message:"An unknown error has occurred",type:"unknown_error"}}},{key:"addCohortIdToPayload",value:function(e){return i.default.getFinancingExperimentCohortId(a.default.getPublicApiKey()).then((function(t){if(!t)return e;var n=Object.assign({},e);return n.meta=n.meta||{},n.meta.cohort_id=t,n}))}},{key:"addLocaleToPayload",value:function(e){var t=s.default.getLocale();if(!t)return e;var n=Object.assign({},e);return n.meta=n.meta||{},n.meta.locale=t,n}},{key:"decorateUrlWithDeviceId",value:function(e){var t=o.default.localDeviceId;return t?g.default.formattedUrl(e,{device_id:t}):e}},{key:"decorateUrlWithFrameId",value:function(e){return g.default.formattedUrl(e,{frameId:"checkout-application"})}},{key:"decorateUrlWithMerchantUrl",value:function(e){var t=window.location.href,n=new URL(t).origin,r=new RegExp(/\b\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\b/),o=new RegExp(/((http([s]){0,1}:\/\/){0,1}(localhost)(([:]){0,1}[\0-9]{4}){0,1}\/{0,1}){1}/);return n.match(r)||n.match(o)?e:g.default.formattedUrl(e,{origin:new URL(t).origin})}},{key:"createCheckout",value:function(e){return T.addCohortIdToPayload(T.addLocaleToPayload(e)).then((function(e){return fetch(T.CREATE_CHECKOUT_URL,{body:g.default.param(e),headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},method:"POST",mode:"cors",credentials:"include"})}))}},{key:"createCheckoutUrl",value:function(e,t){var n=T.CHECKOUT_FRONTEND_URL;return{checkoutUrl:"".concat(n,"?public_api_key=").concat(t.merchant.public_api_key,"&checkout_ari=").concat(e),checkoutAri:e}}},{key:"getErrorDialogConfig",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=T.ERROR_MAPPING,o=t.field&&t.field.match(/^(shipping|billing|total)/i);if(["financial-product-state-exclusion","inactive-merchant"].indexOf(t.code)>-1)e={body:t.message};else if("invalid_field"===t.code&&o)if(t.ui&&t.ui.main&&t.ui.sub){var i=t.ui.sub_extra,a="";i&&i.length&&(a="<br /><p>".concat(i.map(r.default).join("</p><p>"),"</p>")),e={body:(0,r.default)(t.ui.sub),body_extra:a,title:(0,r.default)(t.ui.main)}}else if(n[t.field]&&"state"===t.message)e={title:"Your address is outside the United States.",body:"We're sorry, Affirm currently only provides financing in the United States. Please return to the merchant to choose another payment method."};else if(n[t.field]){var s=n[t.field];e={body:"Please return to the merchant to correct your ".concat(s,"."),title:"You provided an invalid ".concat(s,".")}}else e=t.message?{body:t.message}:{body:"We're sorry, there was an issue with the ".concat(o[0]," information provided, please update your information and try again.")};else"checkout-amount-over-limit"===t.code?e={body:"Your purchase amount is over Affirm's limit. Please choose another payment method or modify your purchase total.",title:"Please choose another payment method"}:"service_unavailable"===t.code&&(e={body:"We're working hard to make Affirm even better. Please try again later.",icon_class:"affirm-alert-icon-large",title:"Affirm is temporarily unavailable due to regular maintenance"});return e}},{key:"handleCheckoutWithIdResponse",value:function(e){var t=e.checkoutUrl,n=e.checkoutAri;return(0,m.validateCheckoutAri)(n)?{token:n,url:t}:Promise.reject({error:T.INVALID_CHECKOUT_ARI})}},{key:"handleCheckoutResponse",value:function(e){var t=e.checkoutData,n=e.response;if(y.default.trackAPI(T.CREATE_CHECKOUT_URL,n.status,t),200===n.status){var r=t.redirect_url;if(r){var o=t.id;o||(o=-1!==r.indexOf("/products/checkout")?g.default.queryObj(r).checkout_ari:k(r.match(/\/new\/(\w*)/)||[],2)[1]);var i={token:o,url:r};return t.js_callback_id&&(i.js_callback_id=t.js_callback_id),i}var a={error:T.UNKNOWN_ERROR};return Promise.reject(a)}var s=t||T.UNKNOWN_ERROR;return 503===n.status&&(s={code:"service_unavailable"}),Promise.reject(s)}},{key:"isValidMode",value:function(e){return p.default.isValidMode(e)||e===T.MODE_REDIRECT||e===T.MODE_INLINE}},{key:"isCaas",value:function(e){return e&&e.merchant&&e.merchant.caas}},{key:"parseCheckoutResponse",value:function(e){return e.json().then((function(t){return{checkoutData:t,response:e}})).catch((function(){return e.text().then((function(t){return{checkoutData:t,response:e}})).catch((function(){return{checkoutData:e.body,response:e}}))}))}},{key:"payloadFilter",value:function(e){return null!=e&&(!!Array.isArray(e)||"object"!==E(e)||Object.keys(e).length>0)}},{key:"showGetCheckoutDataError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.isCaas?(0,d.showError)(w({},T.getErrorDialogConfig(e),{container:t.externalContainer,iframe_container_css:{position:"relative",height:"100%"},fullscreen:1})):(0,d.showError)(T.getErrorDialogConfig(e))}},{key:"windowReload",value:function(e){window.location=e}}],n&&P(t.prototype,n),b&&P(t,b),T}(p.default);t.default=D},6103:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorModalWidget=void 0,t.showError=_;var r=l(n(536)),o=l(n(2514)),i=l(n(518)),a=l(n(2504)),s=l(n(2613)),u=l(n(217)),c=l(n(8056));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},h(e,t,n||e)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function _(e){if(!s.default.sniffer.cors||!s.default.sniffer.JSON){var t=s.default.extend({body:"If you continue to have trouble, please contact us at help@affirm.com.",title:"We encountered a problem with your checkout."},e);return alert("".concat(t.title,"\n\n").concat(t.body)),_.trigger("close")}var n=new b(e);return n.open(),n}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(l,e);var t,n,o,i=g(l);function l(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,l);var n=s.default.extend({body:"If you continue to have trouble, please contact us at help@affirm.com.",merchantName:r.default&&r.default.merchant||"the Merchant",title:"We encountered a problem with your checkout."},t),o="".concat(r.default.assets_root,"error.html?").concat(s.default.param(n,!1)),a={name:"affirm-error-modal",src:o};return t.container&&t.iframe_container_css&&(a.container=t.container,a.iframe_container_css=t.iframe_container_css),(e=i.call(this,a)).on("all",(function(e,t){return _.trigger(t,e,!1)})),(0,u.default)(v(e),"postMessageListener"),c.default.bind(window,"message",e.postMessageListener),e}return t=l,o=[{key:"APP_NAME",get:function(){return"Affirm Error"}},{key:"POST_MESSAGE_ID",get:function(){return"AFFIRM_ERROR_MESSAGES"}},{key:"POST_TRACKING_ID",get:function(){return"AFFIRM_TRACKING_EVENTS"}}],(n=[{key:"hide",value:function(){var e=this;h(A(l.prototype),"hide",this).call(this),this.trigger("close"),s.default.delay((function(){return e.remove()}),300)}},{key:"postMessageListener",value:function(e){var t;if("string"==typeof e.data)try{t=JSON.parse(e.data)}catch(e){}!t||t.id!==l.POST_MESSAGE_ID&&t.id!==l.POST_TRACKING_ID||(t.id===l.POST_TRACKING_ID&&("IMPRESSION"===t.type&&a.default.trackImpression(t.event),"CLICK"===t.type&&a.default.trackUserInteraction(t.event,a.default.USER_ACTIONS.CLICK)),"close"===t.name&&this.hide())}}])&&p(t.prototype,n),o&&p(t,o),l}(i.default);t.ErrorModalWidget=b,["on","off","trigger"].forEach((function(e){_[e]=o.default.prototype[e]}))},7809:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(5217)),o=s(n(2613)),i=s(n(217)),a=s(n(9537));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,s=f(u);function u(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var n={"-webkit-tap-highlight-color":"transparent",overflow:"hidden",position:"fixed",bottom:"0",left:"0",right:"0",top:"0",zIndex:u.MAX_ZINDEX_VALUE,margin:"0",border:"0",padding:"0"};return o.default.isMobile()&&(n=o.default.extend({"-webkit-overflow-scrolling":"touch","overflow-y":"scroll",position:"fixed","-webkit-transform":"translate3d(0, 0, 0)",transform:"translate3d(0, 0, 0)"},n)),t=s.call(this,o.default.extend({styles:n},e)),(0,i.default)(p(t),"onHide","onShow"),t.on("hidden",t.onHide).on("shown",t.onShow),t}return t=u,r=[{key:"MAX_ZINDEX_VALUE",get:function(){return 2147483647}}],(n=[{key:"disablePageScroll",value:function(){void 0===this.bodyOverflowStyle&&(this.bodyHasVerticalScroll=a.default.hasVerticalScrollbar(),this.documentOverflowStyle=document.documentElement.style.overflow,document.documentElement.style.overflow="unset",this.bodyOverflowStyle=document.body.style.overflow,document.body.style.overflow="hidden")}},{key:"onHide",value:function(){this.resetFocus(),this.resetPageScroll(),o.default.isMobile()&&this.resetBodyPosition()}},{key:"onShow",value:function(){this.activeElementBeforeShown=document.activeElement,o.default.isMobile()&&this.setBodyPosition(),this.disablePageScroll(),this.setFocus()}},{key:"resetBodyPosition",value:function(){void 0!==this.bodyPosition&&(o.default.setElementStyle(document.body,{position:this.bodyPosition}),delete this.bodyPosition)}},{key:"resetFocus",value:function(){this.activeElementBeforeShown&&"function"==typeof this.activeElementBeforeShown.focus&&(this.activeElementBeforeShown.focus(),delete this.activeElementBeforeShown)}},{key:"resetPageScroll",value:function(){document.documentElement.style.overflow=this.documentOverflowStyle,delete this.documentOverflowStyle,document.body.style.overflow=this.bodyOverflowStyle,delete this.bodyOverflowStyle}},{key:"setBodyPosition",value:function(){void 0===this.bodyPosition&&(this.bodyPosition=document.body.style.position,o.default.setElementStyle(document.body,{position:"fixed"}))}},{key:"setFocus",value:function(){this.$iframe&&"function"==typeof this.$iframe.focus&&this.$iframe.focus()}}])&&c(t.prototype,n),r&&c(t,r),u}(r.default);t.default=m},1848:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(5806)),o=s(n(5556)),i=s(n(217)),a=s(n(9537));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},l(e,t,n||e)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(u,e);var t,n,r,s=d(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),t=s.call(this,e),(0,i.default)(h(t),"disablePageScroll","resetPageScroll","setIFrameFocus"),t.registerEventHandlers(),t}return t=u,r=[{key:"MAX_ZINDEX_VALUE",get:function(){return 2147483647}}],(n=[{key:"close",value:function(e){o.default.close(e)}},{key:"disablePageScroll",value:function(){void 0===this.bodyOverflowStyle&&this.disablePageScrollOnShow()&&(this.bodyHasVerticalScroll=a.default.hasVerticalScrollbar(),this.htmlOverflowStyle=document.documentElement.style.overflow,document.documentElement.style.overflow="unset",this.bodyOverflowStyle=document.body.style.overflow,document.body.style.overflow="hidden")}},{key:"disablePageScrollOnShow",value:function(){return!0}},{key:"hide",value:function(){var e=this;l(m(u.prototype),"hide",this).call(this),setTimeout((function(){e.activeElementBeforeShown&&e.activeElementBeforeShown.focus&&(e.activeElementBeforeShown.focus(),delete e.activeElementBeforeShown)}),0)}},{key:"open",value:function(e){var t,n=this;this.isOrphan()?(this.on("ready",t=function(){n.off("ready",t),o.default.open(n,n.setIFrameFocus),"function"==typeof e&&e()}),o.default.load(this)):o.default.open(this,this.setIFrameFocus)}},{key:"preload",value:function(){o.default.load(this)}},{key:"registerEventHandlers",value:function(){this.on("hiding",this.resetPageScroll).on("showing",this.disablePageScroll)}},{key:"resetPageScroll",value:function(){document.documentElement.style.overflow=this.htmlOverflowStyle,delete this.htmlOverflowStyle,document.body.style.overflow=this.bodyOverflowStyle,delete this.bodyOverflowStyle}},{key:"setIFrameFocus",value:function(){this.$iframe&&!this.isOrphan()&&"function"==typeof this.$iframe.focus&&this.$iframe.focus()}},{key:"unload",value:function(){o.default.remove(this)}}])&&c(t.prototype,n),r&&c(t,r),u}(r.default);t.default=g},5217:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(2514)),o=a(n(4748)),i=a(n(2613));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(s,e);var t,n,r,a=f(s);function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,s),(e=a.call(this,t.id)).options=i.default.extend({container:document.body,styles:{height:"100%",overflow:"hidden",width:"100%"}},t),e.state={isLoaded:!1,isShown:!1,shouldCallSizeChange:!1,resizingIframe:!1},e.registerEventListeners(),e}return t=s,r=[{key:"IFRAME_CLASSNAME",get:function(){return"affirm-iframe-widget"}},{key:"IFRAME_PERMISSIONS",get:function(){return{"allow-forms":!0,"allow-modals":!0,"allow-popups":!0,"allow-same-origin":!0,"allow-scripts":!0}}},{key:"IFRAME_TITLE",get:function(){return"Affirm"}}],(n=[{key:"append",value:function(){var e=i.default.getElementById(this.options.container);if(!e)throw new Error("Widget container does not exist");e.appendChild(this.$iframe)}},{key:"detach",value:function(){var e=this.$iframe.parentElement;e&&e.removeChild(this.$iframe),delete this.$iframe,this.state.isLoaded=!1,this.state.isShown=!1}},{key:"generateFrame",value:function(){var e=this;this.$iframe=document.createElement("iframe"),i.default.setElementAttrs(this.$iframe,{allowScroll:"no",allowTransparency:!0,class:s.IFRAME_CLASSNAME,frameborder:0,height:this.options.styles.height,id:this.options.id,sandbox:Object.keys(this.constructor.IFRAME_PERMISSIONS||{}).join(" "),title:this.constructor.IFRAME_TITLE,width:this.options.styles.width}),Object.keys(this.options.styles).forEach((function(t){e.$iframe.style[t]=e.options.styles[t]}))}},{key:"hide",value:function(){this.state.isShown&&(this.$iframe.style.display="none",this.state.isShown=!1,this.trigger("hidden",{},!1))}},{key:"load",value:function(){var e=this;if(!this.state.isLoaded){if(!this.options.src)throw new Error("src is required");this.$iframe||this.generateFrame(),this.$iframe.onload=function(){e.src()&&(e.state.isLoaded=!0,e.trigger("iframeReady"))};var t=this.setupPostMessageTunnel();this.src(t),this.append(),this.postMessageClient.setTargetWindow(this.$iframe.contentWindow)}}},{key:"registerEventListeners",value:function(){this.on("sizeChange",this.resize),this.on("closeRequest",this.remove)}},{key:"reload",value:function(e){this.options=Object.assign(this.options,e),this.remove(!0),this.load()}},{key:"remove",value:function(e){this.$iframe&&(o.default.removeClient(this.postMessageClient),delete this.postMessageClient,this.detach(),e||this.trigger("removed",{},!1))}},{key:"resize",value:function(e){var t=this;if(i.default.isSafariDesktop())if(this.state.resizingIframe){var n=i.default.getElementById(this.options.container).getBoundingClientRect();n.width,n.height<e.height&&(this.updateContainerSize(e),this.state.shouldCallSizeChange=!0,setTimeout((function(){t.state.shouldCallSizeChange=!1}),200))}else this.updateContainerSize(e),this.state.resizingIframe=!0,setTimeout((function(){t.state.resizingIframe=!1}),100);else this.updateContainerSize(e)}},{key:"updateContainerSize",value:function(e){var t;this.$iframe&&e&&void 0!==e.height&&("string"==typeof e.height?t=e.height:"number"==typeof e.height&&(t="".concat(e.height,"px")),this.$iframe.style.height=t)}},{key:"setupPostMessageTunnel",value:function(){var e=this;return this.postMessageClient||(this.postMessageClient=o.default.createClient(this.options.src,{name:this.options.id}),this.postMessageClient.onClientResize((function(t){if(t&&!e.state.shouldCallSizeChange){var n=t.data;n&&e.trigger("sizeChange",n)}})),this.postMessageClient.onClose((function(){e.trigger("closeRequest")})),this.postMessageClient.onInitialized((function(){e.trigger("postMessageReady")})),this.postMessageClient.onStateChange((function(t){if(t){var n=t.data.state;n&&e.trigger("stateChange",n)}})),this.postMessageClient.onStepChange((function(t){if(t){var n=t.data.step;n&&e.trigger("stepChange",n)}})),this.postMessageClient.on("InlineCheckoutOpenEduModal",(function(){e.trigger("openLearnMore")}))),this.postMessageClient.url}},{key:"show",value:function(){this.state.isShown||(this.$iframe.style.display=this.options.styles.display||"block",this.state.isShown=!0,this.trigger("shown",{},!1))}},{key:"src",value:function(e){return e&&(this.$iframe.src=e),this.$iframe.src}}])&&c(t.prototype,n),r&&c(t,r),s}(r.default);t.default=h},9176:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(217)),o=a(n(7809)),i=a(n(5217));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fullScreenWidgets=[],this.widgets=[],(0,r.default)(this,"hideAll","remove","show")}var t,n,a;return t=e,n=[{key:"contains",value:function(e){return e instanceof o.default?this.fullScreenWidgets.indexOf(e)>-1:this.widgets.indexOf(e)>-1}},{key:"hide",value:function(e){e instanceof i.default&&e.state.isShown&&e.hide()}},{key:"hideAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.fullScreenWidgets.forEach((function(e){return e.hide()})),e||this.widgets.forEach((function(e){return e.hide()}))}},{key:"remove",value:function(e){e instanceof i.default&&(e instanceof o.default?this.fullScreenWidgets=this.fullScreenWidgets.filter((function(t){return t!==e})):this.widgets=this.widgets.filter((function(t){return t!==e})),e.remove())}},{key:"show",value:function(e){var t=this;e instanceof i.default&&!e.state.isShown&&(e.on("removed",(function n(){e.off("removed",n),t.remove(e)})),e instanceof o.default&&this.hideAll(),this.track(e),e.state.isLoaded?e.show():(e.on("iframeReady",(function t(){e.off("iframeReady",t),e.show()})),e.load()))}},{key:"track",value:function(e){e instanceof i.default&&!this.contains(e)&&(e instanceof o.default?this.fullScreenWidgets.push(e):this.widgets.push(e))}}],n&&s(t.prototype,n),a&&s(t,a),e}();t.default=u},166:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=f(n(3264)),o=f(n(4624)),i=f(n(5217)),a=f(n(9340)),s=f(n(4615)),u=f(n(8469)),c=f(n(2504)),l=f(n(2613));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(d,e);var t,n,i,f=g(d);function d(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p(this,d),(e=f.call(this,t)).options=l.default.extend({styles:{height:"290px",width:"100%","min-width":"278px","max-width":"424px",transition:"100ms height ease-in"}},t),e.setupIframeOptions(e.options),e.setupListeners(),e}return t=d,i=[{key:"DEFAULT_CONTAINER_ID",get:function(){return"affirm-inline-checkout-container"}},{key:"IFRAME_TITLE",get:function(){return"Inline Checkout"}},{key:"generateCheckoutUrl",value:function(e){var t=r.default.localDeviceId,n=(e.data||{}).total;return l.default.formattedUrl(l.default.getFrontendUrl("products/inline_checkout"),{amount:n,device_id:t,merchant_public_key:o.default.getPublicApiKey()})}},{key:"generateModalOptions",value:function(e){var t=(e.data||{}).total;return u.default.generatePromoPrequalConfig(Object.assign(s.default.get(),{use_promo:!0}),{amount:t,inline:!0},a.default.MODE_MODAL,window.location.href)}}],(n=[{key:"getContainer",value:function(e){return e.container||this.options.container||d.DEFAULT_CONTAINER_ID}},{key:"openPrequalModal",value:function(){var e=d.generateModalOptions(this.options);return this.modalElement||(this.modalElement=new u.default(e)),this.modalElement.open(null,e)}},{key:"setupIframeOptions",value:function(e){this.options.container=this.getContainer(e),this.options.src=d.generateCheckoutUrl(e)}},{key:"setupListeners",value:function(){var e=this;this.on("openLearnMore",(function(){c.default.trackUserInteraction("Inline Learn More Clicked",c.default.USER_ACTIONS.CLICK),e.openPrequalModal()}))}},{key:"update",value:function(e){if(null!=e){var t={container:this.getContainer(e)};this.options=Object.assign(this.options,e,t)}this.setupIframeOptions(e),this.reload(this.options)}}])&&h(t.prototype,n),i&&h(t,i),d}(i.default);t.default=A},4644:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=_(n(4624)),o=_(n(1594)),i=_(n(8139)),a=_(n(536)),s=_(n(8546)),u=_(n(4615)),c=_(n(8445)),l=_(n(4634)),f=n(679),d=_(n(9340)),p=_(n(8995)),h=_(n(8469)),m=_(n(1277)),g=n(6516),y=_(n(2613)),v=_(n(2504)),A=n(1735);function _(e){return e&&e.__esModule?e:{default:e}}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}var C="Subject to credit check and approval. Down payment may be required. Available for purchases over $50. Estimated payment amount excludes taxes and shipping fees. Payment options through Affirm are provided by these lending partners: affirm.com/lenders. See www.affirm.com/faqs for details.",I="Make easy monthly payments over 3, 6, or 12 months",T="Make easy monthly payments for your purchase",M="Rates from 10&ndash;30% APR.",x="Rates from 0&ndash;30% APR.",R="${payment}/mo based on a purchase price of ${amount} at 0% APR for {term_length} months. Rates from 0&ndash;30% APR.",j="${payment}/mo based on a purchase price of ${amount} at 10% APR for {term_length} months. Rates from 10&ndash;30% APR.",D={quick_and_easy:{icon:"quick",header:"Quick and easy",body:"Enter a few pieces of information for a real-time decision. Checking your eligibility won't affect your credit score."},no_hidden_fees:{icon:"transparent",header:"No hidden fees",body:"Know up front exactly what you'll owe, with no hidden costs and no surprises."},select_affirm_at_checkout:{icon:"bag",header:"Just select Affirm at checkout",body:"Just a few pieces of information is all it takes to get a real-time decision."},make_interest_free_payments:{icon:"loan",header:"Pay monthly without interest",body:"Your purchase is split up into three payments. There’s no interest—and never any hidden fees!"}},L="Multicolor Affirm Logo cta",N="Multicolor Affirm Logo cta - just select Affirm at checkout",U="Product Page Promo Modal",F="Promo Set Promo Modal",B="Site Wide Promo Modal",H={contentSpace1:"quick_and_easy",contentSpace2:"no_hidden_fees",apr:.1,termLength:12,footer:C,styles:{}},W={contentSpace1:"quick_and_easy",contentSpace2:"no_hidden_fees",footer:C,styles:{}},V=window.devicePixelRatio>1,Q={},G={};function q(e,t,n){var r="";return e||(r+="affirm-no-hero-image "),t||(r+="affirm-merchant-no-logo "),"fast"===n&&(r+="affirm_fast "),r}function K(e,t){var n=r.default.getPublicApiKey();if(!t)return"product_page_modal"===e?i.default.getPromoConfig(n,e,t,H):i.default.getPromoConfig(n,e,t,W);if(m.default.isPromoSet(t))return"product_page_modal"===e?m.default.getConfig(t,"productPageModal"):m.default.getConfig(t,"siteWideModal");var o="affirm-modal:".concat(n,":").concat(e,":").concat(t);if(!Q[o]){var s="".concat(a.default.promos_url_prefix).concat(e,"/").concat(n,"/").concat(t,".json");Q[o]=fetch(s).then((function(n){return n.json().then((function(e){return(0,g.setLocalStorage)(o,e),e})).catch((function(){return console.error("Error while retrieving the modal config ".concat(e," ").concat(t,". Returning Default")),K(e)}))}))}return Q[o]}function J(e,t){var a=n(1684),c=t.modalId,l=t.promoId,f=t.type,p=t.amount&&parseFloat(t.amount);"product_page_modal"===f?v.default.trackUserInteraction(U,v.default.USER_ACTIONS.CLICK):v.default.trackUserInteraction(B,v.default.USER_ACTIONS.CLICK);var g=null;"XXXXXXXXXXXXXXX"===(g=l||c)&&(g=void 0);var _=r.default.getPublicApiKey();return i.default.useV2Api(_,g)?i.default.getPromoResponse(_,{amount:p,pageType:t.pageType,promoId:g},i.default.TEMPLATE_FIELD.modal).then((function(n){v.default.trackEvent("LearnMoreWidget: openModal",{promoResponse:n});return-1!==["J5E24QQQJ9ZL9LMD","8F5E01N5KIO60DJ6","ZPQY8VGE0U8Y6WP2","5X8V8MQUX8VFYCME","D3ACIW1WYYJXNX1M"].indexOf(_)?new Y({DOMNode:e,renderedPromo:n.promo}):o.default.getFinancingExperimentCohortId(_).then((function(e){return(0,A.getCSMPrequalExperiment)(!0).then((function(n){var r="".concat(f,"/").concat(g,"/").concat(p,"/").concat(t.pageType),o=!n;G[r]||(G[r]=new h.default(h.default.generatePromoPrequalConfig(Object.assign(u.default.get(),{use_promo:!0}),{amount:p,cohort_id:e,page_type:t.pageType,promoId:g,locale:s.default.getLocale()||null,disable_prequal:o||null},d.default.MODE_MODAL,window.location.href))),G[r].open()}))}))})):K(f,g).then((function(e){var t=Object.assign({},e);if(t.promoId=g,p){var n,r,o;if(t.amount=p,t.termLengthIntervals&&(r=m.default.getTermLengthIntervalForAmount(t.termLengthIntervals,p)),r)n=r.apr,o=r.termLength;else n=t.apr,o=t.termLength;return a.getEstimate({apr:n,amount:p,months:o}).then((function(e){var r={};return y.default.extend(r,t),r.amount=p,r.apr=n,r.months=o,r.payment=e.payment,r.termLength=e.months||o,r}))}return t})).catch((function(){return K(f).then((function(e){if(p){var t=e.apr,n=e.termLength;return a.getEstimate({apr:t,amount:p,months:n}).then((function(r){var o={};return y.default.extend(o,e),o.payment=r.payment,o.amount=p,o.months=n,o.termLength=r.months||n,o.apr=t,o}))}return e}))})).then((function(n){var r,o=Object.assign({},n);if(o.promo_prequal_enabled){var i="".concat(f,"/").concat(o.promoId,"/").concat(p,"/").concat(t.pageType);G[i]||(m.default.isPromoSet(o.promoId)||(o.promoId=null),r=new h.default(h.default.generatePromoPrequalConfig(Object.assign(u.default.get(),{use_promo:!0}),o,d.default.MODE_MODAL,window.location.href)),G[i]=r),G[i].open()}else r=new Y({amount:o.amount,apr:o.apr,config:o,DOMNode:e,months:o.months,payment:o.payment,termLength:o.termLength});return r}))}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(i,e);var t,n,r,o=O(i);function i(){var e,t,n,r,a,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};w(this,i);var u=s.DOMNode;delete s.DOMNode;var d=V?"2x":"",p="";if(s.renderedPromo){(n=s.renderedPromo.config.images["hero".concat(d)])&&(n="background-image: url('".concat(n,"')")),r=s.renderedPromo.config.images["logo".concat(d)],t="";var h=s.renderedPromo.config.promo_style;"fast"!==h&&(v.default.trackImpression(L),t=s.renderedPromo.button.replace(/affirm/gi,'<span class="__affirm-logo __affirm-logo-primary __ligature__affirm_full_logo__ __processed">Affirm</span>')),e=o.call(this,y.default.extend({name:"affirm_learn_more_splitpay",template:"templates/learn_more_split_pay.html",template_args:{color:s.renderedPromo.config.styles.color||"auto",copy:{tagline:s.renderedPromo.headline,promo:s.renderedPromo.tagline,cta:t,section_1:i.getSection(s.renderedPromo.content_space_1),section_2:i.getSection(s.renderedPromo.content_space_2)},fontFamily:s.renderedPromo.config.styles.fontFamily||"inherit",footer:s.renderedPromo.footer,hero_image:n,logo_image:r,modal_class:q(n,r,h)}},s))}else{var m,A,_,b=!!s.amount;m=b?H:W,a={},y.default.extend(a,m),y.default.extend(a,s.config),y.default.isMobile()&&s.source&&("function"==typeof s.source.trigger&&s.source.trigger("loading"),null!=s.source.product_key&&c.default.setProduct(s.source.product_key)),n=a["heroImage".concat(d)],r=a["logo".concat(d)];var E=null!=s.apr&&0===parseFloat(s.apr);if(b){t="",_=a.pricingTemplate;var k=a&&0===a.apr&&3===a.termLength&&a.termLengthIntervals&&1===a.termLengthIntervals.length;k?p+="affirm_fast ":(v.default.trackImpression(N),t='Just select <span class="__affirm-logo __affirm-logo-primary __ligature__affirm_full_logo__ __processed">Affirm</span> at checkout.'),_||k||(_=E?R:j),_=(_=(_=(_=_.replace(/{payment}/gi,"$".concat((0,g.moneyWithCents)(s.payment)))).replace(/{amount}/gi,"$".concat((0,g.moneyWithCents)(s.amount)))).replace(/{apr}/gi,parseInt(100*s.apr,10))).replace(/{term_length}/gi,s.termLength),A=a.headlineTemplate}else{(_=a.pricing)||(_=E?x:M);var O=a;A=O.headline}if(!A){var P=!s.termLength||[3,6,12].indexOf(s.termLength)>-1;A=P?I:T}n&&(n="background-image: url('".concat(n,"')")),p+=q(n,r),e=o.call(this,y.default.extend({name:"affirm_learn_more_splitpay",template:"templates/learn_more_split_pay.html",template_args:{color:a.styles.color||"auto",copy:{tagline:A,promo:_,cta:t,section_1:i.getSection(a.contentSpace1),section_2:i.getSection(a.contentSpace2)},fontFamily:a.styles.fontFamily||"inherit",footer:a.footer,hero_image:n,logo_image:r,modal_class:p}},s))}e.on("continue",(function(){return e.trigger("close")}));var C=!1;return a=(0,f.findAffirmConfig)(u),e.on("close",(function(){C||((a=(0,f.findAffirmConfig)(u))&&"function"==typeof a.onCloseModal&&a.onCloseModal(),C=!0,l.default.trigger("learnMore:close"))})),e.open(a?a.onOpenModal:void 0),s.DOMNode=u,S(e)}return t=i,r=[{key:"APP_NAME",get:function(){return"Learn More About Affirm"}},{key:"getSection",value:function(e){return D[e]}},{key:"openModal",value:function(e,t){return J(e,t)}},{key:"setupSiteElements",value:function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.length,o=0;o<r;o+=1){var i=(t=e[o]).getAttribute("data-modal-id"),a=t.getAttribute("data-page-type")||"product",s=t.getAttribute("data-promo-id");t.getAttribute("data-amount")&&console&&console.error("Affirm: data-amount not valid in site modals. Element",t),t.style.cursor||(t.style.cursor="pointer");var u={modalId:i,pageType:a,promoId:s,type:"site_wide_modal"};(0,f.setAffirmConfig)(t,u);var c=s||i;c?v.default.trackImpression("Custom ".concat(B)):v.default.trackImpression("Default ".concat(B)),m.default.isPromoSet(c)&&v.default.trackImpression(F);var l=t.innerText||t.innerHTML;t.setAttribute("aria-label","".concat(l," - Affirm Financing (opens in modal)")),t.onclick=function(e,t){return function(){return J(e,t)}}(t,u),n.trackPromos&&v.default.trackEvent("Promo: Learn More Click Attached",{elapsedTime:Date.now()-n.promoTimer,version:"site"})}}},{key:"setupProductElements",value:function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.length,o=0;o<r;o+=1){var i=(t=e[o]).getAttribute("data-amount"),a=t.getAttribute("data-modal-id"),s=t.getAttribute("data-page-type"),u=t.getAttribute("data-promo-id");console&&(i||console.error("Affirm: data-amount attribute is required in product modals",t),i<5e3&&console.error("Affirm: data-amount is lower than the minimum ($50)."),i>175e4&&console.error("Affirm: data-amount is higher than the maximum ($17500).")),t.style.cursor||(t.style.cursor="pointer");var c={amount:i,modalId:a,pageType:s,promoId:u,type:"product_page_modal"};(0,f.setAffirmConfig)(t,c);var l=u||a;l?v.default.trackImpression("Custom ".concat(U)):v.default.trackImpression("Default ".concat(U)),m.default.isPromoSet(l)&&v.default.trackImpression(F);var d=t.innerText||t.innerHTML;t.setAttribute("aria-label","".concat(d," - Affirm Financing (opens in modal)")),t.onclick=function(e,t){return function(){return J(e,t)}}(t,c),n.trackPromos&&v.default.trackEvent("Promo: Learn More Click Attached",{elapsedTime:Date.now()-n.promoTimer,version:"product"})}}}],(n=null)&&E(t.prototype,n),r&&E(t,r),i}(p.default);t.default=Y},9340:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=d(n(4624)),o=d(n(518)),i=d(n(1162)),a=d(n(2613)),s=n(1735),u=d(n(665)),c=d(n(217)),l=d(n(2693)),f=d(n(2504));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},g(e,t,n||e)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var w="Affirm Checkout",E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(p,e);var t,n,o,d=v(p);function p(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(this,p);var r={width:i.default.DEFAULT_OPTIONS.popupWidth};if(!(e=d.call(this,a.default.extend({popupCss:r},n))).constructor.isValidMode(t.mode))throw new Error(e.constructor.INVALID_MODE_ERROR);return e.config=a.default.extend({},t),(0,c.default)(_(e),"configureMessaging","startConfiguringMessaging"),e}return t=p,n=[{key:"configPayload",get:function(){return{id:this.currentPostMessageId||this.constructor.POST_MESSAGE_ID,channel:s.POST_MESSAGE_CHANNEL}}},{key:"targetWindow",get:function(){return this.config.mode===p.MODE_MODAL?this.$iframe.contentWindow:this.config.mode===p.MODE_POPUP?this.popup&&this.popup.popupWindow:null}},{key:"clearTimers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.config.mode===p.MODE_POPUP&&this.popup&&this.popup.clearTimer(),clearInterval(this.payloadMessageTimer),delete this.payloadMessageTimer,e&&this.constructor.APP_NAME===w&&f.default.trackActionLog("AFJS_post_message_config_succeeded",{elapsedTime:Date.now()-this.widgetOpenTime,isIFrameReady:this.isIFrameReady,widgetMode:this.config.mode,checkoutAri:this.config.checkoutAri})}},{key:"close",value:function(e){this.clearTimers(),this.config.mode===p.MODE_MODAL?g(b(p.prototype),"close",this).call(this,e):this.config.mode===p.MODE_POPUP?(this.trigger("hiding"),this.popup&&this.popup.close(e)):"function"==typeof e&&e()}},{key:"configureMessaging",value:function(e){var t="function"==typeof window.postMessage;this.payloadMessageCounter<this.constructor.MAX_CONFIG_ATTEMPTS?(this.postMessage(e||this.configPayload),this.payloadMessageCounter+=1):(this.clearTimers(),f.default.trackActionLog("AFJS_post_message_config_failed",{checkoutAri:this.config.checkoutAri,elapsedTime:Date.now()-this.widgetOpenTime,isIFrameReady:this.isIFrameReady,isPostMessageSupported:t,widgetMode:this.config.mode,widgetType:this.constructor.APP_NAME}))}},{key:"open",value:function(e){this.widgetOpenTime=Date.now(),this.constructor.APP_NAME===w&&f.default.trackActionLog("AFJS_open_checkout_modal_popup_widget",{widgetMode:this.config.mode,checkoutAri:this.config.checkoutAri}),this.config.mode===p.MODE_MODAL?(g(b(p.prototype),"open",this).call(this,e),this.startConfiguringMessaging()):this.config.mode===p.MODE_POPUP?(this.popup||(this.popup=new i.default({popupName:this.constructor.APP_NAME,popupOverlayMessage:this.constructor.POPUP_OVERLAY_MESSAGE,popupTimeout:this.constructor.POPUP_TIMEOUT,popupWidth:this.options.popupCss.width,src:this.options.src})),this.popup.open(this.onPopupOpen.bind(this,e))):"function"==typeof e&&e()}},{key:"onPopupOpen",value:function(e){this.options.src&&setTimeout(this.startConfiguringMessaging,500),"function"==typeof e&&e()}},{key:"postMessage",value:function(e){if(this.config.mode===p.MODE_MODAL)g(b(p.prototype),"postMessage",this).call(this,e);else if(this.config.mode===p.MODE_POPUP&&this.options.src){var t=a.default.extend({id:this.currentPostMessageId||this.constructor.POST_MESSAGE_ID,channel:s.POST_MESSAGE_CHANNEL},e);this.targetWindow&&this.targetWindow.postMessage(JSON.stringify(t),a.default.getDomain(this.options.src))}}},{key:"startConfiguringMessaging",value:function(e){var t=this;this.payloadMessageTimer||(this.payloadMessageCounter=0,this.payloadMessageTimer=setInterval((function(){return t.configureMessaging(e)}),500))}},{key:"updatePopupSource",value:function(e,t){this.options.src=e,this.popup.updateSource(e),setTimeout(this.startConfiguringMessaging,500),"function"==typeof t&&t()}}],o=[{key:"APP_NAME",get:function(){return"modal-popup-widget"}},{key:"INVALID_MODE_ERROR",get:function(){return"Widget mode must either be 'modal' or 'popup'"}},{key:"MAX_CONFIG_ATTEMPTS",get:function(){return 50}},{key:"MODE_MODAL",get:function(){return"modal"}},{key:"MODE_POPUP",get:function(){return"popup"}},{key:"MODE_UNSUPPORTED",get:function(){return"unsupported"}},{key:"POPUP_TIMEOUT",get:function(){return 0}},{key:"POST_MESSAGE_ID",get:function(){return"AFFIRM_MESSAGES"}},{key:"POPUP_OVERLAY_MESSAGE",get:function(){return"Please click continue if you don't see the Affirm pop-up window. You may need to turn off your pop-up blocker."}},{key:"determineMode",value:function(e){return p.isModalSupported().then((function(e){return e})).catch((function(){return!1})).then((function(t){var n,o=e||p.MODE_UNSUPPORTED;return o===p.MODE_MODAL&&!t&&(o=p.MODE_POPUP),o!==p.MODE_POPUP||p.isPopupSupported()||(o=t?p.MODE_MODAL:p.MODE_UNSUPPORTED),a.default.isWhiteLabeledCustomerForHeaderAuth(r.default.getPublicApiKey())&&p.isPopupSupported()&&(o=p.MODE_MODAL),null!==(n=(0,s.getModes)())&&void 0!==n&&n.disableEduModalPopup&&(o=p.MODE_MODAL),o}))}},{key:"isModalSupported",value:function(){var e;return e=a.default.sniffer.promises&&a.default.sniffer.promises.thirdPartyCookies?a.default.sniffer.promises.thirdPartyCookies:u.default.thirdPartyCookies(),(0,l.default)(e,500).catch((function(){return!1}))}},{key:"isPopupSupported",value:function(){return!a.default.isIe()}},{key:"isValidMode",value:function(e){return e===p.MODE_MODAL||e===p.MODE_POPUP||e===p.MODE_UNSUPPORTED}}],n&&m(t.prototype,n),o&&m(t,o),p}(o.default);t.default=E},518:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=f(n(1848)),o=f(n(5256)),i=f(n(2613)),a=f(n(217)),s=f(n(8056)),u=f(n(4699)),c=f(n(9537)),l=n(1735);function f(e){return e&&e.__esModule?e:{default:e}}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},h(e,t,n||e)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(y,e);var t,n,f,d=g(y);function y(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y);var n={"-webkit-tap-highlight-color":"transparent",overflow:"hidden",position:"fixed",bottom:"0",left:"0",right:"0",top:"0",zIndex:r.default.MAX_ZINDEX_VALUE,margin:"0",border:"0",padding:"0"},o={height:"100%",width:"100%",margin:"0",border:"0",padding:"0"};i.default.isMobile()&&(o=i.default.extend({position:"fixed","-webkit-overflow-scrolling":"touch","-webkit-transform":"translate3d(0, 0, 0)",transform:"translate3d(0, 0, 0)",background:"#fff"},o));var s=i.default.extend({css:{height:"100%",width:"100%",margin:"0",border:"0",padding:"0"},iframe_container_css:n,modalCss:o},e);return(t=d.call(this,s)).isIFrameReady=!1,t.options=i.default.extend(t.defaultOptions,t.options),t.options.src=e.src,i.default.isMobile()||(t.scrollbarWidth=c.default.getScrollbarWidth()),(0,a.default)(v(t),"alignModalAndPage","handleBackgroundClick","modalMessageListener","resetBodyPosition","resetModalAndPageAlignment","setBodyPosition"),t.registerWidgetListeners(),t}return t=y,f=[{key:"IFRAME_CONTAINER_CLASSNAME",get:function(){return"affirm-sandbox-iframe-container"}},{key:"MODAL_MARGIN",get:function(){return 40}}],(n=[{key:"defaultOptions",get:function(){return{minModalHeight:0,resizeHeight:!1,resizeWidth:!1}}},{key:"targetWindow",get:function(){return this.$iframe.contentWindow}},{key:"alignModalAndPage",value:function(){var e={},t=this.exceedsViewportHeight();if(void 0===this.bodyPosition&&void 0===this.bodyMarginRight&&(this.bodyPosition=document.body.style.position,this.bodyMarginRight=document.body.style.marginRight),this.bodyHasVerticalScroll){var n;try{var r=getComputedStyle(document.body);n=parseInt(r["margin-right"],10)}catch(e){n=0}i.default.setElementStyle(document.body,{position:"relative",marginRight:"".concat(this.scrollbarWidth+n,"px")}),t||0===this.scrollbarWidth?e.marginRight="0":e.marginRight="".concat(this.scrollbarWidth,"px")}else t&&0!==this.scrollbarWidth?e.marginRight="-".concat(this.scrollbarWidth,"px"):e.marginRight="0";i.default.setElementStyle(this.modal,e)}},{key:"appendTo",value:function(e){var t=i.default.getElementById(e);return this.regenerateIfAlreadyAppended(),this.modal.appendChild(this.$iframe),this.$iframe_container.appendChild(this.modal),t&&t.appendChild&&t.appendChild(this.$iframe_container),this}},{key:"exceedsViewportHeight",value:function(){return this.modalContainerHeight+this.modalVerticalMargins>window.innerHeight}},{key:"generateFrame",value:function(){h(A(y.prototype),"generateFrame",this).call(this);var e=document.createElement("div");e.className=y.IFRAME_CONTAINER_CLASSNAME,i.default.setElementStyle(e,this.options.modalCss),this.modal=e}},{key:"handleBackgroundClick",value:function(e){e.currentTarget===this.$iframe_container&&this.close()}},{key:"maxViewableHeight",value:function(){return window.innerHeight-this.modalVerticalMargins}},{key:"modalMessageListener",value:function(e){var t=o.default.parsePostMessageData(e);if(t&&t.id===u.default.POST_MESSAGE_ID)switch(t.name){case u.default.IFRAME_DIMENSIONS_MESSAGE:this.resizeModal(t);break;case u.default.IFRAME_READY_MESSAGE:this.isIFrameReady=!0;break;case u.default.REQUEST_PARENT_BOUNDS_MESSAGE:this.sendModalBounds()}}},{key:"open",value:function(e){h(A(y.prototype),"open",this).call(this,e),i.default.isMobile()||this.requestModalContentDimensions()}},{key:"optimizeUiCalculations",value:function(e){this.modalContainerHeight=parseInt(e.modalCss.height,10),this.modalVerticalMargins=parseInt(this.modal.style.marginBottom,10)+parseInt(this.modal.style.marginTop,10),this.scrollbarWidth=c.default.getScrollbarWidth()}},{key:"registerWidgetListeners",value:function(){i.default.isMobile()?(this.on("hiding",this.resetBodyPosition),this.on("showing",this.setBodyPosition)):(this.on("hiding",this.resetModalAndPageAlignment),this.on("showing",this.alignModalAndPage),s.default.bind(this.$iframe_container,"click",this.handleBackgroundClick)),s.default.bind(window,"message",this.modalMessageListener)}},{key:"requestModalContentDimensions",value:function(){this.postMessage({name:u.default.REQUEST_IFRAME_DIMENSIONS_MESSAGE,channel:l.POST_MESSAGE_CHANNEL})}},{key:"resetBodyPosition",value:function(){void 0!==this.bodyPosition&&(i.default.setElementStyle(document.body,{position:this.bodyPosition}),delete this.bodyPosition)}},{key:"resetModalAndPageAlignment",value:function(){i.default.setElementStyle(document.body,{position:this.bodyPosition,marginRight:this.bodyMarginRight}),delete this.bodyPosition,delete this.bodyMarginRight}},{key:"resizeModal",value:function(e){if(e&&e.height&&e.width){var t={},n=e.height>this.modalContainerHeight;if(this.options.resizeHeight&&(n||this.exceedsViewportHeight())){var r=Math.max(e.height,this.maxViewableHeight(),this.options.minModalHeight);t.height="".concat(r,"px"),this.modalContainerHeight=r}this.options.resizeWidth&&(t.width="".concat(e.width,"px")),(t.height||t.width)&&(i.default.setElementStyle(this.modal,t),this.alignModalAndPage())}}},{key:"postMessage",value:function(e){var t=this.src();if(t){var n=i.default.extend({id:u.default.POST_MESSAGE_ID,channel:l.POST_MESSAGE_CHANNEL},e);this.isIFrameReady&&this.targetWindow.postMessage(JSON.stringify(n),i.default.getDomain(t))}}},{key:"sendModalBounds",value:function(){var e=Math.round(this.$iframe_container.scrollTop);i.default.isMobile()||(e-=y.MODAL_MARGIN),e=Math.max(e,0);var t=this.modalContainerHeight-e,n=Math.min(t,window.innerHeight);this.postMessage({availableHeight:n,modalHeight:this.modalContainerHeight,name:u.default.PARENT_BOUNDS_MESSAGE,scrollTop:e,channel:l.POST_MESSAGE_CHANNEL})}},{key:"setBodyPosition",value:function(){void 0===this.bodyPosition&&(this.bodyPosition=document.body.style.position,i.default.setElementStyle(document.body,{position:"fixed"}))}},{key:"unload",value:function(){this.isIFrameReady=!1,h(A(y.prototype),"unload",this).call(this)}}])&&p(t.prototype,n),f&&p(t,f),y}(r.default);t.default=_},2164:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(8995)),o=i(n(2613));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(a,e);var t,n,r,i=l(a);function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s(this,a),(e=i.call(this,o.default.extend({name:"affirm_overlay",template:"templates/overlay.html",template_args:{title:"Please click continue if you don't see the Affirm window. You may need to turn off your pop-up blocker."}},t))).open(),e}return t=a,r=[{key:"APP_NAME",get:function(){return"Affirm Overlay"}}],(n=null)&&u(t.prototype,n),r&&u(t,r),a}(r.default);t.default=p},8995:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1848)),o=i(n(2613));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(l,e);var t,n,i,a=c(l);function l(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var n={"-webkit-tap-highlight-color":"transparent",display:"flex",justifyContent:"center",overflowY:"auto",position:"fixed",bottom:"0",left:"0",right:"0",top:"0",zIndex:r.default.MAX_ZINDEX_VALUE,margin:"0",border:"0",padding:"0"};o.default.isMobile()&&(n["-webkit-overflow-scrolling"]="touch",n["-webkit-transform"]="translate3d(0, 0, 0)",n.transform="translate3d(0, 0, 0)",n.overflow="scroll",n.background="#fff");var i=o.default.extend({css:{overflowX:"hidden",overflowY:"auto",height:"100%",width:"100%",margin:"0",border:"0",padding:"0"},iframe_container_css:n,on:{close:function(){return t.close()}}},e);return t=a.call(this,i)}return t=l,n&&s(t.prototype,n),i&&s(t,i),t}(r.default);t.default=d},1162:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(2514)),o=u(n(2164)),i=u(n(4790)),a=n(6516),s=u(n(2504));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(c,e);var t,n,r,u=p(c);function c(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(this,c),(e=u.call(this,"Popup")).options=Object.assign(c.DEFAULT_OPTIONS,t),e}return t=c,n=[{key:"clearTimer",value:function(){clearTimeout(this.popupTimer),delete this.popupTimer}},{key:"close",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.clearTimer(),this.popupOverlay&&this.popupOverlay.close(),this.popupWindow&&(this.popupWindow.close(),delete this.popupWindow),this.trigger("close",t),"function"==typeof e&&e(t)}},{key:"getLoadingPage",value:function(){i.default.get("templates/loading.html",this.renderLoadingPage.bind(this))}},{key:"open",value:function(e){return this.popupWindow&&!this.popupWindow.top&&delete this.popupWindow,this.popupWindow?this.popupWindow.focus():(this.popupTimer=setTimeout(this.openPopupOverlay.bind(this,e),this.options.popupTimeout),this.popupWindow=window.open(this.options.src||"",this.options.popupName,(0,a.childWindowParams)(this.options.popupWidth)),this.options.src||this.getLoadingPage()),"function"==typeof e&&e(),this.popupWindow}},{key:"openPopupOverlay",value:function(e){delete this.popupTimer,this.popupOverlay?this.popupOverlay.open():(this.popupOverlay=new o.default({template_args:{title:this.options.popupOverlayMessage}}),this.popupOverlay.on("close",this.close.bind(this,null,!0)).on("continue",this.open.bind(this,e)).on("continue",(function(){s.default.trackImpression("Popup Appeared From Continue")})))}},{key:"renderLoadingPage",value:function(e){var t=i.default.render({},e);!this.options.src&&this.popupWindow&&this.popupWindow.document&&(this.popupWindow.document.open(),this.popupWindow.document.write(t),this.popupWindow.document.close())}},{key:"updateSource",value:function(e){this.options.src=e,this.popupWindow&&this.popupWindow.location&&this.popupWindow.location.replace(e)}}],r=[{key:"DEFAULT_OPTIONS",get:function(){return{popupName:"Affirm",popupOverlayMessage:"Please click continue if you don't see the Affirm window. You may need to turn off your pop-up blocker.",popupTimeout:2500,popupWidth:400}}}],n&&f(t.prototype,n),r&&f(t,r),c}(r.default);t.default=g},2154:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(3264)),o=u(n(4615)),i=u(n(8469)),a=u(n(2613)),s=u(n(217));function u(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(0,s.default)(this,"createPrequalWidget","launchPrequalFlow"),o.default.instance.on(["reset","set","update"],this.createPrequalWidget)}var t,n,u;return t=e,(n=[{key:"createPrequalWidget",value:function(){if(!this.prequalWidget){var e=o.default.get();this.prequalWidget=new i.default(c({},e,{urlParams:{device_id:r.default.localDeviceId,merchant_name:e.merchant_name,referring_url:encodeURIComponent(window.location.href),unit_price:e.unit_price,use_promo:e.use_promo,locale:e.locale,webhook_session_id:e.webhook_session_id||a.default.getWebhookSessionId()}}))}}},{key:"launchPrequalFlow",value:function(){return this.prequalWidget||this.createPrequalWidget(),this.prequalWidget.open(null,o.default.get()),this.prequalWidget.getTargetWindow()}}])&&l(t.prototype,n),u&&l(t,u),e}();t.default=f},8469:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=y(n(3264)),o=y(n(4624)),i=y(n(536)),a=n(1735),s=y(n(8546)),u=y(n(4634)),c=n(6103),l=y(n(9340)),f=y(n(5256)),d=y(n(2613)),p=y(n(2504)),h=y(n(217)),m=y(n(4193)),g=y(n(8056));function y(e){return e&&e.__esModule?e:{default:e}}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function A(){return A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t,n){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},S(e,t,n||e)}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}var C="Prequal Modal Page",I=d.default.getFrontendUrl(i.default.resource_urls.prequal_backend_route),T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(v,e);var t,n,i,y=E(v);function v(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_(this,v);var r=Object.assign({mode:t.mode||l.default.MODE_MODAL},t);return(e=y.call(this,r,Object.assign({name:"prequal-application",popupCss:{width:"500px"},src:v.constructURL(t.urlParams)},n))).isPrequalComplete=!1,(0,h.default)(O(e),"postMessageListener"),e.on("prequalFinished",(function(e){var n=t.onSuccess;"function"==typeof n&&n(e)})),e}return t=v,n=[{key:"configPayload",get:function(){var e=this.config,t=e.merchant||{};return t.name=e.merchant_name,t.public_api_key=o.default.getPublicApiKey(),Object.assign({id:this.currentPostMessageId||v.POST_MESSAGE_ID,channel:a.POST_MESSAGE_CHANNEL,merchant:t,meta:{__affirm_tracking_uuid:r.default.localDeviceId,user_timezone:d.default.getUserTimeZone()},referring_url:window.location.href},this.config)}},{key:"defaultOptions",get:function(){var e=S(P(v.prototype),"defaultOptions",this);return e.resizeHeight=!0,e}},{key:"close",value:function(e){var t=this;g.default.unbind(window,"message",this.postMessageListener),S(P(v.prototype),"close",this).call(this,(function(){t.isPrequalComplete||t.unload(),u.default.trigger("prequal:close"),"function"==typeof e&&e()}))}},{key:"open",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return g.default.bind(window,"message",this.postMessageListener),l.default.determineMode(n.mode||this.config.mode||l.default.MODE_MODAL).then((function(r){var o=r;if(o===l.default.MODE_POPUP&&(o=l.default.MODE_MODAL),o===l.default.MODE_UNSUPPORTED)return(0,c.showError)({body:"Affirm Prequal requires third party cookies in order to work properly. Please enable them in your settings before continuing, or use a different browser.",title:"Your browser is missing important features"}),void("function"==typeof e&&e());t.config=Object.assign(t.config,n,{mode:o}),p.default.trackImpression(C),S(P(v.prototype),"open",t).call(t,e)}))}},{key:"postMessageListener",value:function(e){var t=f.default.parsePostMessageData(e);if(t&&t.id===v.POST_MESSAGE_ID)switch(t.name){case"AFFIRM_PREQUAL_FINISHED":p.default.trackActionLog("Prequal Finished"),this.isPrequalComplete=!0,u.default.trigger("prequal:complete",t.data),this.trigger("prequalFinished",t.data);break;case"AFFIRM_PREQUAL_SIGNED_OUT":this.trigger("prequalSignedOut");break;case"AFFIRM_PREQUAL_CLOSE":this.close();break;case"AFFIRM_PREQUAL_INIT":this.clearTimers(!0)}}},{key:"unload",value:function(){S(P(v.prototype),"unload",this).call(this),g.default.unbind(window,"message",this.postMessageListener)}}],i=[{key:"APP_NAME",get:function(){return"Affirm Prequal"}},{key:"POPUP_OVERLAY_MESSAGE",get:function(){return"Select continue, or turn off your pop-up blocker."}},{key:"POST_MESSAGE_ID",get:function(){return"AFFIRM_PREQUAL_MESSAGES"}},{key:"generatePromoPrequalConfig",value:function(e,t,n,o){return A({},e,{urlParams:{device_id:r.default.localDeviceId,merchant_name:e.merchant_name,promo_external_id:t.promoId,referring_url:encodeURIComponent(o),unit_price:t.amount,webhook_session_id:e.webhook_session_id||d.default.getWebhookSessionId(),use_promo:e.use_promo||"",page_type:t.page_type,cohort_id:t.cohort_id,use_adaptive:t.use_adaptive||null,inline:t.inline||null,locale:s.default.getLocale()||null,disable_prequal:t.disable_prequal||null},mode:n,page_type:"home"})}},{key:"constructURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=A({public_api_key:o.default.getPublicApiKey()},e);return"".concat(I,"?").concat(v.urlParamsToQueryString(t))}},{key:"urlParamsToQueryString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,m.default)(e,(function(e){return null!=e}));return null!=t&&t.items&&(t.items=(0,a.getItemsInput)(t.items)),e&&Object.keys(t).length?"".concat(Object.keys(t).map((function(e){return t[e]?"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e])):""})).join("&")):""}}],n&&b(t.prototype,n),i&&b(t,i),v}(l.default);t.default=T},5256:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(6075)),o=l(n(2514)),i=l(n(2613)),a=l(n(2504)),s=l(n(217)),u=l(n(8056)),c=n(1735);function l(e){return e&&e.__esModule?e:{default:e}}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},h(e,t,n||e)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}var _=r.default.getEnvironmentPaths(),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(l,e);var t,n,r,o=g(l);function l(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d(this,l),(e=o.call(this,t.name)).options=t,e.generateFrame(),(0,s.default)(v(e),"handlePostMessage","handleResizeEvent"),e.on("resize",e.handleResizeEvent),u.default.bind(window,"message",e.handlePostMessage),window["_affirm_post_message_".concat(e.name)]=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.trigger(t,n)},e}return t=l,n=[{key:"generateFrame",value:function(){var e=this;this.cssOptions=i.default.extend({overflow:"hidden",width:"100%",height:"100%"},this.options.css||{});var t=document.createElement("div");t.className=l.SANDBOX_CONTAINER_CLASSNAME,this.options.iframe_container_css&&i.default.setElementStyle(t,this.options.iframe_container_css);var n=document.createElement("iframe");return n.className=l.IFRAME_CLASSNAME,i.default.setElementAttrs(n,{id:this.name,width:this.cssOptions.width,height:this.cssOptions.height,frameborder:0,allowScroll:"no",allowTransparency:!0,sandbox:Object.keys(this.constructor.SANDBOX_PERMISSIONS||{}).join(" "),title:this.constructor.APP_NAME}),i.default.isObject(this.cssOptions)&&Object.keys(this.cssOptions).forEach((function(t){n.style[t]=e.cssOptions[t]})),this.defaultContainerDisplayStyle=(null!=this.options.iframe_container_css?this.options.iframe_container_css.display:void 0)||"block",t.style.display="none",this.$iframe=n,this.$iframe_container=t,this.orientation=window.orientation,this.bind("ready",(function(){return e.trigger("ready")})),this.$iframe_container}},{key:"handlePostMessage",value:function(e){var t,n=e||{data:""};try{t=JSON.parse(n.data)}catch(e){t={}}var r=new RegExp("".concat(this.name,"_"));if(t&&t.name&&t.name.match(r)){var o=t.name.replace(r,"").toLowerCase(),i=t.data||{};this.trigger(o,i)}}},{key:"regenerateIfAlreadyAppended",value:function(){if(!this.isOrphan()&&this.$iframe_container.parentNode){var e=this.$iframe_container.style.display;this.$iframe_container.parentNode.removeChild(this.$iframe_container),this.generateFrame(),this.$iframe_container.style.display=e}}},{key:"appendTo",value:function(e){var t=i.default.getElementById(e);return this.regenerateIfAlreadyAppended(),this.$iframe_container.appendChild(this.$iframe),t&&t.appendChild&&t.appendChild(this.$iframe_container),this}},{key:"content",value:function(e){if(this.isOrphan())return this.logError("Tried to set content on orphaned iframe",{content:e}),this;var t=this.$iframe.contentWindow.document;return this.write(e),this.write(this.insertPostMessageSender()),this.write(this.insertPostMessageReceiver()),this.write(l.insertResizeListener()),t.close(),this}},{key:"write",value:function(e){try{this.$iframe.contentWindow.document.write(e)}catch(e){}}},{key:"insertPostMessageSender",value:function(){return["<scr","ipt"," defer='defer'>","window.trigger = function(name,data){","try{","_name = '".concat(this.name,"_' + name;"),"_d = JSON.stringify({ name: _name, data: data });","window.parent.postMessage( _d, '".concat(document.location.origin,"' );"),"} catch(e) {","window.parent._affirm_post_message_".concat(this.name,"(name, data);"),"}","}","</scr","ipt>"].join("")}},{key:"insertPostMessageReceiver",value:function(){return["<scr","ipt"," defer='defer'>","if(window.addEventListener){","_action = 'addEventListener';","_event  = 'message';","} else {","_action = 'attachEvent';","_event  = 'onmessage';","}","window[_action](_event, function(ev){","var _event = ev || {data:''},","_namespace_regex = new RegExp('".concat(this.name,"_');"),"try{","_data = JSON.parse(_event.data);","} catch (e){","_data = {};","}","if(_data && _data.name && _data.name.match(_namespace_regex)){","var _n = _data.name.replace(_namespace_regex, '').toLowerCase();","var _d = _data.data || {};","try{","if (window.affirm_events && window.affirm_events[_n]) {","window.affirm_events[_n].call(window,_d);","}","}catch(e){}","}","});","</scr","ipt>"].join("")}},{key:"handleResizeEvent",value:function(e,t){var n=this,r=t||e||{},o=this.orientation;if(this.orientation=window.orientation,window.orientation!==o&&(i.default.swapStyle(this.$iframe_container,"top","bottom"),i.default.swapStyle(this.$iframe_container,"left","right"),this.$iframe_container.style.width)){var a=this.$iframe_container.style.width;this.$iframe_container.style.width="",window.requestAnimationFrame((function(){n.$iframe_container.style.width=a}))}r.height&&this.$iframe.scrollHeight<r.height&&(this.$iframe.style.height=r.height+100)}},{key:"trigger",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.data||t;h(A(l.prototype),"trigger",this).call(this,e,r);var o={name:"".concat(this.name,"_").concat(e),channel:c.POST_MESSAGE_CHANNEL,data:r};try{o=JSON.stringify(o)}catch(e){o=""}var s=i.default.getDomain(this.src())!==i.default.getDomain(window.location.href);if(n&&(s||!this.isOrphan())){var u=this.getTargetWindow();u?u.postMessage(o,this.origin()):a.default.trackActionLog("Post message error: target window not found on event trigger")}}},{key:"origin",value:function(){return(this.src()||document.location.href).split("/").slice(0,3).join("/")}},{key:"isOrphan",value:function(){try{return!(this.$iframe&&this.$iframe.contentWindow&&this.$iframe.contentWindow.document)}catch(e){return!this.$iframe.parentNode}}},{key:"bind",value:function(e,t){u.default.bind(this.$iframe,e,t)}},{key:"unbind",value:function(e,t){u.default.unbind(this.$iframe(e,t))}},{key:"src",value:function(e){if(!e)try{return this.$iframe.getAttribute("src")}catch(e){return this.$iframe.src}return i.default.setElementAttrs(this.$iframe,{src:e}),this}},{key:"hide",value:function(){return this.trigger("hiding",{},!1),this.$iframe_container.style.display="none",this}},{key:"show",value:function(){return this.activeElementBeforeShown=document.activeElement,this.trigger("showing",{},!1),this.$iframe_container.style.display=this.defaultContainerDisplayStyle,this}},{key:"remove",value:function(){return u.default.unbind(window,"message",this.handlePostMessage),this.$iframe_container.parentNode&&this.$iframe_container.parentNode.removeChild(this.$iframe_container),this.trigger("remove",{},!1),this}},{key:"getTargetWindow",value:function(){return this.$iframe.contentWindow}}],r=[{key:"APP_NAME",get:function(){return"Affirm"}},{key:"IFRAME_CLASSNAME",get:function(){return"affirm-sandbox-iframe"}},{key:"RESIZE_INTERVAL",get:function(){return 500}},{key:"SANDBOX_CONTAINER_CLASSNAME",get:function(){return"affirm-sandbox-container"}},{key:"SANDBOX_PERMISSIONS",get:function(){return{"allow-forms":!0,"allow-modals":!0,"allow-popups":!0,"allow-same-origin":!0,"allow-scripts":!0}}},{key:"insertResizeListener",value:function(){return["<scr","ipt"," defer='defer'>","(function(){","function getHeight(){","var body = document.body, html = document.documentElement,","max_height = Math.max( body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight );","return body.scrollHeight;","}","var _current_height = 0;","setInterval(function(){","if(_current_height != getHeight()){","trigger('resize', {height: getHeight()});","_current_height = getHeight();","}","}, ".concat(l.RESIZE_INTERVAL,");"),"}());","</scr","ipt>"].join("")}},{key:"postMessageHasValidOrigin",value:function(e){return e.origin===_.frontend_url.replace(/\/$/,"")}},{key:"parsePostMessageData",value:function(e){var t=null;if(l.postMessageHasValidOrigin(e)&&"string"==typeof e.data)try{t=JSON.parse(e.data)}catch(e){}return t}}],n&&p(t.prototype,n),r&&p(t,r),l}(o.default);t.default=b},5806:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(5256)),o=a(n(4790)),i=a(n(2613));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(s,e);var t,n,r,a=f(s);function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,s),e=a.call(this,t),i.default.isObject(e.options.on)&&Object.keys(e.options.on).forEach((function(t){e.on(t,e.options.on[t])})),e}return t=s,n=[{key:"container",value:function(){return this.isOrphan()?this.options.container:this.$iframe_container.parentNode}},{key:"paint",value:function(){var e=this;if(!this.options.container)return this.logError("Cannot paint widget without container",{options:this.options});if(!this.options.src&&!this.options.content&&!this.options.template)return this.logError("Cannot paint widget without src, content, or template",{options:this.options});if(this.appendTo(this.options.container),this.options.src)this.$iframe.onload=function(){e.trigger("ready")},this.src(this.options.src);else if(this.options.content)this.content(this.options.content),this.trigger("ready");else if(this.options.template){var t=this.options.template_args||{};o.default.get(this.options.template,(function(n){e.content(o.default.render(t,n)),e.trigger("ready")}))}return this}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.default.extend(this.options,e),this.paint()}}],n&&c(t.prototype,n),r&&c(t,r),s}(r.default);t.default=h},5556:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(2613)),o=i(n(217));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.widgets=[],this.hidden=!0,(0,o.default)(this,"close","load","open","remove","transition")}var t,n,i;return t=e,(n=[{key:"close",value:function(e){return this.hidden?("function"==typeof e&&e(),this):(this.widgets.forEach((function(e){e.hide()})),this.hidden=!0,r.default.delay((function(){"function"==typeof e&&e()}),250))}},{key:"load",value:function(e){e.options.container||(e.options.container=document.body),e.paint(),this.widgets.push(e)}},{key:"open",value:function(e,t){return this.hidden?(-1===this.widgets.indexOf(e)&&this.load(e),e.show(),this.hidden=!1,r.default.delay((function(){"function"==typeof t&&r.default.delay(t,250)}))):this.transition(e,t)}},{key:"remove",value:function(e){this.widgets=this.widgets.filter((function(t){return t!==e})),"function"==typeof e.remove&&e.remove()}},{key:"transition",value:function(e,t){return this.hidden?this.open(e,t):(-1===this.widgets.indexOf(e)&&this.load(e),this.widgets.forEach((function(t){t!==e&&t.hide()})),e.show(),r.default.delay((function(){"function"==typeof t&&t()}),250))}}])&&a(t.prototype,n),i&&a(t,i),e}());t.default=s},2889:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=b(n(3264)),o=b(n(8139)),i=b(n(4624)),a=b(n(536)),s=n(110),u=n(1735),c=b(n(8546)),l=b(n(4615)),f=b(n(2851)),d=b(n(4644)),p=b(n(9340)),h=b(n(1684)),m=b(n(8469)),g=b(n(1277)),y=n(6516),v=b(n(2613)),A=b(n(3873));n(2467);var _=b(n(2504));function b(e){return e&&e.__esModule?e:{default:e}}function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}var E={},k={apr:.1,pricingTemplate:"Starting at {payment}/month with {affirm_logo}",termLength:12},O=3e6,S=["text","logo","symbol"],P=["black","blue","primary","white"],C="As Low As",I="XXXXXXXXXXXXXXX",T={},M=function(e){var t=i.default.getPublicApiKey();return"en_AU"===c.default.getLocale()&&-1!==s.SPECIAL_SPLITTING_PUBLIC_API_KEYS.indexOf(t)?e.split(", "):e.split(",")},x=function(e){return{displayName:"DISPLAYNAME-SKU",qty:1,sku:e.trim(),unitPrice:1}},R=function(e){if(!e.isDefault){var t=l.default.get(),n=i.default.getPublicApiKey();return w({},t,{urlParams:{device_id:r.default.localDeviceId,merchant_name:t.merchant_name,promo_external_id:e.promoId,referring_url:encodeURIComponent(window.location.href),unit_price:e.amount,webhook_session_id:t.webhook_session_id||v.default.getWebhookSessionId(),page_type:e.pageType,use_promo:!0,bluecore_distinct_id:A.default.getDistinctID(n),bluecore_token:A.default.getToken(n),locale:c.default.getLocale()||null,disable_prequal:e.disable_prequal||null},mode:p.default.MODE_MODAL,page_type:"home"})}return null},j=function(e){var t=i.default.getPublicApiKey();if(!e)return o.default.getPromoConfig(t,"as_low_as",e,k);var n="affirm-promo:".concat(t,"-").concat(e);if(!T[n]){var r="".concat(a.default.promos_url_prefix,"as_low_as/").concat(t,"/").concat(e,".json");T[n]=window.fetch(r).then((function(e){return e.ok&&_.default.trackAPI(r,e.statusCode,e),e.json()})).catch((function(){return k}))}return T[n]},D=function(e,t,n,r){var o=e.replace(/\{lowest_apr\}/gi,(100*n).toString());return o=(o=o.replace(/\{payment\}/gi,'<span class="affirm-ala-price">$'.concat(t,"</span>"))).replace(/\{affirm_logo\}/gi,r)},L=function(e,t,n,r){return!E.promoPrequalWidgets[t]||e?(0,u.getCSMPrequalExperiment)(!0).then((function(o){n.adaptiveCheckoutEnabled=!0,n.disable_prequal=!o;var i=R(n);i.items=e,i.urlParams.items=e;var a=new m.default(i);return E.promoPrequalWidgets[t]=a,a.on(["prequalFinished","prequalSignedOut"],(function(){r&&W(r)})),a.open(null,{mode:p.default.MODE_MODAL}),Promise.resolve()})):(E.promoPrequalWidgets[t].open(null,{mode:p.default.MODE_MODAL}),Promise.resolve())},N=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=t,i=o.promoId;if(_.default.trackUserInteraction(C,_.default.USER_ACTIONS.CLICK,{isPromoDefault:o.isDefault}),o.isDefault)return d.default.openModal(e,o),Promise.resolve();var a="".concat(i,"-").concat(o.amount,"-").concat(o.pageType),s=f.default.getClickHandler(r);if(s)return Promise.resolve(s()).then((function(e){var t=e.items;return(0,y.isValidItems)(t)?L(t,a,o,r):L({},a,o,r)}));var u=null==r||null===(n=r.getAttribute)||void 0===n?void 0:n.call(r,"data-sku");if(u){var c=[];if(u=u?u.trim():u){var l=M(u);if(c=l.map(x),(0,y.isValidItems)(c))return L(c,a,o,r)}}return L(null,a,o,r)},U=function(e,t){var n=e.getElementsByClassName("affirm-modal-trigger");if(0!==n.length){n.length>1&&_.default.trackEvent("too many affirm-modal-trigger elements found",w({numElements:n.length},t));var r=n[0],o=r.innerText||r.innerHTML;r.setAttribute("aria-label","".concat(o," about Affirm Financing (opens in modal)")),r.setAttribute("href","javascript:void(0)"),r.onclick=function(n){n.preventDefault(),N(n,t,e)}}else _.default.trackEvent("no affirm-modal-trigger found",w({},t))},F=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Learn more";if(n){""!==e.innerHTML&&(e.innerHTML+=". ");var i=document.createElement("a");i.innerHTML=o,i.setAttribute("aria-label","".concat(o," about Affirm Financing (opens in modal)")),i.setAttribute("href","javascript:void(0)"),i.onclick=function(n){n.preventDefault(),N(n,t,e)},e.appendChild(i)}else if(r){var a=e.innerText||e.innerHTML;e.setAttribute("aria-label","".concat(a," - Affirm Financing (opens in modal)")),e.setAttribute("href","javascript:void(0)"),e.onclick=function(n){n.preventDefault(),N(n,t,e)},e.style="cursor: pointer;"}},B=function(e){var t,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},u=i;if(u.isDefault=!o.promo_prequal_enabled,o.termLengthIntervals){if(!(t=g.default.getTermLengthIntervalForAmount(o.termLengthIntervals,u.amount))){if(o.defaultMessage){var c=o.defaultMessage.replace(/\{affirm_logo\}/gi,u.affirmLogo),l=g.default.getMinAPR(o.termLengthIntervals);e.innerHTML=c.replace(/\{lowest_apr\}/gi,(100*l).toString()),E.setSiteWideModalOnElement(e,u)}else e.innerHTML="";return}var f=t;n=f.apr,r=f.termLength}else{if(u.amount<5e3)return void(e.innerHTML="");n=o.apr,r=o.termLength}h.default.getEstimate({amount:u.amount,apr:n,months:r,elem:e}).then((function(t){u.apr=n,u.termLength=r,u.paymentString=t.payment_string,u.pricingTemplate=o.pricingTemplate,E.setPromoOnElement(e,u),E.setProductPageModalOnElement(e,u),s.trackPromos&&_.default.trackEvent("Promo: ALA Rendered",{elapsedTime:Date.now()-s.promoTimer,version:"v1"}),a&&a()}))},H=function(e,t){var n="symbol"===t?"affirm":"Affirm";return"text"===t?"Affirm":'<span class="__affirm-logo __affirm-logo-'.concat(e,'">').concat(n,"</span>")},W=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=e.getAttribute("data-amount"),s=e.getAttribute("data-affirm-color")||"blue",u=e.getAttribute("data-affirm-type")||"logo",c="false"!==e.getAttribute("data-learnmore-show"),l=e.getAttribute("data-page-type"),f=[],d=e.getAttribute("data-sku");if(d=d?d.trim():d){var p=M(d);f=p.map(x)}var h=e.getAttribute("data-promo-id")===I?null:e.getAttribute("data-promo-id");if(t=n?"true"===e.getAttribute("data-clickable"):"false"!==e.getAttribute("data-clickable"),!a)throw new Error("Affirm: data-amount is required in as low as promos. Element:",e);if(a>O)return e.innerHTML="",Promise.resolve();if(-1===S.indexOf(u))throw new Error('Affirm: Received a wrong data-affirm-type value "'.concat(u,'". Element:'),e);if(-1===P.indexOf(s))throw new Error('Affirm: Received a wrong data-affirm-color value "'.concat(s,'". Element:'),e);var m=H(s,u),g={amount:a,affirmLogo:m,learnMore:c,clickable:t,promoId:h,pageType:l};r.trackPromos&&_.default.trackEvent("Promo: ALA Pre-fetch",{elapsedTime:Date.now()-r.promoTimer});var y=i.default.getPublicApiKey();if(o.default.useV2Api(y,h)){var v={promoId:g.promoId,amount:g.amount,pageType:g.pageType,logoType:u,showCTA:c?"true":"false",logoColor:s};f.length>0&&(v.items=f);var A=o.default.TEMPLATE_FIELD.ala;return o.default.getPromoResponse(y,v,A).then((function(n){var o=n?n.promo:null;if(o&&o.config){var i={amount:g.amount,pageType:g.pageType,promoId:h,type:"product_page_modal"};e.innerHTML=o.html_ala,r.trackPromos&&_.default.trackEvent("Promo: ALA Rendered",{elapsedTime:Date.now()-r.promoTimer,version:"v2"}),t&&U(e,i)}}))}return E.getConfig(h).then((function(t){B(e,t,g,null,r)}))},V=function(e,t){return-1!==e.parentElement.className.indexOf(t)};E.defaultConfig=k,E.generatePromoPrequalConfig=R,E.getConfig=function(e){return g.default.isPromoSet(e)?g.default.getConfig(e,"asLowAs").catch((function(){return j(e)})):j(e)},E.getDisplayText=D,E.getPromoConfig=j,E.openModalAssociatedWithPromoId=N,E.processConfigAndSetElement=B,E.promoPrequalWidgets={},E.promos=T,E.setProductPageModalOnElement=function(e,t){var n=e.getAttribute("data-promo-id"),r=e.getAttribute("data-modal-id"),o={isDefault:t.isDefault,modalId:r,amount:t.amount,promoId:n,apr:t.apr,termLength:t.termLength,type:"product_page_modal"};F(e,o,t.learnMore,t.clickable)},E.setPromoOnElement=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.innerHTML=D(t.pricingTemplate,t.paymentString,t.apr,t.affirmLogo)},E.setSiteWideModalOnElement=function(e,t){var n=e.getAttribute("data-promo-id"),r=e.getAttribute("data-modal-id"),o={isDefault:t.isDefault,modalId:r,promoId:n,type:"site_wide_modal"};F(e,o,t.learnMore,t.clickable)},E.setupElement=W,E.setupElements=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=0;n<e.length;n+=1){var r=e[n];try{var o=V(r,"affirm-product-modal")||V(r,"affirm-site-modal");W(r,o,t)}catch(e){console.error(e)}}};var Q=E;t.default=Q},4418:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(2504)),o=i(n(2613));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t=e.checkoutData,n=e.checkoutAri,i=e.mode,a=e.userConfirmationUrl,s=e.userConfirmationUrlAction;r.default.trackActionLog("AFJS_default_checkout_on_success",{checkoutAri:n,checkoutToken:t.checkout_token,widgetMode:i});var u={};t.checkout_token?u.checkout_token=t.checkout_token:u.charge_id=t.id,"GET"===s&&(u=Object.assign(o.default.queryObj(a),u)),o.default.postToUrl(a,u,s)};t.default=a},2805:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(3264)),o=c(n(4624)),i=c(n(5256)),a=c(n(2613)),s=c(n(8056)),u=n(1735);function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(t,n){var i=t.id,a=t.src;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!i)throw new Error("An id is required to create a component.");if(!a)throw new Error("A src is required to create a component.");this.options=Object.assign({},n),this.id="".concat(i,"-").concat(parseInt(1e16*Math.random(),10));var s=r.default.localDeviceId,u=a.indexOf("?")>-1?"&":"?";this.src="".concat(a).concat(u,"componentId=").concat(this.id,"&device_id=").concat(s,"&public_api_key=").concat(o.default.getPublicApiKey()),this.setupIFrame(),this.setupPostMessage(),this.eventHandlers={},this.externalApi={render:this.render.bind(this),update:this.update.bind(this),unmount:this.unmount.bind(this),on:this.on.bind(this),off:this.off.bind(this)}}var t,n,c;return t=e,n=[{key:"setupIFrame",value:function(){this.isIFrameReady=!1,this.iframe=document.createElement("iframe"),a.default.setElementAttrs(this.iframe,{id:this.id,class:e.IFRAME_CLASS,width:e.DEFAULT_STYLES.width,height:e.DEFAULT_STYLES.height,frameborder:0,allowScroll:"no",allowTransparency:!0,src:this.src,title:this.constructor.IFRAME_TITLE}),a.default.setElementStyle(this.iframe,e.DEFAULT_STYLES)}},{key:"setupPostMessage",value:function(){s.default.bind(window,"message",this.postMessageListener.bind(this))}},{key:"render",value:function(e){var t=document.querySelector(e);if(!t)throw new Error("There are no elements matching the selector ".concat(e));if(this.iframe.parentNode===t)return this.getApi();if(this.iframe.parentNode)throw new Error("You must unmount() this element before rendering it to a different container");return t.appendChild(this.iframe),this.getApi()}},{key:"unmount",value:function(){return this.iframe.parentNode&&(this.iframe.parentNode.removeChild(this.iframe),this.isIFrameReady=!1),this.getApi()}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(this.options,t),this.postMessage(e.POST_MESSAGES.updateOptions,this.options),this.getApi()}},{key:"on",value:function(e,t){return this.eventHandlers[e]=t,this.getApi()}},{key:"off",value:function(e){return e in this.eventHandlers&&delete this.eventHandlers[e],this.getApi()}},{key:"getApi",value:function(){return this.externalApi}},{key:"postMessage",value:function(e,t){if(!this.isIFrameReady||!this.iframe.contentWindow)return!1;var n=JSON.stringify({id:this.id,name:e,channel:u.POST_MESSAGE_CHANNEL,data:t});return this.iframe.contentWindow.postMessage(n,a.default.getDomain(this.src)),!0}},{key:"updateStyles",value:function(e){e.width&&this.iframe.setAttribute("width",e.width),e.height&&this.iframe.setAttribute("height",e.height),a.default.setElementStyle(this.iframe,e)}},{key:"handlePostMessage",value:function(t){switch(t.name){case e.POST_MESSAGES.iframeReady:this.isIFrameReady=!0,this.update();break;case e.POST_MESSAGES.style:this.updateStyles(t.data)}}},{key:"postMessageListener",value:function(e){var t=i.default.parsePostMessageData(e);t&&t.id===this.id&&this.handlePostMessage(t)}}],c=[{key:"POST_MESSAGES",get:function(){return{iframeReady:"AFFIRM_COMPONENT_IFRAME_READY",style:"AFFIRM_COMPONENT_STYLE",updateOptions:"AFFIRM_COMPONENT_UPDATE_OPTIONS"}}},{key:"DEFAULT_STYLES",get:function(){return{width:"0",height:"0",display:"block"}}},{key:"IFRAME_TITLE",get:function(){return"Affirm"}},{key:"IFRAME_CLASS",get:function(){return"affirm-component-iframe"}}],n&&l(t.prototype,n),c&&l(t,c),e}();t.default=f},1992:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(536)),o=u(n(4634)),i=u(n(2805)),a=u(n(2613)),s=["name"];function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},p(e,t,n||e)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(c,e);var t,n,i,u=m(c);function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var n=a.default.getFrontendUrl(r.default.resource_urls.checkout_button_route);return A(y(t=u.call(this,{id:"checkout-button",src:n},e)),"setupOrders",(function(e){e&&!0===e&&o.default.trigger("orders:blocked")})),t.setupEventListeners(),t}return t=c,i=[{key:"IFRAME_TITLE",get:function(){return"Affirm Checkout"}}],(n=[{key:"handlePostMessage",value:function(e){var t=e.name,n=f(e,s);if(p(v(c.prototype),"handlePostMessage",this).call(this,l({name:t},n)),t===c.OPEN_ORDERS){if("click"in this.eventHandlers)return this.handleOnClick();this.setupOrders({})}return null}},{key:"handleOnClick",value:function(){var e=this.eventHandlers.click;return Promise.resolve(e()).then(this.setupOrders.bind(this))}},{key:"setupEventListeners",value:function(){var e=this;o.default.on("orders:open",(function(){e.postMessage(c.ORDERS_HAS_OPENED)})),o.default.on("orders:blocked",(function(){e.postMessage(c.ORDERS_BLOCKED)}))}}])&&d(t.prototype,n),i&&d(t,i),c}(i.default);t.default=_,A(_,"OPEN_ORDERS","AFFIRM_COMPONENT_CHECKOUT_BUTTON_OPEN_ORDERS"),A(_,"ORDERS_HAS_OPENED","AFFIRM_COMPONENT_CHECKOUT_BUTTON_ORDERS_HAS_OPENED"),A(_,"ORDERS_BLOCKED","AFFIRM_COMPONENT_CHECKOUT_BUTTON_ORDERS_BLOCKED")},4747:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1992)),o=i(n(1139));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s={"checkout-button":r.default,promo:o.default},u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!s[e])throw new Error("".concat(e," is not a valid Affirm component type"));return new s[e](t).getApi()}}],(n=null)&&a(t.prototype,n),r&&a(t,r),e}(),c=u;t.default=c},1139:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=m(n(3264)),o=m(n(8139)),i=m(n(4624)),a=n(1735),s=m(n(8546)),u=m(n(4615)),c=m(n(4634)),l=m(n(9340)),f=m(n(8469)),d=m(n(2613)),p=m(n(3873)),h=m(n(2504));function m(e){return e&&e.__esModule?e:{default:e}}function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=["logo","symbol","text"],_=["black","blue","white"],b=["qty","unitPrice","displayName","sku"],w=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,"getFormattedOptions",(function(e){return Object.assign({affirmLogoColor:"blue",affirmLogoType:"logo",amount:0,learnMoreShow:!0,items:[]},e)})),v(this,"getPromo",(function(){n.promoJson=null;var t=n.options,r=t.amount,i=t.pageType,a=t.affirmLogoType,s=t.affirmLogoColor,u=t.promoId,c=t.learnMoreShow,l=t.items;if(!e.optionsAreValid(n.options))return Promise.resolve(null);if(!i)return console.error("ERROR (Affirm): No pageType provided."),Promise.resolve(null);if(r>3e6)return console.error("ERROR (Affirm): Amount provided is greater than maximum loan amount."),Promise.resolve(null);if(-1===A.indexOf(a))return console.error('ERROR (Affirm): Received an incorrect affirmLogoType value: "'.concat(a,'".')),Promise.resolve(null);if(-1===_.indexOf(s))return console.error('ERROR (Affirm): Received an incorrect affirmLogoColor value: "'.concat(s,'".')),Promise.resolve(null);var f=[];if(l.forEach((function(e){var t=Object.keys(e);b.forEach((function(e){-1===t.indexOf(e)&&-1===f.indexOf(e)&&f.push(e)}))})),f.length>0)return console.error('ERROR (Affirm): "'.concat(f,'" is a required field for each item.')),Promise.resolve(null);var d=Date.now(),p=Object.assign({},n.options),m={promoId:u,amount:r,pageType:i,items:l,logoType:a,logoColor:s,showCTA:c.toString()};return o.default.getPromoResponse(n.apiKey,m,o.default.TEMPLATE_FIELD.ala).then((function(e){return h.default.trackEvent("Promo JS: create ALA",{elapsedTime:Date.now()-d},.01),JSON.stringify(n.options)!==JSON.stringify(p)?null:(n.promoJson=e?e.promo:null,e?e.promo:null)}))})),v(this,"generatePromoPrequalConfig",(function(e){var t=e.promoId,o=e.amount,i=e.pageType,a=e.items,c=e.adaptiveCheckoutEnabled,f=e.disablePrequal,h=u.default.get(),m=n.apiKey;return g({},h,{urlParams:{device_id:r.default.localDeviceId,items:a,locale:s.default.getLocale()||null,merchant_name:h.merchant_name,promo_external_id:t,referring_url:encodeURIComponent(window.location.href),unit_price:o,webhook_session_id:h.webhook_session_id||d.default.getWebhookSessionId(),page_type:i,use_promo:!0,bluecore_distinct_id:p.default.getDistinctID(m),bluecore_token:p.default.getToken(m),use_adaptive:c||null,disable_prequal:f||null},mode:l.default.MODE_MODAL})})),v(this,"openPrequalModal",(function(e){var t=(0,a.getModes)();return n.modalElement?null!=t&&t.disableEduModalPopup?c.default.trigger("learnMore:click",n.modalElement.options.src):n.modalElement.open(null,{mode:l.default.MODE_MODAL}):(0,a.getCSMPrequalExperiment)(!0).then((function(r){var o=n.generatePromoPrequalConfig(g({},e,{adaptiveCheckoutEnabled:!0,disablePrequal:!r})),i=new f.default(o);return n.modalElement=i,null!=t&&t.disableEduModalPopup?c.default.trigger("learnMore:click",i.options.src):i.open(null,{mode:l.default.MODE_MODAL})}))})),v(this,"setupAffirmModalTrigger",(function(e,t){var n=e.getElementsByClassName("affirm-modal-trigger");if(0===n.length)return h.default.trackEvent("no affirm-modal-trigger found",g({},t)),null;if(n.length>1)return h.default.trackEvent("too many affirm-modal-trigger elements found",g({numElements:n.length},t)),null;var r=n[0],o=r.innerText||r.innerHTML;return r.setAttribute("aria-label","".concat(o," - Affirm Financing Promotions (opens in modal)")),r.setAttribute("href","javascript:void(0)"),r})),this.apiKey=i.default.getPublicApiKey(),this.options=this.getFormattedOptions(t),this.promo=this.getPromo(),this.promoJson=null,this.modalElement=null,this.externalApi={render:this.render.bind(this),update:this.update.bind(this)}}var t,n,m;return t=e,m=[{key:"optionsAreValid",value:function(e){if(!e)return console.error("ERROR (Affirm): No options were passed."),!1;var t=["affirmLogoColor","affirmLogoType","amount","brand","category","learnMoreShow","pageType","promoId","sku","items"];return!!Object.keys(e).every((function(e){return t.indexOf(e)>=0}))||(console.error("ERROR (Affirm): Received invalid options."),!1)}}],(n=[{key:"getApi",value:function(){return this.externalApi}},{key:"attachModalToAla",value:function(e){var t=this;this.hasRendered=!0,this.isRendering=!1,h.default.trackImpression("Promo JS: ALA Rendered");var n={amount:this.options.amount,pageType:this.options.pageType,promoId:this.options.promoId,type:"product_page_modal",items:(0,a.getItemsInput)(this.options.items)},r=this.setupAffirmModalTrigger(e,n);r&&(r.onclick=function(e){e.preventDefault(),h.default.trackUserInteraction("Promo JS: CTA Clicked",h.default.USER_ACTIONS.CLICK),t.openPrequalModal(n)})}},{key:"render",value:function(e){var t=this,n=document.querySelector(e);return n?(this.cssSelectorForPromo=e,this.isRendering=!0,this.promoJson?(n.innerHTML=this.promoJson.html_ala,this.attachModalToAla(n)):this.promo.then((function(e){e&&(n.innerHTML=e.html_ala,t.attachModalToAla(n))})),c.default.trigger("promo:render"),this.getApi()):(console.error("ERROR (Affirm): There are no elements matching the selector ".concat(e)),null)}},{key:"update",value:function(t){var n=this;return e.optionsAreValid(t)?(this.modalElement=null,Object.keys(t).forEach((function(e){n.options[e]=t[e]})),this.promo=this.getPromo(),h.default.trackImpression("Promo JS: ALA Updated"),(this.isRendering||this.hasRendered)&&this.render(this.cssSelectorForPromo),this.getApi()):null}}])&&y(t.prototype,n),m&&y(t,m),e}();t.default=w},679:function(e,t){"use strict";function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}function r(e){return e&&e.affirmConfig?e.affirmConfig:null}Object.defineProperty(t,"__esModule",{value:!0}),t.findAffirmConfig=r,t.setAffirmConfig=function(e,t){var o=r(e)||{};return e.affirmConfig=n({},o,t),e.affirmConfig}},2326:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(4624)),o=s(n(6075)),i=s(n(4838)),a=s(n(2504));function s(e){return e&&e.__esModule?e:{default:e}}n(2467);var u={},c=["text","logo","symbol"],l=o.default.getEnvironmentPaths(),f=["black","blue","primary","white"],d="Inline Prequal Promo",p=function(e){var t,n=e,r=n.getAttribute("data-promo-id"),o=n.getAttribute("data-affirm-color")||"primary",s=n.getAttribute("data-affirm-type")||"logo",l="true"===n.getAttribute("data-learnmore-show"),p="false"!==n.getAttribute("data-clickable");if(-1===c.indexOf(s))throw new Error('Affirm: Received a wrong data-affirm-type value "'.concat(s,'". Element:'),n);if(-1===f.indexOf(o))throw new Error('Affirm: Received a wrong data-affirm-color value "'.concat(o,'". Element:'),n);return t="text"===s?"Affirm":'<span class="__affirm-logo __affirm-logo-'.concat(o,'">').concat("symbol"===s?"affirm":"Affirm","</span>"),a.default.trackImpression(d),u.getConfig(r).then((function(e){var r=e.pricingTemplate;if(r=r.replace(/\{affirm_logo\}/gi,t),n.innerHTML=r,l){n.innerHTML="".concat(n.innerHTML,". ");var o=document.createElement("a"),s="Learn more";o.innerHTML=s,o.setAttribute("aria-label","".concat(s," about Affirm Financing Prequalification (opens in modal)")),o.setAttribute("href","javascript:void(0)"),o.onclick=function(e){a.default.trackUserInteraction(d,a.default.USER_ACTIONS.CLICK),e.preventDefault(),i.default.launchPrequalFlow()},n.appendChild(o)}else p&&(n.setAttribute("aria-label","".concat(r," - Affirm Financing Prequalification (opens in modal)")),n.setAttribute("href","#"),n.onclick=function(e){a.default.trackUserInteraction(d,a.default.USER_ACTIONS.CLICK),e.preventDefault(),i.default.launchPrequalFlow()},n.style="cursor: pointer;")}))};u.getConfig=function(e){var t="".concat(l.promos_url_prefix,"prequal_text/").concat(r.default.getPublicApiKey(),"/").concat(e,".json");return window.fetch(t).then((function(e){return e.ok?e.json():Promise.reject("Invalid promo ID")}))},u.setupElement=p,u.setupElements=function(e){for(var t=0;t<e.length;t+=1){var n=e[t];p(n)}};var h=u;t.default=h},6442:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(r.default.checkPublicApiKey()){var t=e||{},n=t.amount||null,i={pageType:t.pageType||null,promoId:t.id||t.promoId||null,isSdk:"true"===t.isSdk};n&&n>=5e3&&n<=175e4?(i.type="product_page_modal",i.amount=n):i.type="site_wide_modal";var a=document.createElement("p");return o.default.openModal(a,i),a}return console.warn("Missing API Key"),null};var r=i(n(4624)),o=i(n(4644));function i(e){return e&&e.__esModule?e:{default:e}}},1684:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(4624)),o=u(n(6075)),i=u(n(4644)),a=u(n(2613)),s=u(n(2504));function u(e){return e&&e.__esModule?e:{default:e}}var c=o.default.getEnvironmentPaths(),l={};var f={getEstimate:function(e,t){var n,o=e.amount,u=e.apr,f=e.months,d=r.default.getPublicApiKey(),p=new Date,h="".concat(p.getUTCFullYear(),"/").concat(p.getUTCMonth()+1,"/").concat(p.getUTCDate()),m=[o,u,f,h],g=l[m],y="".concat(a.default.getDomain(c.payments_url_base),"promos/payment_estimate_path");return g?n=g:(n=window.fetch("".concat(y,"/").concat(d,"/").concat(u,"/").concat(o,"/").concat(f,"?date=").concat(h)).then((function(e){return e.ok?e.json().then((function(t){return{json:t,status:e.status,url:e.url}})):e.json().then((function(t){return s.default.trackAPI(e.url,e.status,t.message),Promise.reject("Could not get an estimate for apr: ".concat(u,", amount: ").concat(o,", months: ").concat(f,". Error: ").concat(t.error))}))})).then((function(t){var n=t.json,r=t.status,a=t.url;s.default.trackAPI(a,r,n.disclosure);var c=n;return c.open_modal=function(t){var n,r,a,l;t&&"function"==typeof t.preventDefault&&t.preventDefault(),s.default.trackUserInteraction("Promo Modal",s.default.USER_ACTIONS.CLICK),new i.default({amount:o,apr:u,disclosure:(n=c.payment,r=c.disclosure,a=Math.floor(n/100),l=n%100,l=l<10?"0".concat(l):l,"$".concat(a,".").concat(l,"/mo ").concat(r[0].toLowerCase()).concat(r.slice(1))),DOMNode:e.elem,months:f,payment:c.payment,termLength:c.months})},c})).catch((function(e){return Promise.reject("Could not get an estimate for apr: ".concat(u,", amount: ").concat(o,", months: ").concat(f,". Error: ").concat(e.error))})),l[m]=n),t&&n.then(t),n}};f.get_estimate=f.getEstimate;var d=f;t.default=d},1277:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(536)),o=a(n(4624)),i=a(n(2504));function a(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var u={},c=["asLowAs","productPageModal","siteWideModal"],l=function(e){return e&&e.indexOf&&0===e.indexOf("promo_set")||!1},f={getConfig:function(e,t){if(!l(e))return Promise.reject("The provided promoSetId ".concat(e," is not a valid promoset."));if(-1===c.indexOf(t))return Promise.reject("The provided key ".concat(t," must be one of: ").concat(c.join(", "),"."));var n=o.default.getPublicApiKey(),a="affirm-promoset:".concat(n,"-").concat(e);if(!u[a]){var f="".concat(r.default.promos_url_prefix,"promo_set/").concat(n,"/").concat(e,".json");u[a]=window.fetch(f).then((function(e){return e.ok?(i.default.trackAPI(f,e.statusCode,e),e.json()):Promise.reject("Invalid promoset")}))}return u[a].then((function(e){return s({},e[t],{promo_prequal_enabled:e.promo_prequal_enabled})}))},getMinAPR:function(e){for(var t=1,n=0;n<e.length;n+=1)e[n].apr<=t&&(t=e[n].apr);return t},getTermLengthIntervalForAmount:function(e,t){var n,r;for(r=0;r<e.length;r+=1)e[r].minimumLoanAmount<=t&&(n=e[r]);return n},isPromoSet:l};t.default=f},8276:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r.default.checkPublicApiKey()){var t=Date.now(),n=e.trackPromos,s="IE"===(0,c.default)(window.navigator.userAgent);if(!s){var l=document.getElementsByClassName("affirm-as-low-as");o.default.setupElements(l,{promoTimer:t,trackPromos:n});var d=document.getElementsByClassName("affirm-site-modal");a.default.setupSiteElements(d,{promoTimer:t,trackPromos:n});var p=document.getElementsByClassName("affirm-product-modal");a.default.setupProductElements(p,{promoTimer:t,trackPromos:n});var h=document.getElementsByClassName("affirm-prequal-text");i.default.setupElements(h);var m=u.default.queryObj();"t"===m.aff_fm&&"true"!==sessionStorage.getItem("AffirmLearnMore")&&f(l,p,d)}}else console.warn("Missing API Key")};var r=l(n(4624)),o=l(n(2889)),i=l(n(2326)),a=l(n(4644)),s=l(n(6442)),u=l(n(2613)),c=l(n(108));function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){var r,o={};if((r=t.length>0?t:e.length>0?e:n).length>0){var i=r[0].getAttribute("data-promo-id"),a=r[0].getAttribute("data-modal-id"),u=r[0].getAttribute("data-page-type");o.id=i||a,o.pageType=u;var c=r[0].getAttribute("data-amount");c&&(o.amount=c)}(0,s.default)(o),sessionStorage.setItem("AffirmLearnMore","true")}},4790:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(536)),o=s(n(2613)),i=s(n(3193)),a=s(n(9130));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l={},f={get:function(e,t){l[e]?o.default.delay((function(){return t.call(window,l[e])})):i.default.get(e).then((function(e,n){return t(n)}))},put:function(e,t){l[e]=t},render:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=n,i=t;i.ASSETS_ROOT||(i.ASSETS_ROOT=r.default.assets_root);var s=(0,a.default)(i),c=function(e){return s[e]||""},l=o.match(/{{! *([a-zA-Z0-9$_.]+) *}}/g);l&&l.forEach((function(t){var n=o.indexOf(t),r=u(t.match(/{{! *([a-zA-Z0-9$_.]+) *}}/),2);e=r[1];var i="{{/ *".concat(e," *}}"),a=o.match(i),s=a.index,l=c(e);o=l?(o=o.replace(t,"")).replace(a[0],""):o.substr(0,n)+o.substr(s+a[0].length)}));var f=o.match(/{{ *([a-zA-Z0-9$_.]+) *}}/g);return f?(f.forEach((function(e){var t=u(e.match(/{{ *([a-zA-Z0-9$_.]+) *}}/),2)[1],n=c(t);o=o.replace(new RegExp(e),n)})),o):o}},d=f;t.default=d},6516:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateCheckoutAri=t.setLocalStorage=t.moneyWithCents=t.isValidItems=t.indexOf=t.get=t.findIndex=t.childWindowParams=t.applyLigatures=t.addInsertListener=void 0;t.indexOf=function(e,t){for(var n=0;void 0!==e[n];){if(e[n]===t)return n;n+=1}return-1};t.moneyWithCents=function(e){return(parseInt(e,10)/100).toFixed(2)};t.setLocalStorage=function(e,t){return localStorage.setItem(e,JSON.stringify(t))};t.childWindowParams=function(e){var t=void 0!==window.screenX?window.screenX:window.screenLeft,n=void 0!==window.screenY?window.screenY:window.screenTop,r=void 0!==window.outerWidth?window.outerWidth:document.documentElement.clientWidth,o=void 0!==window.outerHeight?window.outerHeight:document.documentElement.clientHeight-22,i=Math.max(t,0),a=.8*o,s=parseInt(e,10),u=parseInt(i+(r-s)/2,10),c=parseInt(n+(o-a)/2.5,10);return"width=".concat(s,", height=").concat(a,", left=").concat(u,", top=").concat(c,", toolbar=0, scrollbars=1")};t.addInsertListener=function(e,t){var n=function(n){n.animationName===e&&t(n.target)};document.addEventListener&&(document.addEventListener("animationstart",n,!1),document.addEventListener("MSAnimationStart",n,!1),document.addEventListener("webkitAnimationStart",n,!1))};t.applyLigatures=function(e,t){if(e){var n=e.innerText,r=e.innerHTML,o=t[n||r];o&&e.classList.add("__ligature__".concat(o,"__")),e.classList.add("__processed")}};t.validateCheckoutAri=function(e){return!(!e||16!==e.length||null!==e.match(/[\Wa-z]{1,}/))};t.isValidItems=function(e){return!(!Array.isArray(e)||!e.length)&&e.every((function(e){return e.displayName&&e.sku&&e.unitPrice&&e.qty}))};t.get=function e(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];return t&&t[n]&&(o.length?e.apply(void 0,[t[n]].concat(o)):t[n])};t.findIndex=function(e,t){for(var n=0;n<e.length;n+=1)if(t(e[n],n))return n;return-1}},2613:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(536)),o=s(n(6075)),i=s(n(2504)),a=s(n(665));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}var f=o.default.getEnvironmentPaths(),d={buildParams:function(e,t,n){Array.isArray(t)?t.forEach((function(t,r){e.match(/\[]$/)?n(e,t):d.buildParams("".concat(e,"[").concat("object"===l(t)?r:"","]"),t,n)})):d.isObject(t)?Object.keys(t).forEach((function(r){d.buildParams("".concat(e,"[").concat(r,"]"),t[r],n)})):null!==t&&n(e,t)},delay:function(e,t){return setTimeout(e,t)},extend:function(e,t){return d.isObject(t)?(Object.keys(t).forEach((function(n){var r=t[n];Object.prototype.hasOwnProperty.call(t,n)&&(!r||"object"!==l(r)||Array.isArray(r)||d.isElement(r)?e[n]=r:"object"===l(e[n])?e[n]=d.extend(e[n],d.extend({},r)):e[n]=d.extend({},r))})),e):e},formattedUrl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.split("#"),r=u(n,2),o=r[0],i=r[1],a=o.match(/\?/)?"&":"?",s=o;return s="".concat(s).concat(a).concat(d.param(t)),i&&(s+="#".concat("".concat(i))),s},getApiUrl:function(e){return d.getResourceUrl(f.api_url,e)},getDomain:function(e){try{var t=document.createElement("a");t.href=encodeURI(e);var n=""!==t.port?":".concat(t.port):"";return"".concat(t.protocol,"//").concat(t.hostname).concat(n,"/")}catch(t){return e}},getElementById:function(e){var t=e;return"string"==typeof t&&(t=document.getElementById(t.replace(/^#/,""))),t},getResourceUrl:function(e,t){var n="",r=e&&e.length&&"/"!==e[e.length-1],o=t&&t.length&&"/"!==t[0];return r&&o&&(n="/"),"".concat(e).concat(n).concat(t)},getFrontendUrl:function(e){return d.getResourceUrl(f.frontend_url,e)},getUserAgent:function(){return navigator.userAgent},getNavigatorVendor:function(){return navigator.vendor},getUserTimeZone:function(){return Intl&&"function"==typeof Intl.DateTimeFormat&&"function"==typeof Intl.DateTimeFormat().resolvedOptions&&Intl.DateTimeFormat().resolvedOptions().timeZone||null},getWebhookSessionId:function(){return window._affirm_config?window._affirm_config.session_id:null},isAffirmWebView:function(){var e=d.getUserAgent(),t=!!e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari).*(Affirm-iOS).*/i),n=!!e.match(/(Android).*AppleWebKit.*(Affirm-Android).*/i);return t||n},isElement:function(e){try{return e instanceof HTMLElement}catch(e){}try{return"object"===l(e)&&1===e.nodeType&&"object"===l(e.style)&&"object"===l(e.ownerDocument)}catch(e){}return!1},isIe:function(){return d.getUserAgent().match(/MSIE/i)||d.getUserAgent().match(/Trident.*rv:11\./)},isMobile:function(){return d.getUserAgent().match(/Android/i)||d.getUserAgent().match(/iPad/i)||d.getUserAgent().match(/iPod/i)||d.getUserAgent().match(/webOS/i)||d.getUserAgent().match(/iPhone/i)||d.getUserAgent().match(/BlackBerry/i)},isSafariDesktop:function(){var e=d.getUserAgent(),t=d.getNavigatorVendor();return/Safari/i.test(e)&&/Apple Computer/.test(t)&&!/Mobi|Android/i.test(e)},isObject:function(e){return e&&"object"===l(e)},isTouch:function(){return d.getUserAgent().match(/Android/i)||d.getUserAgent().match(/iPad/i)||d.getUserAgent().match(/iPod/i)||d.getUserAgent().match(/iPhone/i)},isIosWebView:function(){return!!d.getUserAgent().match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)},isWhiteLabeledCustomerForHeaderAuth:function(e){return"HR5MJO3HE6F0YKWI"===e||"N1UBT9WU3PRPJIOM"===e},logEvent:function(e,t){i.default.trackPageView(e,!0,t)},param:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[],r=function(e,t){var r=t;"function"==typeof t?r=t():null==t&&(r=""),n[n.length]="".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(r))};return Array.isArray(e)?e.forEach((function(e,t){d.buildParams(t,e,r)})):d.isObject(e)&&Object.keys(e).forEach((function(t){d.buildParams(t,e[t],r)})),n=n.join("&"),t&&(n=n.replace(/%20/g,"+")),n},postToUrl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST",r=document.createElement("form");d.setElementAttrs(r,{"accept-charset":"utf-8",action:e,method:n}),d.isObject(t)&&Object.keys(t).forEach((function(e){var n=t[e];Object.prototype.hasOwnProperty.call(t,e)&&("string"==typeof n&&(n=[n]),n.forEach((function(t){var n=document.createElement("input");d.setElementAttrs(n,{name:e,type:"hidden",value:t}),r.appendChild(n)})))})),document.body.appendChild(r),i.default.trackActionLog("AFJS_form_sent",{checkoutToken:t.checkout_token,path:e,method:n}),r.submit()},preconnectTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];["preconnect","dns-prefetch"].forEach((function(n){var r=document.createElement("link");r.rel=n,r.href=e,t&&(r.crossOrigin=""),document.head.appendChild(r)}))},queryObj:function(e){var t=(e?d.queryString(e):window.location.search).slice(1).split("&"),n={};return t.forEach((function(e){if(e){var t=e.split("=");n[t[0]]=t[1]||""}})),n},queryString:function(e){var t=e.indexOf("?");return t>-1?e.substring(t):""},setElementAttrs:function(e,t){d.isObject(t)&&Object.keys(t).forEach((function(n){var r=t[n];try{e.setAttribute(n,r)}catch(t){e[n]=r}}))},setElementStyle:function(e,t){d.isObject(t)&&Object.keys(t).forEach((function(n){e.style[n]=t[n]}))},setUrl:function(e){document.location.assign&&document.location.assign(e),document.location.href=e},sniffer:{failed:[],promises:{},register:function(e,t){if(t.async){var n=t.test();return d.sniffer.promises[e]=n,void n.then((function(n){d.sniffer[e]=n,n||d.sniffer.failed.push(t.message)}))}try{d.sniffer[e]=t.test()}catch(t){d.sniffer[e]=!1}d.sniffer[e]||d.sniffer.failed.push(t.message)}},swapStyle:function(e,t,n){if(e.style[t]){var r=e.style[n];e.style[n]=e.style[t],e.style[t]=r}if(e.style[n]){var o=e.style[t];e.style[t]=e.style[n],e.style[n]=o}},throwErrIfNotObject:function(e){if(!e||e.constructor!==Object)throw new Error("Provided argument is not an object")},isCallable:function(e){return"function"==typeof e}},p={cookies:{message:"Cookies Disabled",test:a.default.cookies},cors:{message:"Cross Origin Resource Sharing not available",test:a.default.cors},JSON:{message:"JSON not available",test:a.default.json},localstorage:{message:"localStorage Disabled",test:a.default.localStorage},thirdPartyCookies:{async:!0,message:"Third Party Cookies not available",test:function(){return a.default.thirdPartyCookies(d.getFrontendUrl("api/v2/".concat(r.default.resource_urls.third_party_cookie_check)))}}};Object.keys(p).forEach((function(e){d.sniffer.register(e,p[e])})),d.get_domain=d.getDomain;var h=d;t.default=h},3873:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=["PreSeededApiKeyDirect","27GDB3KH87ZPDICH","JWT2LAPPJQTDK2SW","ZY2590ABAF62S9KM"],r=function(e){return-1!==n.indexOf(e)},o={getDistinctID:function(e){if(r(e))return window.triggermail&&window.triggermail.lytics&&window.triggermail.lytics.cookie&&window.triggermail.lytics.cookie.props&&window.triggermail.lytics.cookie.props.distinct_id},getToken:function(e){if(r(e))return window.triggermail&&window.triggermail.lytics&&window.triggermail.lytics.config&&window.triggermail.lytics.config.token}};t.default=o},2650:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=new function(){var e=!1,t=[];function n(e,t,n){window.addEventListener?t.addEventListener(e,n,!1):document.attachEvent&&t.attachEvent("on".concat(e),n)}function r(){!0!==e&&(t.forEach((function(e){"function"==typeof e&&e()})),e=!0)}function o(){if(!0!==e){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(o,1)}r()}}this.ready=function(n){!0!==e||"function"!=typeof n?t.push(n):n()},"complete"!==document.readyState?document.addEventListener?(n("DOMContentLoaded",document,r),n("load",window,r)):document.attachEvent&&(n("load",window,r),n("readystatechange",document,r),document.documentElement.doScroll&&null===window.frameset&&o()):r()};t.default=n},1849:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadjs=void 0;var n,r,o=(n=document.getElementsByTagName("script")[0],r=n.parentNode,function(e,t){var o=document.createElement("script");o.src=e,o.type="text/javascript","function"==typeof o.addEventListener?o.addEventListener("load",t,!1):o.onreadystatechange=function(){o.readyState in{loaded:1,complete:1}&&(o.onreadystatechange=null,t())},r.insertBefore(o,n)});t.loadjs=o},3193:function(e,t,n){"use strict";!function(e){function t(){this._callbacks=[]}function n(e,n,r,i){var a,s,u=new t;r=r||{},i=i||{};try{a=function(){var e;if(window.XMLHttpRequest)(e=new XMLHttpRequest).withCredentials=!0;else if(window.ActiveXObject)try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){e=new ActiveXObject("Microsoft.XMLHTTP")}return e}()}catch(e){return u.done(o.ENOXHR,""),u}for(var c in s=function(e){var t="";if("string"==typeof e)t=e;else{var n=encodeURIComponent;for(var r in e)e.hasOwnProperty(r)&&(t+="&"+n(r)+"="+n(e[r]))}return t}(r),"GET"===e&&s&&(n+="?"+s,s=null),a.open(e,n),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i)i.hasOwnProperty(c)&&a.setRequestHeader(c,i[c]);var l=o.ajaxTimeout;if(l)var f=setTimeout((function(){a.abort(),u.done(o.ETIMEOUT,"",a)}),l);return a.onreadystatechange=function(){if(l&&clearTimeout(f),4===a.readyState){var e=!a.status||(a.status<200||a.status>=300)&&304!==a.status;u.done(e,a.responseText,a)}},a.send(s),u}function r(e){return function(t,r,o){return n(e,t,r,o)}}t.prototype.then=function(e,n){var r;return this._isdone?r=e.apply(n,this.result):(r=new t,this._callbacks.push((function(){var t=e.apply(n,arguments);t&&"function"==typeof t.then&&t.then(r.done,r)}))),r},t.prototype.done=function(){this.result=arguments,this._isdone=!0;for(var e=0;e<this._callbacks.length;e++)this._callbacks[e].apply(null,arguments);this._callbacks=[]};var o={Promise:t,join:function(e){var n=new t,r=[];if(!e||!e.length)return n.done(r),n;var o=0,i=e.length;function a(e){return function(){o+=1,r[e]=Array.prototype.slice.call(arguments),o===i&&n.done(r)}}for(var s=0;s<i;s++)e[s].then(a(s));return n},chain:function e(n,r){var o=new t;return 0===n.length?o.done.apply(o,r):n[0].apply(null,r).then((function(){n.splice(0,1),e(n,arguments).then((function(){o.done.apply(o,arguments)}))})),o},ajax:n,get:r("GET"),post:r("POST"),put:r("PUT"),del:r("DELETE"),ENOXHR:1,ETIMEOUT:2,ajaxTimeout:0};e.exports=o}(e=n.nmd(e))},1438:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSamplingRateChecker=d;var r=c(n(127)),o=c(n(6533)),i=c(n(9762)),a=c(n(3959)),s=c(n(6793)),u=c(n(7581));function c(e){return e&&e.__esModule?e:{default:e}}var l=c(n(176)).default.getApiTokens();function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t instanceof Error?t.toString():t,r=n.toLowerCase(),o=Object.keys(e).find((function(e){return r.indexOf(e.toLowerCase())>=0}));return o?{samplingRate:e[o]}:null}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=n[0];if(r instanceof Error||"string"==typeof r){var o=f(e,r);if(o){var i=Math.random(),a=o.samplingRate<i;return a}}return!1}}r.default.setComponents({telemeter:a.default,instrumenter:o.default,polyfillJSON:u.default,scrub:i.default,truncation:s.default}),(window.affirm||{}).Rollbar=new r.default({accessToken:l.affirmjs_rollbar,autoInstrument:!1,captureUncaught:!0,hostWhiteList:["affirm.js"],scrubTelemetryInputs:!0,payload:{client:{javascript:{code_version:"".concat("affirm-js",":").concat("10.167.1"),guess_uncaught_frames:!0,source_map_enabled:!0}},environment:"".concat("affirm-js","-").concat("live")},checkIgnore:d({"Error conducting third party cookie check":.005,"Unexpected token / in JSON at position 0":.005,cancelled:.01,"Error queueing beacon to":.005,"AXP Client Fetch Timeout":.01,"AXP Client store assignment error":.01,"property 'setAttribute' of undefined":.2,"property 'setAttribute' of null":.2,"jQuery is not defined":0,"invalid character in header field name":0,"failed to fetch":0,"from is not defined":0,"property 'replace' of undefined":0,"cannot add properties to this object because extensible is false":.01,"property '0' of undefined":.2,"property '0' of null":.2,"property 'toString' of undefined":.1,"property 'toString' of null":.1,"Can't find variable: variant":.2,"variant is not defined":.2,"null is not an object (evaluating 'w.$(G).append')":.1,"affirm.ui.refresh is not a function":.1})})},9310:function(e,t,n){"use strict";var r,o=(r=n(4790))&&r.__esModule?r:{default:r};o.default.put("templates/learn_more_split_pay.html",n(7801)),o.default.put("templates/loading.html",n(8722)),o.default.put("templates/promo.html",n(1808)),o.default.put("templates/overlay.html",n(3100))},9130:function(e){var t;t=function(e={}){var n;return n={},Object.keys(e).forEach((function(r){var o;if(e.hasOwnProperty(r))return Array.isArray(e[r])?n[r+"_json"]=JSON.stringify(e[r]):"object"==typeof e[r]&&null!==e[r]?(o=t(e[r]),Object.keys(o).forEach((function(e){return n[`${r}.${e}`]=o[e]}))):n[r]=e[r]})),n},e.exports=t},2276:function(){!function(e){"use strict";e.console||(e.console={});for(var t,n,r=e.console,o=function(){},i=["memory"],a="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");t=i.pop();)r[t]||(r[t]={});for(;n=a.pop();)r[n]||(r[n]=o)}("undefined"==typeof window?this:window)},3993:function(e,t,n){"use strict";var r=n(4015),o=n.n(r),i=n(3645),a=n.n(i),s=n(1667),u=n.n(s),c=n(633),l=n(2645),f=a()(o()),d=u()(c),p=u()(l);f.push([e.id,'@font-face{font-family:"affirm";src:url('+d+') format("woff2"),url('+p+') format("woff");font-weight:normal;font-style:normal}.__affirm-logo{font-family:"affirm" !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;position:relative;white-space:nowrap;letter-spacing:0;-ms-font-feature-settings:"liga" 1;-webkit-font-feature-settings:"liga";font-feature-settings:"liga";-webkit-font-variant-ligatures:discretionary-ligatures;font-variant-ligatures:discretionary-ligatures;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:.8em;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%}.__affirm-logo.__affirm-logo-black{color:#060809}.__affirm-logo.__affirm-logo-black.__ligature__affirm_full_logo__:after,.__affirm-logo.__affirm-logo-black.__ligature__affirm_short_logo__:after{color:#060809}.__affirm-logo.__affirm-logo-white{color:#fff}.__affirm-logo.__affirm-logo-white.__ligature__affirm_full_logo__:after,.__affirm-logo.__affirm-logo-white.__ligature__affirm_short_logo__:after{color:#fff}.__affirm-logo.__affirm-logo-primary,.__affirm-logo.__affirm-logo-blue{color:#060809}.__affirm-logo.__affirm-logo-primary.__ligature__affirm_full_logo__:after,.__affirm-logo.__affirm-logo-primary.__ligature__affirm_short_logo__:after,.__affirm-logo.__affirm-logo-blue.__ligature__affirm_full_logo__:after,.__affirm-logo.__affirm-logo-blue.__ligature__affirm_short_logo__:after{color:#4a4af4}.__affirm-logo.__affirm-logo-primary.__affirm-logo-dark,.__affirm-logo.__affirm-logo-blue.__affirm-logo-dark{color:#fff}.__affirm-logo.__ligature__affirm_full_logo__:after,.__affirm-logo.__ligature__affirm_short_logo__:after{position:absolute;left:0;bottom:0}.__affirm-logo.__ligature__affirm_full_logo__{font-size:1.236em}.__affirm-logo.__ligature__affirm_full_logo__:after{content:""}.__affirm-logo.__ligature__affirm_short_logo__:after{content:""}@-webkit-keyframes affirm_logo_listener{from{outline:1px solid rgba(0,0,0,0)}to{outline:0 solid rgba(0,0,0,0)}}@keyframes affirm_logo_listener{from{outline:1px solid rgba(0,0,0,0)}to{outline:0 solid rgba(0,0,0,0)}}@-webkit-keyframes affirm_asset_listener{from{outline:1px solid rgba(0,0,0,0)}to{outline:0 solid rgba(0,0,0,0)}}@keyframes affirm_asset_listener{from{outline:1px solid rgba(0,0,0,0)}to{outline:0 solid rgba(0,0,0,0)}}.__affirm-logo:not(.__processed){-webkit-animation:affirm_logo_listener .001s;animation:affirm_logo_listener .001s}img[src*="cdn-assets.affirm.com"]:not(.__processed){-webkit-animation:affirm_asset_listener .001s;animation:affirm_asset_listener .001s}',"",{version:3,sources:["webpack://./src/styles/inline.scss"],names:[],mappings:"AAAA,WAAW,oBAAoB,CAAC,kHAAyF,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,eAAe,+BAA+B,CAAC,UAAU,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,mBAAmB,CAAC,aAAa,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,kCAAkC,CAAC,oCAAoC,CAAC,4BAA4B,CAAC,sDAAsD,CAAC,8CAA8C,CAAC,kCAAkC,CAAC,iCAAiC,CAAC,cAAc,CAAC,6BAA6B,CAAC,0BAA0B,CAAC,yBAAyB,CAAC,qBAAqB,CAAC,mCAAmC,aAAa,CAAC,iJAAiJ,aAAa,CAAC,mCAAmC,UAAU,CAAC,iJAAiJ,UAAU,CAAC,uEAAuE,aAAa,CAAC,oSAAoS,aAAa,CAAC,6GAA6G,UAAU,CAAC,yGAAyG,iBAAiB,CAAC,MAAM,CAAC,QAAQ,CAAC,8CAA8C,iBAAiB,CAAC,oDAAoD,WAAW,CAAC,qDAAqD,WAAW,CAAC,wCAAwC,KAAK,+BAA+B,CAAC,GAAG,6BAA6B,CAAC,CAAC,gCAAgC,KAAK,+BAA+B,CAAC,GAAG,6BAA6B,CAAC,CAAC,yCAAyC,KAAK,+BAA+B,CAAC,GAAG,6BAA6B,CAAC,CAAC,iCAAiC,KAAK,+BAA+B,CAAC,GAAG,6BAA6B,CAAC,CAAC,iCAAiC,4CAA4C,CAAC,oCAAoC,CAAC,oDAAoD,6CAA6C,CAAC,qCAAqC",sourcesContent:['@font-face{font-family:"affirm";src:url("./fonts/affirm.woff2") format("woff2"),url("./fonts/affirm.woff") format("woff");font-weight:normal;font-style:normal}.__affirm-logo{font-family:"affirm" !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;position:relative;white-space:nowrap;letter-spacing:0;-ms-font-feature-settings:"liga" 1;-webkit-font-feature-settings:"liga";font-feature-settings:"liga";-webkit-font-variant-ligatures:discretionary-ligatures;font-variant-ligatures:discretionary-ligatures;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:.8em;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%}.__affirm-logo.__affirm-logo-black{color:#060809}.__affirm-logo.__affirm-logo-black.__ligature__affirm_full_logo__:after,.__affirm-logo.__affirm-logo-black.__ligature__affirm_short_logo__:after{color:#060809}.__affirm-logo.__affirm-logo-white{color:#fff}.__affirm-logo.__affirm-logo-white.__ligature__affirm_full_logo__:after,.__affirm-logo.__affirm-logo-white.__ligature__affirm_short_logo__:after{color:#fff}.__affirm-logo.__affirm-logo-primary,.__affirm-logo.__affirm-logo-blue{color:#060809}.__affirm-logo.__affirm-logo-primary.__ligature__affirm_full_logo__:after,.__affirm-logo.__affirm-logo-primary.__ligature__affirm_short_logo__:after,.__affirm-logo.__affirm-logo-blue.__ligature__affirm_full_logo__:after,.__affirm-logo.__affirm-logo-blue.__ligature__affirm_short_logo__:after{color:#4a4af4}.__affirm-logo.__affirm-logo-primary.__affirm-logo-dark,.__affirm-logo.__affirm-logo-blue.__affirm-logo-dark{color:#fff}.__affirm-logo.__ligature__affirm_full_logo__:after,.__affirm-logo.__ligature__affirm_short_logo__:after{position:absolute;left:0;bottom:0}.__affirm-logo.__ligature__affirm_full_logo__{font-size:1.236em}.__affirm-logo.__ligature__affirm_full_logo__:after{content:""}.__affirm-logo.__ligature__affirm_short_logo__:after{content:""}@-webkit-keyframes affirm_logo_listener{from{outline:1px solid rgba(0,0,0,0)}to{outline:0 solid rgba(0,0,0,0)}}@keyframes affirm_logo_listener{from{outline:1px solid rgba(0,0,0,0)}to{outline:0 solid rgba(0,0,0,0)}}@-webkit-keyframes affirm_asset_listener{from{outline:1px solid rgba(0,0,0,0)}to{outline:0 solid rgba(0,0,0,0)}}@keyframes affirm_asset_listener{from{outline:1px solid rgba(0,0,0,0)}to{outline:0 solid rgba(0,0,0,0)}}.__affirm-logo:not(.__processed){-webkit-animation:affirm_logo_listener .001s;animation:affirm_logo_listener .001s}img[src*="cdn-assets.affirm.com"]:not(.__processed){-webkit-animation:affirm_asset_listener .001s;animation:affirm_asset_listener .001s}'],sourceRoot:""}]),t.Z=f},3645:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);r&&o[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},4015:function(e){"use strict";function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=function(e){var n=t(e,4),r=n[1],o=n[3];if(!o)return r;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),s="/*# ".concat(a," */"),u=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[r].concat(u).concat([s]).join("\n")}return[r].join("\n")}},1667:function(e){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},9180:function(e,t,n){var r,o,i;!function(a,s){"use strict";o=[n(9829)],void 0===(i="function"==typeof(r=function(e){var t=/(^|@)\S+:\d+/,n=/^\s*at .*(\S+:\d+|\(native\))/m,r=/^(eval@)?(\[native code])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter((function(e){return!!e.match(n)}),this).map((function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=n.match(/ (\((.+):(\d+):(\d+)\)$)/),o=(n=r?n.replace(r[0],""):n).split(/\s+/).slice(1),i=this.extractLocation(r?r[1]:o.pop()),a=o.join(" ")||void 0,s=["eval","<anonymous>"].indexOf(i[0])>-1?void 0:i[0];return new e({functionName:a,fileName:s,lineNumber:i[1],columnNumber:i[2],source:t})}),this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter((function(e){return!e.match(r)}),this).map((function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=t.match(n),o=r&&r[1]?r[1]:void 0,i=this.extractLocation(t.replace(n,""));return new e({functionName:o,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t})}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split("\n"),o=[],i=2,a=r.length;i<a;i+=2){var s=n.exec(r[i]);s&&o.push(new e({fileName:s[2],lineNumber:s[1],source:r[i]}))}return o},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split("\n"),o=[],i=0,a=r.length;i<a;i+=2){var s=n.exec(r[i]);s&&o.push(new e({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:r[i]}))}return o},parseOpera11:function(n){return n.stack.split("\n").filter((function(e){return!!e.match(t)&&!e.match(/^Error created at/)}),this).map((function(t){var n,r=t.split("@"),o=this.extractLocation(r.pop()),i=r.shift()||"",a=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;i.match(/\(([^)]*)\)/)&&(n=i.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var s=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new e({functionName:a,args:s,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})}),this)}}})?r.apply(t,o):r)||(e.exports=i)}()},8091:function(e){"use strict";function t(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i=Object.keys(Object(o)),a=0,s=i.length;a<s;a++){var u=i[a],c=Object.getOwnPropertyDescriptor(o,u);void 0!==c&&c.enumerable&&(n[u]=o[u])}}return n}e.exports={assign:t,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:t})}}},2702:function(e,t,n){var r=n(4155);e.exports=function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function t(e){return"function"==typeof e}var o=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,a=void 0,s=void 0,u=function(e,t){b[i]=e,b[i+1]=t,2===(i+=2)&&(s?s(w):k())};function c(e){s=e}function l(e){u=e}var f="undefined"!=typeof window?window:void 0,d=f||{},p=d.MutationObserver||d.WebKitMutationObserver,h="undefined"==typeof self&&void 0!==r&&"[object process]"==={}.toString.call(r),m="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function g(){return function(){return r.nextTick(w)}}function y(){return void 0!==a?function(){a(w)}:_()}function v(){var e=0,t=new p(w),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function A(){var e=new MessageChannel;return e.port1.onmessage=w,function(){return e.port2.postMessage(0)}}function _(){var e=setTimeout;return function(){return e(w,1)}}var b=new Array(1e3);function w(){for(var e=0;e<i;e+=2)(0,b[e])(b[e+1]),b[e]=void 0,b[e+1]=void 0;i=0}function E(){try{var e=Function("return this")().require("vertx");return a=e.runOnLoop||e.runOnContext,y()}catch(e){return _()}}var k=void 0;function O(e,t){var n=this,r=new this.constructor(C);void 0===r[P]&&J(r);var o=n._state;if(o){var i=arguments[o-1];u((function(){return Q(o,r,i,n._result)}))}else W(n,r,e,t);return r}function S(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(C);return U(n,e),n}k=h?g():p?v():m?A():void 0===f?E():_();var P=Math.random().toString(36).substring(2);function C(){}var I=void 0,T=1,M=2;function x(){return new TypeError("You cannot resolve a promise with itself")}function R(){return new TypeError("A promises callback cannot return that same promise.")}function j(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function D(e,t,n){u((function(e){var r=!1,o=j(n,t,(function(n){r||(r=!0,t!==n?U(e,n):B(e,n))}),(function(t){r||(r=!0,H(e,t))}),"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,H(e,o))}),e)}function L(e,t){t._state===T?B(e,t._result):t._state===M?H(e,t._result):W(t,void 0,(function(t){return U(e,t)}),(function(t){return H(e,t)}))}function N(e,n,r){n.constructor===e.constructor&&r===O&&n.constructor.resolve===S?L(e,n):void 0===r?B(e,n):t(r)?D(e,n,r):B(e,n)}function U(t,n){if(t===n)H(t,x());else if(e(n)){var r=void 0;try{r=n.then}catch(e){return void H(t,e)}N(t,n,r)}else B(t,n)}function F(e){e._onerror&&e._onerror(e._result),V(e)}function B(e,t){e._state===I&&(e._result=t,e._state=T,0!==e._subscribers.length&&u(V,e))}function H(e,t){e._state===I&&(e._state=M,e._result=t,u(F,e))}function W(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+T]=n,o[i+M]=r,0===i&&e._state&&u(V,e)}function V(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?Q(n,r,o,i):o(i);e._subscribers.length=0}}function Q(e,n,r,o){var i=t(r),a=void 0,s=void 0,u=!0;if(i){try{a=r(o)}catch(e){u=!1,s=e}if(n===a)return void H(n,R())}else a=o;n._state!==I||(i&&u?U(n,a):!1===u?H(n,s):e===T?B(n,a):e===M&&H(n,a))}function G(e,t){try{t((function(t){U(e,t)}),(function(t){H(e,t)}))}catch(t){H(e,t)}}var q=0;function K(){return q++}function J(e){e[P]=q++,e._state=void 0,e._result=void 0,e._subscribers=[]}function Y(){return new Error("Array Methods must be provided an Array")}var X=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(C),this.promise[P]||J(this.promise),o(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?B(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&B(this.promise,this._result))):H(this.promise,Y())}return e.prototype._enumerate=function(e){for(var t=0;this._state===I&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===S){var o=void 0,i=void 0,a=!1;try{o=e.then}catch(e){a=!0,i=e}if(o===O&&e._state!==I)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===ne){var s=new n(C);a?H(s,i):N(s,e,o),this._willSettleAt(s,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===I&&(this._remaining--,e===M?H(r,n):this._result[t]=n),0===this._remaining&&B(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;W(e,void 0,(function(e){return n._settledAt(T,t,e)}),(function(e){return n._settledAt(M,t,e)}))},e}();function z(e){return new X(this,e).promise}function Z(e){var t=this;return o(e)?new t((function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))}function $(e){var t=new this(C);return H(t,e),t}function ee(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function te(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var ne=function(){function e(t){this[P]=K(),this._result=this._state=void 0,this._subscribers=[],C!==t&&("function"!=typeof t&&ee(),this instanceof e?G(this,t):te())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var n=this,r=n.constructor;return t(e)?n.then((function(t){return r.resolve(e()).then((function(){return t}))}),(function(t){return r.resolve(e()).then((function(){throw t}))})):n.then(e,e)},e}();function re(){var e=void 0;if(void 0!==n.g)e=n.g;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=ne}return ne.prototype.then=O,ne.all=z,ne.race=Z,ne.resolve=S,ne.reject=$,ne._setScheduler=c,ne._setAsap=l,ne._asap=u,ne.polyfill=re,ne.Promise=ne,ne}()},5573:function(e){"use strict";var t=/["'&<>]/;e.exports=function(e){var n,r=""+e,o=t.exec(r);if(!o)return r;var i="",a=0,s=0;for(a=o.index;a<r.length;a++){switch(r.charCodeAt(a)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#39;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}s!==a&&(i+=r.substring(s,a)),s=a+1,i+=n}return s!==a?i+r.substring(s,a):i}},6189:function(){!function(e,t){var n,r,o,i=[],a={passive:!0,capture:!0},s=new Date,u="pointerup",c="pointercancel";function l(e,i){n||(n=i,r=e,o=new Date,p(t),f())}function f(){r>=0&&r<o-s&&(i.forEach((function(e){e(r,n)})),i=[])}function d(n){if(n.cancelable){var r=(n.timeStamp>1e12?new Date:performance.now())-n.timeStamp;"pointerdown"==n.type?function(n,r){function o(){l(n,r),s()}function i(){s()}function s(){t(u,o,a),t(c,i,a)}e(u,o,a),e(c,i,a)}(r,n):l(r,n)}}function p(e){["click","mousedown","keydown","touchstart","pointerdown"].forEach((function(t){e(t,d,a)}))}p(e),self.perfMetrics=self.perfMetrics||{},self.perfMetrics.onFirstInputDelay=function(e){i.push(e),f()}}(addEventListener,removeEventListener)},7801:function(e){e.exports='<!DOCTYPE html>\n<head>\n    <meta charset="utf-8">\n    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">\n    <title>Learn More About Affirm</title>\n    <meta name="description" content="">\n    <link rel="stylesheet" href="{{ASSETS_ROOT}}styles/main.css">\n</head>\n<body>\n  <div id="modal-wrapper" style="display:none;">\n    <div class="affirm_learn_more_modal-background" onclick="trigger(\'close\');"></div>\n    <div id="affirm_learn_more_modal" class=" {{modal_class}}">\n      <div class="affirm-content-wrapper" style="font-family: {{font}}">\n        <div class="affirm-modal-hero" style="{{ hero_image }}">\n        </div>\n        <div class="affirm-modal-content">\n          <button class="close-modal-button btn" href="javascript:;" onclick="trigger(\'close\');">\n            <span class="close-icon">close</span>\n          </button>\n          <div class="affirm-content-text">\n            <div class="affirm-modal-header">\n              <span class="__affirm-logo __affirm-logo-primary __ligature__affirm_full_logo__ __processed">Affirm</span>\n              <span class="affirm-modal-plus">+</span>\n              <img src="{{logo_image}}" class="affirm-merchant-logo" />\n            </div>\n            <h1 class="affirm-tagline" tabindex="-1">\n              {{copy.tagline}}\n            </h1>\n            <p class="affirm-promo-text" style="font-family: {{fontFamily}};">\n              {{copy.promo}}\n            </p>\n            <div class="affirm-copy-sections">\n              <div class="copy-section">\n                <span class="copy-section-icon" style="color:{{color}};">{{copy.section_1.icon}}</span>\n                <h2 style="font-family: {{fontFamily}};">{{copy.section_1.header}}</h2>\n                <p style="font-family: {{fontFamily}};">{{copy.section_1.body}}</p>\n              </div>\n              <div class="copy-section">\n                <span class="copy-section-icon" style="color:{{color}};">{{copy.section_2.icon}}</span>\n                <h2 style="font-family: {{fontFamily}};">{{copy.section_2.header}}</h2>\n                <p style="font-family: {{fontFamily}};">{{copy.section_2.body}}</p>\n              </div>\n            </div>\n            <div class="affirm-checkout">\n              {{copy.cta}}\n            </div>\n          </div>\n          <div class="affirm-footer">\n            {{footer}}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <script>\n    window[\'affirm_events\'] = {\n      hiding: function(){\n        document.getElementById("modal-wrapper").className = "";\n      },\n\n      showing: function(){\n        document.getElementById("modal-wrapper").className = "show";\n      }\n    };\n\n    setTimeout(function(){\n      window.affirm_events.showing();\n    },100);\n  <\/script>\n</body>\n</html>\n'},8722:function(e){e.exports='<!DOCTYPE html>\n  <head>\n    <meta charset="utf-8">\n    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">\n    <title>Loading</title>\n    <link rel="stylesheet" href="{{ASSETS_ROOT}}styles/main.css"/>\n  </head>\n  <body>\n    <div class="loading-wrapper">\n      <div class="loader">\n        <div class="dots">\n          <div class="dot dot-a"></div>\n          <div class="dot dot-b"></div>\n          <div class="dot dot-c"></div>\n        </div>\n      </div>\n    </div>\n  </body>\n</html>'},3100:function(e){e.exports='<!DOCTYPE html>\n<head>\n  <meta charset="utf-8">\n  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">\n  <title>Affirm Overlay</title>\n  <meta name="description" content="">\n  <link rel="stylesheet" href="{{ASSETS_ROOT}}styles/main.css">\n</head>\n<body>\n  <div id="modal-wrapper" style="display:none;">\n    <button\n      aria-label="Close Modal"\n      class="close-modal-button btn"\n      onclick="trigger(\'close\');"\n    >&times;</button>\n    <div id="affirm-overlay">\n      <div class="affirm-content-wrapper">\n        <div>\n          <h1 class="affirm-section" tabindex="-1">{{title}}</h1>\n        </div>\n        <button\n          aria-label="Continue"\n          id="affirm-primary-action-button"\n          class="btn"\n          onclick="trigger(\'continue\');"\n        >Continue</button>\n      </div>\n    </div>\n  </div>\n  <script>\n    window[\'affirm_events\'] = {\n      hiding: function() {\n        document.getElementById(\'modal-wrapper\').className = \'\';\n      },\n      showing: function() {\n        document.getElementById(\'modal-wrapper\').className = \'show\';\n      },\n    };\n\n    setTimeout(function() {\n      window.affirm_events.showing();\n    }, 100);\n  <\/script>\n</body>\n</html>\n'},1808:function(e){e.exports='<!DOCTYPE html>\n  <head>\n    <meta charset="utf-8">\n    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">\n    <title>Affirm Promo</title>\n    <meta name="description" content="">\n    <link rel="stylesheet" href="{{ASSETS_ROOT}}styles/main.css"/>\n    <style>{{custom_css}}</style>\n  </head>\n  <body class="affirm-promo">\n    <a href="javascript:;" id="affirm_promo_link" onclick="trigger(\'click\');">\n      <img src="{{img_src}}" />\n    </a>\n  </body>\n</html>\n'},6808:function(e,t,n){var r,o;!function(i){if(void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o),!0,e.exports=i(),!!0){var a=window.Cookies,s=window.Cookies=i();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in i)i[u]&&(s+="; "+u,!0!==i[u]&&(s+="="+i[u].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),u=s.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(s[0]);if(u=(r.read||r)(u,c)||t(u),n)try{u=JSON.parse(u)}catch(e){}if(o[c]=u,e===c)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))}))},8324:function(e,t,n){"use strict";n.r(t)},4155:function(e){var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var s,u=[],c=!1,l=-1;function f(){c&&s&&(c=!1,s.length?u=s.concat(u):l=-1,u.length&&d())}function d(){if(!c){var e=a(f);c=!0;for(var t=u.length;t;){for(s=u,u=[];++l<t;)s&&s[l].run();l=-1,t=u.length}s=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},1462:function(e,t,n){var r=n(640),o=n(1929),i={hostname:"api.rollbar.com",path:"/api/1/item/",search:null,version:"1",protocol:"https:",port:443};function a(e,t,n,r,o){this.options=e,this.transport=t,this.url=n,this.truncation=r,this.jsonBackup=o,this.accessToken=e.accessToken,this.transportOptions=s(e,n)}function s(e,t){return o.getTransportFromOptions(e,i,t)}a.prototype.postItem=function(e,t){var n=o.transportOptions(this.transportOptions,"POST"),r=o.buildPayload(this.accessToken,e,this.jsonBackup);this.transport.post(this.accessToken,n,r,t)},a.prototype.buildJsonPayload=function(e,t){var n,i=o.buildPayload(this.accessToken,e,this.jsonBackup);return(n=this.truncation?this.truncation.truncate(i):r.stringify(i)).error?(t&&t(n.error),null):n.value},a.prototype.postJsonPayload=function(e,t){var n=o.transportOptions(this.transportOptions,"POST");this.transport.postJsonPayload(this.accessToken,n,e,t)},a.prototype.configure=function(e){var t=this.oldOptions;return this.options=r.merge(t,e),this.transportOptions=s(this.options,this.url),void 0!==this.options.accessToken&&(this.accessToken=this.options.accessToken),this},e.exports=a},1929:function(e,t,n){var r=n(640);e.exports={buildPayload:function(e,t,n){if(!r.isType(t.context,"string")){var o=r.stringify(t.context,n);o.error?t.context="Error: could not serialize 'context'":t.context=o.value||"",t.context.length>255&&(t.context=t.context.substr(0,255))}return{access_token:e,data:t}},getTransportFromOptions:function(e,t,n){var r=t.hostname,o=t.protocol,i=t.port,a=t.path,s=t.search,u=e.proxy;if(e.endpoint){var c=n.parse(e.endpoint);r=c.hostname,o=c.protocol,i=c.port,a=c.pathname,s=c.search}return{hostname:r,protocol:o,port:i,path:a,search:s,proxy:u}},transportOptions:function(e,t){var n=e.protocol||"https:",r=e.port||("http:"===n?80:"https:"===n?443:void 0),o=e.hostname,i=e.path;return e.search&&(i+=e.search),e.proxy&&(i=n+"//"+o+i,o=e.proxy.host||e.proxy.hostname,r=e.proxy.port,n=e.proxy.protocol||n),{protocol:n,hostname:o,path:i,port:r,method:t}},appendPathToPath:function(e,t){var n=/\/$/.test(e),r=/^\//.test(t);return n&&r?t=t.substring(1):n||r||(t="/"+t),e+t}}},127:function(e,t,n){var r=n(5661),o=n(640),i=n(1462),a=n(6339),s=n(7534),u=n(2912),c=n(7058),l=n(3322),f=n(530),d=n(5495),p=n(5532),h=n(5128);function m(e,t){this.options=o.handleOptions(w,e),this.options._configuredOptions=e;var n=this.components.telemeter,s=this.components.instrumenter,h=this.components.polyfillJSON;this.wrapGlobals=this.components.wrapGlobals,this.scrub=this.components.scrub;var m=this.components.truncation,g=new u(m),y=new i(this.options,g,c,m);n&&(this.telemeter=new n(this.options)),this.client=t||new r(this.options,y,a,this.telemeter,"browser");var v=A(),_="undefined"!=typeof document&&document;this.isChrome=v.chrome&&v.chrome.runtime,this.anonymousErrorsPending=0,function(e,t,n){e.addTransform(l.handleDomException).addTransform(l.handleItemWithError).addTransform(l.ensureItemHasSomethingToSay).addTransform(l.addBaseInfo).addTransform(l.addRequestInfo(n)).addTransform(l.addClientInfo(n)).addTransform(l.addPluginInfo(n)).addTransform(l.addBody).addTransform(f.addMessageWithError).addTransform(f.addTelemetryData).addTransform(f.addConfigToPayload).addTransform(l.addScrubber(t.scrub)).addTransform(f.userTransform(a)).addTransform(f.addConfiguredOptions).addTransform(f.addDiagnosticKeys).addTransform(f.itemToPayload)}(this.client.notifier,this,v),this.client.queue.addPredicate(p.checkLevel).addPredicate(d.checkIgnore).addPredicate(p.userCheckIgnore(a)).addPredicate(p.urlIsNotBlacklisted(a)).addPredicate(p.urlIsWhitelisted(a)).addPredicate(p.messageIsIgnored(a)),this.setupUnhandledCapture(),s&&(this.instrumenter=new s(this.options,this.client.telemeter,this,v,_),this.instrumenter.instrument()),o.setupJSON(h)}var g=null;function y(e){var t="Rollbar is not initialized";a.error(t),e&&e(new Error(t))}function v(e){for(var t=0,n=e.length;t<n;++t)if(o.isFunction(e[t]))return e[t]}function A(){return"undefined"!=typeof window&&window||"undefined"!=typeof self&&self}m.init=function(e,t){return g?g.global(e).configure(e):g=new m(e,t)},m.prototype.components={},m.setComponents=function(e){m.prototype.components=e},m.prototype.global=function(e){return this.client.global(e),this},m.global=function(e){if(g)return g.global(e);y()},m.prototype.configure=function(e,t){var n=this.options,r={};return t&&(r={payload:t}),this.options=o.handleOptions(n,e,r),this.options._configuredOptions=o.handleOptions(n._configuredOptions,e,r),this.client.configure(this.options,t),this.instrumenter&&this.instrumenter.configure(this.options),this.setupUnhandledCapture(),this},m.configure=function(e,t){if(g)return g.configure(e,t);y()},m.prototype.lastError=function(){return this.client.lastError},m.lastError=function(){if(g)return g.lastError();y()},m.prototype.log=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.log(e),{uuid:t}},m.log=function(){if(g)return g.log.apply(g,arguments);var e=v(arguments);y(e)},m.prototype.debug=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.debug(e),{uuid:t}},m.debug=function(){if(g)return g.debug.apply(g,arguments);var e=v(arguments);y(e)},m.prototype.info=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.info(e),{uuid:t}},m.info=function(){if(g)return g.info.apply(g,arguments);var e=v(arguments);y(e)},m.prototype.warn=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.warn(e),{uuid:t}},m.warn=function(){if(g)return g.warn.apply(g,arguments);var e=v(arguments);y(e)},m.prototype.warning=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.warning(e),{uuid:t}},m.warning=function(){if(g)return g.warning.apply(g,arguments);var e=v(arguments);y(e)},m.prototype.error=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.error(e),{uuid:t}},m.error=function(){if(g)return g.error.apply(g,arguments);var e=v(arguments);y(e)},m.prototype.critical=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.critical(e),{uuid:t}},m.critical=function(){if(g)return g.critical.apply(g,arguments);var e=v(arguments);y(e)},m.prototype.buildJsonPayload=function(e){return this.client.buildJsonPayload(e)},m.buildJsonPayload=function(){if(g)return g.buildJsonPayload.apply(g,arguments);y()},m.prototype.sendJsonPayload=function(e){return this.client.sendJsonPayload(e)},m.sendJsonPayload=function(){if(g)return g.sendJsonPayload.apply(g,arguments);y()},m.prototype.setupUnhandledCapture=function(){var e=A();this.unhandledExceptionsInitialized||(this.options.captureUncaught||this.options.handleUncaughtExceptions)&&(s.captureUncaughtExceptions(e,this),this.wrapGlobals&&this.options.wrapGlobalEventHandlers&&this.wrapGlobals(e,this),this.unhandledExceptionsInitialized=!0),this.unhandledRejectionsInitialized||(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections)&&(s.captureUnhandledRejections(e,this),this.unhandledRejectionsInitialized=!0)},m.prototype.handleUncaughtException=function(e,t,n,r,i,a){if(this.options.captureUncaught||this.options.handleUncaughtExceptions){if(this.options.inspectAnonymousErrors&&this.isChrome&&null===i)return"anonymous";var s,u=o.makeUnhandledStackInfo(e,t,n,r,i,"onerror","uncaught exception",h);o.isError(i)?(s=this._createItem([e,i,a]))._unhandledStackInfo=u:o.isError(t)?(s=this._createItem([e,t,a]))._unhandledStackInfo=u:(s=this._createItem([e,a])).stackInfo=u,s.level=this.options.uncaughtErrorLevel,s._isUncaught=!0,this.client.log(s)}},m.prototype.handleAnonymousErrors=function(){if(this.options.inspectAnonymousErrors&&this.isChrome){var e=this;try{Error.prepareStackTrace=function(t,n){if(e.options.inspectAnonymousErrors&&e.anonymousErrorsPending){if(e.anonymousErrorsPending-=1,!t)return;t._isAnonymous=!0,e.handleUncaughtException(t.message,null,null,null,t)}return t.stack}}catch(e){this.options.inspectAnonymousErrors=!1,this.error("anonymous error handler failed",e)}}},m.prototype.handleUnhandledRejection=function(e,t){if(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections){var n="unhandled rejection was null or undefined!";if(e)if(e.message)n=e.message;else{var r=o.stringify(e);r.value&&(n=r.value)}var i,a=e&&e._rollbarContext||t&&t._rollbarContext;o.isError(e)?i=this._createItem([n,e,a]):(i=this._createItem([n,e,a])).stackInfo=o.makeUnhandledStackInfo(n,"",0,0,null,"unhandledrejection","",h),i.level=this.options.uncaughtErrorLevel,i._isUncaught=!0,i._originalArgs=i._originalArgs||[],i._originalArgs.push(t),this.client.log(i)}},m.prototype.wrap=function(e,t,n){try{var r;if(r=o.isFunction(t)?t:function(){return t||{}},!o.isFunction(e))return e;if(e._isWrap)return e;if(!e._rollbar_wrapped&&(e._rollbar_wrapped=function(){n&&o.isFunction(n)&&n.apply(this,arguments);try{return e.apply(this,arguments)}catch(n){var t=n;throw t&&window._rollbarWrappedError!==t&&(o.isType(t,"string")&&(t=new String(t)),t._rollbarContext=r()||{},t._rollbarContext._wrappedSource=e.toString(),window._rollbarWrappedError=t),t}},e._rollbar_wrapped._isWrap=!0,e.hasOwnProperty))for(var i in e)e.hasOwnProperty(i)&&"_rollbar_wrapped"!==i&&(e._rollbar_wrapped[i]=e[i]);return e._rollbar_wrapped}catch(t){return e}},m.wrap=function(e,t){if(g)return g.wrap(e,t);y()},m.prototype.captureEvent=function(){var e=o.createTelemetryEvent(arguments);return this.client.captureEvent(e.type,e.metadata,e.level)},m.captureEvent=function(){if(g)return g.captureEvent.apply(g,arguments);y()},m.prototype.captureDomContentLoaded=function(e,t){return t||(t=new Date),this.client.captureDomContentLoaded(t)},m.prototype.captureLoad=function(e,t){return t||(t=new Date),this.client.captureLoad(t)},m.prototype.loadFull=function(){a.info("Unexpected Rollbar.loadFull() called on a Notifier instance. This can happen when Rollbar is loaded multiple times.")},m.prototype._createItem=function(e){return o.createItem(e,a,this)};var _=n(8060),b=n(2227),w={version:_.version,scrubFields:b.scrubFields,logLevel:_.logLevel,reportLevel:_.reportLevel,uncaughtErrorLevel:_.uncaughtErrorLevel,endpoint:_.endpoint,verbose:!1,enabled:!0,transmit:!0,sendConfig:!1,includeItemsInTelemetry:!0,captureIp:!0,inspectAnonymousErrors:!0,ignoreDuplicateErrors:!0,wrapGlobalEventHandlers:!1};e.exports=m},2227:function(e){e.exports={scrubFields:["pw","pass","passwd","password","secret","confirm_password","confirmPassword","password_confirmation","passwordConfirmation","access_token","accessToken","X-Rollbar-Access-Token","secret_key","secretKey","secretToken","cc-number","card number","cardnumber","cardnum","ccnum","ccnumber","cc num","creditcardnumber","credit card number","newcreditcardnumber","new credit card","creditcardno","credit card no","card#","card #","cc-csc","cvc","cvc2","cvv2","ccv2","security code","card verification","name on credit card","name on card","nameoncard","cardholder","card holder","name des karteninhabers","ccname","card type","cardtype","cc type","cctype","payment type","expiration date","expirationdate","expdate","cc-exp","ccmonth","ccyear"]}},4109:function(e){var t={ieVersion:function(){var e;if("undefined"==typeof document)return e;for(var t=3,n=document.createElement("div"),r=n.getElementsByTagName("i");n.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e",r[0];);return t>4?t:e}};e.exports=t},3240:function(e){function t(e){return(e.getAttribute("type")||"").toLowerCase()}function n(e){if(!e||!e.tagName)return"";var t=[e.tagName];e.id&&t.push("#"+e.id),e.classes&&t.push("."+e.classes.join("."));for(var n=0;n<e.attributes.length;n++)t.push("["+e.attributes[n].key+'="'+e.attributes[n].value+'"]');return t.join("")}function r(e){if(!e||!e.tagName)return null;var t,n,r,o,i={};i.tagName=e.tagName.toLowerCase(),e.id&&(i.id=e.id),(t=e.className)&&"string"==typeof t&&(i.classes=t.split(/\s+/));var a=["type","name","title","alt"];for(i.attributes=[],o=0;o<a.length;o++)n=a[o],(r=e.getAttribute(n))&&i.attributes.push({key:n,value:r});return i}e.exports={describeElement:r,descriptionToString:n,elementArrayToString:function(e){for(var t,r,o=" > ".length,i=[],a=0,s=e.length-1;s>=0;s--){if(t=n(e[s]),r=a+i.length*o+t.length,s<e.length-1&&r>=83){i.unshift("...");break}i.unshift(t),a+=t.length}return i.join(" > ")},treeToArray:function(e){for(var t,n=[],o=0;e&&o<5&&"html"!==(t=r(e)).tagName;o++)n.unshift(t),e=e.parentNode;return n},getElementFromEvent:function(e,t){return e.target?e.target:t&&t.elementFromPoint?t.elementFromPoint(e.clientX,e.clientY):void 0},isDescribedElement:function(e,n,r){if(e.tagName.toLowerCase()!==n.toLowerCase())return!1;if(!r)return!0;e=t(e);for(var o=0;o<r.length;o++)if(r[o]===e)return!0;return!1},getElementType:t}},7534:function(e){function t(e,t,n,r){e._rollbarWrappedError&&(r[4]||(r[4]=e._rollbarWrappedError),r[5]||(r[5]=e._rollbarWrappedError._rollbarContext),e._rollbarWrappedError=null);var o=t.handleUncaughtException.apply(t,r);n&&n.apply(e,r),"anonymous"===o&&(t.anonymousErrorsPending+=1)}e.exports={captureUncaughtExceptions:function(e,n,r){if(e){var o;if("function"==typeof n._rollbarOldOnError)o=n._rollbarOldOnError;else if(e.onerror){for(o=e.onerror;o._rollbarOldOnError;)o=o._rollbarOldOnError;n._rollbarOldOnError=o}n.handleAnonymousErrors();var i=function(){var r=Array.prototype.slice.call(arguments,0);t(e,n,o,r)};r&&(i._rollbarOldOnError=o),e.onerror=i}},captureUnhandledRejections:function(e,t,n){if(e){"function"==typeof e._rollbarURH&&e._rollbarURH.belongsToShim&&e.removeEventListener("unhandledrejection",e._rollbarURH);var r=function(e){var n,r,o;try{n=e.reason}catch(e){n=void 0}try{r=e.promise}catch(e){r="[unhandledrejection] error getting `promise` from event"}try{o=e.detail,!n&&o&&(n=o.reason,r=o.promise)}catch(e){}n||(n="[unhandledrejection] error getting `reason` from event"),t&&t.handleUnhandledRejection&&t.handleUnhandledRejection(n,r)};r.belongsToShim=n,e._rollbarURH=r,e.addEventListener("unhandledrejection",r)}}}},6339:function(e,t,n){n(2276);var r=n(4109),o=n(640);e.exports={error:function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("Rollbar:"),r.ieVersion()<=8?console.error(o.formatArgsAsString(e)):console.error.apply(console,e)},info:function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("Rollbar:"),r.ieVersion()<=8?console.info(o.formatArgsAsString(e)):console.info.apply(console,e)},log:function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("Rollbar:"),r.ieVersion()<=8?console.log(o.formatArgsAsString(e)):console.log.apply(console,e)}}},5495:function(e,t,n){var r=n(640);e.exports={checkIgnore:function(e,t){return!r.get(t,"plugins.jquery.ignoreAjaxErrors")||!r.get(e,"body.message.extra.isAjax")}}},6533:function(e,t,n){var r=n(640),o=n(9762),i=n(7058),a=n(3240),s={network:!0,networkResponseHeaders:!1,networkResponseBody:!1,networkRequestHeaders:!1,networkRequestBody:!1,networkErrorOnHttp5xx:!1,networkErrorOnHttp4xx:!1,networkErrorOnHttp0:!1,log:!0,dom:!0,navigation:!0,connectivity:!0};function u(e,t,n,r,o){var i=e[t];e[t]=n(i),r&&r[o].push([e,t,i])}function c(e,t){for(var n;e[t].length;)(n=e[t].shift())[0][n[1]]=n[2]}function l(e,t,n,o,i){this.options=e;var a=e.autoInstrument;!1===e.enabled||!1===a?this.autoInstrument={}:(r.isType(a,"object")||(a=s),this.autoInstrument=r.merge(s,a)),this.scrubTelemetryInputs=!!e.scrubTelemetryInputs,this.telemetryScrubber=e.telemetryScrubber,this.defaultValueScrubber=function(e){for(var t=[],n=0;n<e.length;++n)t.push(new RegExp(e[n],"i"));return function(e){var n=function(e){if(!e||!e.attributes)return null;for(var t=e.attributes,n=0;n<t.length;++n)if("name"===t[n].key)return t[n].value;return null}(e);if(!n)return!1;for(var r=0;r<t.length;++r)if(t[r].test(n))return!0;return!1}}(e.scrubFields),this.telemeter=t,this.rollbar=n,this.diagnostic=n.client.notifier.diagnostic,this._window=o||{},this._document=i||{},this.replacements={network:[],log:[],navigation:[],connectivity:[]},this.eventRemovers={dom:[],connectivity:[]},this._location=this._window.location,this._lastHref=this._location&&this._location.href}l.prototype.configure=function(e){this.options=r.merge(this.options,e);var t=e.autoInstrument,n=r.merge(this.autoInstrument);!1===e.enabled||!1===t?this.autoInstrument={}:(r.isType(t,"object")||(t=s),this.autoInstrument=r.merge(s,t)),this.instrument(n),void 0!==e.scrubTelemetryInputs&&(this.scrubTelemetryInputs=!!e.scrubTelemetryInputs),void 0!==e.telemetryScrubber&&(this.telemetryScrubber=e.telemetryScrubber)},l.prototype.instrument=function(e){!this.autoInstrument.network||e&&e.network?!this.autoInstrument.network&&e&&e.network&&this.deinstrumentNetwork():this.instrumentNetwork(),!this.autoInstrument.log||e&&e.log?!this.autoInstrument.log&&e&&e.log&&this.deinstrumentConsole():this.instrumentConsole(),!this.autoInstrument.dom||e&&e.dom?!this.autoInstrument.dom&&e&&e.dom&&this.deinstrumentDom():this.instrumentDom(),!this.autoInstrument.navigation||e&&e.navigation?!this.autoInstrument.navigation&&e&&e.navigation&&this.deinstrumentNavigation():this.instrumentNavigation(),!this.autoInstrument.connectivity||e&&e.connectivity?!this.autoInstrument.connectivity&&e&&e.connectivity&&this.deinstrumentConnectivity():this.instrumentConnectivity()},l.prototype.deinstrumentNetwork=function(){c(this.replacements,"network")},l.prototype.instrumentNetwork=function(){var e=this;function t(t,n){t in n&&r.isFunction(n[t])&&u(n,t,(function(t){return e.rollbar.wrap(t)}))}if("XMLHttpRequest"in this._window){var n=this._window.XMLHttpRequest.prototype;u(n,"open",(function(e){return function(t,n){return r.isType(n,"string")&&(this.__rollbar_xhr?(this.__rollbar_xhr.method=t,this.__rollbar_xhr.url=n,this.__rollbar_xhr.status_code=null,this.__rollbar_xhr.start_time_ms=r.now(),this.__rollbar_xhr.end_time_ms=null):this.__rollbar_xhr={method:t,url:n,status_code:null,start_time_ms:r.now(),end_time_ms:null}),e.apply(this,arguments)}}),this.replacements,"network"),u(n,"setRequestHeader",(function(t){return function(n,o){return this.__rollbar_xhr||(this.__rollbar_xhr={}),r.isType(n,"string")&&r.isType(o,"string")&&(e.autoInstrument.networkRequestHeaders&&(this.__rollbar_xhr.request_headers||(this.__rollbar_xhr.request_headers={}),this.__rollbar_xhr.request_headers[n]=o),"content-type"===n.toLowerCase()&&(this.__rollbar_xhr.request_content_type=o)),t.apply(this,arguments)}}),this.replacements,"network"),u(n,"send",(function(n){return function(o){var i=this;function a(){if(i.__rollbar_xhr&&(null===i.__rollbar_xhr.status_code&&(i.__rollbar_xhr.status_code=0,e.autoInstrument.networkRequestBody&&(i.__rollbar_xhr.request=o),i.__rollbar_event=e.captureNetwork(i.__rollbar_xhr,"xhr",void 0)),i.readyState<2&&(i.__rollbar_xhr.start_time_ms=r.now()),i.readyState>3)){i.__rollbar_xhr.end_time_ms=r.now();var t=null;if(i.__rollbar_xhr.response_content_type=i.getResponseHeader("Content-Type"),e.autoInstrument.networkResponseHeaders){var n=e.autoInstrument.networkResponseHeaders;t={};try{var a,s;if(!0===n){var u=i.getAllResponseHeaders();if(u){var c,l,f=u.trim().split(/[\r\n]+/);for(s=0;s<f.length;s++)a=(c=f[s].split(": ")).shift(),l=c.join(": "),t[a]=l}}else for(s=0;s<n.length;s++)t[a=n[s]]=i.getResponseHeader(a)}catch(e){}}var d=null;if(e.autoInstrument.networkResponseBody)try{d=i.responseText}catch(e){}var p=null;(d||t)&&(p={},d&&(e.isJsonContentType(i.__rollbar_xhr.request_content_type)?p.body=e.scrubJson(d):p.body=d),t&&(p.headers=t)),p&&(i.__rollbar_xhr.response=p);try{var h=i.status;h=1223===h?204:h,i.__rollbar_xhr.status_code=h,i.__rollbar_event.level=e.telemeter.levelFromStatus(h),e.errorOnHttpStatus(i.__rollbar_xhr)}catch(e){}}}return t("onload",i),t("onerror",i),t("onprogress",i),"onreadystatechange"in i&&r.isFunction(i.onreadystatechange)?u(i,"onreadystatechange",(function(t){return e.rollbar.wrap(t,void 0,a)})):i.onreadystatechange=a,i.__rollbar_xhr&&e.trackHttpErrors()&&(i.__rollbar_xhr.stack=(new Error).stack),n.apply(this,arguments)}}),this.replacements,"network")}"fetch"in this._window&&u(this._window,"fetch",(function(t){return function(n,o){for(var i=new Array(arguments.length),a=0,s=i.length;a<s;a++)i[a]=arguments[a];var u,c=i[0],l="GET";r.isType(c,"string")?u=c:c&&(u=c.url,c.method&&(l=c.method)),i[1]&&i[1].method&&(l=i[1].method);var f={method:l,url:u,status_code:null,start_time_ms:r.now(),end_time_ms:null};if(i[1]&&i[1].headers){var d=new Headers(i[1].headers);f.request_content_type=d.get("Content-Type"),e.autoInstrument.networkRequestHeaders&&(f.request_headers=e.fetchHeaders(d,e.autoInstrument.networkRequestHeaders))}return e.autoInstrument.networkRequestBody&&(i[1]&&i[1].body?f.request=i[1].body:i[0]&&!r.isType(i[0],"string")&&i[0].body&&(f.request=i[0].body)),e.captureNetwork(f,"fetch",void 0),e.trackHttpErrors()&&(f.stack=(new Error).stack),t.apply(this,i).then((function(t){f.end_time_ms=r.now(),f.status_code=t.status,f.response_content_type=t.headers.get("Content-Type");var n=null;e.autoInstrument.networkResponseHeaders&&(n=e.fetchHeaders(t.headers,e.autoInstrument.networkResponseHeaders));var o=null;return e.autoInstrument.networkResponseBody&&"function"==typeof t.text&&(o=t.clone().text()),(n||o)&&(f.response={},o&&("function"==typeof o.then?o.then((function(t){e.isJsonContentType(f.response_content_type)&&(f.response.body=e.scrubJson(t))})):f.response.body=o),n&&(f.response.headers=n)),e.errorOnHttpStatus(f),t}))}}),this.replacements,"network")},l.prototype.captureNetwork=function(e,t,n){return e.request&&this.isJsonContentType(e.request_content_type)&&(e.request=this.scrubJson(e.request)),this.telemeter.captureNetwork(e,t,n)},l.prototype.isJsonContentType=function(e){return!(!e||!e.toLowerCase().includes("json"))},l.prototype.scrubJson=function(e){return JSON.stringify(o(JSON.parse(e),this.options.scrubFields))},l.prototype.fetchHeaders=function(e,t){var n={};try{var r;if(!0===t){if("function"==typeof e.entries)for(var o=e.entries(),i=o.next();!i.done;)n[i.value[0]]=i.value[1],i=o.next()}else for(r=0;r<t.length;r++){var a=t[r];n[a]=e.get(a)}}catch(e){}return n},l.prototype.trackHttpErrors=function(){return this.autoInstrument.networkErrorOnHttp5xx||this.autoInstrument.networkErrorOnHttp4xx||this.autoInstrument.networkErrorOnHttp0},l.prototype.errorOnHttpStatus=function(e){var t=e.status_code;if(t>=500&&this.autoInstrument.networkErrorOnHttp5xx||t>=400&&this.autoInstrument.networkErrorOnHttp4xx||0===t&&this.autoInstrument.networkErrorOnHttp0){var n=new Error("HTTP request failed with Status "+t);n.stack=e.stack,this.rollbar.error(n,{skipFrames:1})}},l.prototype.deinstrumentConsole=function(){if("console"in this._window&&this._window.console.log)for(var e;this.replacements.log.length;)e=this.replacements.log.shift(),this._window.console[e[0]]=e[1]},l.prototype.instrumentConsole=function(){if("console"in this._window&&this._window.console.log){var e=this,t=this._window.console,n=["debug","info","warn","error","log"];try{for(var o=0,i=n.length;o<i;o++)a(n[o])}catch(e){this.diagnostic.instrumentConsole={error:e.message}}}function a(n){"use strict";var o=t[n],i=t,a="warn"===n?"warning":n;t[n]=function(){var t=Array.prototype.slice.call(arguments),n=r.formatArgsAsString(t);e.telemeter.captureLog(n,a),o&&Function.prototype.apply.call(o,i,t)},e.replacements.log.push([n,o])}},l.prototype.deinstrumentDom=function(){("addEventListener"in this._window||"attachEvent"in this._window)&&this.removeListeners("dom")},l.prototype.instrumentDom=function(){if("addEventListener"in this._window||"attachEvent"in this._window){var e=this.handleClick.bind(this),t=this.handleBlur.bind(this);this.addListener("dom",this._window,"click","onclick",e,!0),this.addListener("dom",this._window,"blur","onfocusout",t,!0)}},l.prototype.handleClick=function(e){try{var t=a.getElementFromEvent(e,this._document),n=t&&t.tagName,r=a.isDescribedElement(t,"a")||a.isDescribedElement(t,"button");n&&(r||a.isDescribedElement(t,"input",["button","submit"]))?this.captureDomEvent("click",t):a.isDescribedElement(t,"input",["checkbox","radio"])&&this.captureDomEvent("input",t,t.value,t.checked)}catch(e){}},l.prototype.handleBlur=function(e){try{var t=a.getElementFromEvent(e,this._document);t&&t.tagName&&(a.isDescribedElement(t,"textarea")?this.captureDomEvent("input",t,t.value):a.isDescribedElement(t,"select")&&t.options&&t.options.length?this.handleSelectInputChanged(t):a.isDescribedElement(t,"input")&&!a.isDescribedElement(t,"input",["button","submit","hidden","checkbox","radio"])&&this.captureDomEvent("input",t,t.value))}catch(e){}},l.prototype.handleSelectInputChanged=function(e){if(e.multiple)for(var t=0;t<e.options.length;t++)e.options[t].selected&&this.captureDomEvent("input",e,e.options[t].value);else e.selectedIndex>=0&&e.options[e.selectedIndex]&&this.captureDomEvent("input",e,e.options[e.selectedIndex].value)},l.prototype.captureDomEvent=function(e,t,n,r){if(void 0!==n)if(this.scrubTelemetryInputs||"password"===a.getElementType(t))n="[scrubbed]";else{var o=a.describeElement(t);this.telemetryScrubber?this.telemetryScrubber(o)&&(n="[scrubbed]"):this.defaultValueScrubber(o)&&(n="[scrubbed]")}var i=a.elementArrayToString(a.treeToArray(t));this.telemeter.captureDom(e,i,n,r)},l.prototype.deinstrumentNavigation=function(){var e=this._window.chrome;!(e&&e.app&&e.app.runtime)&&this._window.history&&this._window.history.pushState&&c(this.replacements,"navigation")},l.prototype.instrumentNavigation=function(){var e=this._window.chrome;if(!(e&&e.app&&e.app.runtime)&&this._window.history&&this._window.history.pushState){var t=this;u(this._window,"onpopstate",(function(e){return function(){var n=t._location.href;t.handleUrlChange(t._lastHref,n),e&&e.apply(this,arguments)}}),this.replacements,"navigation"),u(this._window.history,"pushState",(function(e){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&t.handleUrlChange(t._lastHref,n+""),e.apply(this,arguments)}}),this.replacements,"navigation")}},l.prototype.handleUrlChange=function(e,t){var n=i.parse(this._location.href),r=i.parse(t),o=i.parse(e);this._lastHref=t,n.protocol===r.protocol&&n.host===r.host&&(t=r.path+(r.hash||"")),n.protocol===o.protocol&&n.host===o.host&&(e=o.path+(o.hash||"")),this.telemeter.captureNavigation(e,t)},l.prototype.deinstrumentConnectivity=function(){("addEventListener"in this._window||"body"in this._document)&&(this._window.addEventListener?this.removeListeners("connectivity"):c(this.replacements,"connectivity"))},l.prototype.instrumentConnectivity=function(){if("addEventListener"in this._window||"body"in this._document)if(this._window.addEventListener)this.addListener("connectivity",this._window,"online",void 0,function(){this.telemeter.captureConnectivityChange("online")}.bind(this),!0),this.addListener("connectivity",this._window,"offline",void 0,function(){this.telemeter.captureConnectivityChange("offline")}.bind(this),!0);else{var e=this;u(this._document.body,"ononline",(function(t){return function(){e.telemeter.captureConnectivityChange("online"),t&&t.apply(this,arguments)}}),this.replacements,"connectivity"),u(this._document.body,"onoffline",(function(t){return function(){e.telemeter.captureConnectivityChange("offline"),t&&t.apply(this,arguments)}}),this.replacements,"connectivity")}},l.prototype.addListener=function(e,t,n,r,o,i){t.addEventListener?(t.addEventListener(n,o,i),this.eventRemovers[e].push((function(){t.removeEventListener(n,o,i)}))):r&&(t.attachEvent(r,o),this.eventRemovers[e].push((function(){t.detachEvent(r,o)})))},l.prototype.removeListeners=function(e){for(;this.eventRemovers[e].length;)this.eventRemovers[e].shift()()},e.exports=l},3322:function(e,t,n){var r=n(640),o=n(5128),i=n(6339);function a(e,t,n){var o=e.message,i=e.custom;o||(o="Item sent with null or missing arguments.");var a={body:o};i&&(a.extra=r.merge(i)),r.set(e,"data.body",{message:a}),n(null,e)}function s(e){var t=e.stackInfo.stack;return t&&0===t.length&&e._unhandledStackInfo&&e._unhandledStackInfo.stack&&(t=e._unhandledStackInfo.stack),t}function u(e,t,n){var i=e&&e.data.description,a=e&&e.custom,u=s(e),l=o.guessErrorClass(t.message),f={exception:{class:c(t,l[0],n),message:l[1]}};if(i&&(f.exception.description=i),u){var d,p,h,m,g,y,v,A;for(0===u.length&&(f.exception.stack=t.rawStack,f.exception.raw=String(t.rawException)),f.frames=[],v=0;v<u.length;++v)p={filename:(d=u[v]).url?r.sanitizeUrl(d.url):"(unknown)",lineno:d.line||null,method:d.func&&"?"!==d.func?d.func:"[anonymous]",colno:d.column},n.sendFrameUrl&&(p.url=d.url),p.method&&p.method.endsWith&&p.method.endsWith("_rollbar_wrapped")||(h=m=g=null,(y=d.context?d.context.length:0)&&(A=Math.floor(y/2),m=d.context.slice(0,A),h=d.context[A],g=d.context.slice(A)),h&&(p.code=h),(m||g)&&(p.context={},m&&m.length&&(p.context.pre=m),g&&g.length&&(p.context.post=g)),d.args&&(p.args=d.args),f.frames.push(p));f.frames.reverse(),a&&(f.extra=r.merge(a))}return f}function c(e,t,n){return e.name?e.name:n.guessErrorClass?t:"(unknown)"}e.exports={handleDomException:function(e,t,n){if(e.err&&"DOMException"===o.Stack(e.err).name){var r=new Error;r.name=e.err.name,r.message=e.err.message,r.stack=e.err.stack,r.nested=e.err,e.err=r}n(null,e)},handleItemWithError:function(e,t,n){if(e.data=e.data||{},e.err)try{e.stackInfo=e.err._savedStackTrace||o.parse(e.err,e.skipFrames),t.addErrorContext&&function(e){var t=[],n=e.err;t.push(n);for(;n.nested;)n=n.nested,t.push(n);r.addErrorContext(e,t)}(e)}catch(t){i.error("Error while parsing the error object.",t);try{e.message=e.err.message||e.err.description||e.message||String(e.err)}catch(t){e.message=String(e.err)||String(t)}delete e.err}n(null,e)},ensureItemHasSomethingToSay:function(e,t,n){e.message||e.stackInfo||e.custom||n(new Error("No message, stack info, or custom data"),null),n(null,e)},addBaseInfo:function(e,t,n){var o=t.payload&&t.payload.environment||t.environment;e.data=r.merge(e.data,{environment:o,level:e.level,endpoint:t.endpoint,platform:"browser",framework:"browser-js",language:"javascript",server:{},uuid:e.uuid,notifier:{name:"rollbar-browser-js",version:t.version},custom:e.custom}),n(null,e)},addRequestInfo:function(e){return function(t,n,o){if(!e||!e.location)return o(null,t);var i="$remote_ip";n.captureIp?!0!==n.captureIp&&(i+="_anonymize"):i=null,r.set(t,"data.request",{url:e.location.href,query_string:e.location.search,user_ip:i}),o(null,t)}},addClientInfo:function(e){return function(t,n,o){if(!e)return o(null,t);var i=e.navigator||{},a=e.screen||{};r.set(t,"data.client",{runtime_ms:t.timestamp-e._rollbarStartTime,timestamp:Math.round(t.timestamp/1e3),javascript:{browser:i.userAgent,language:i.language,cookie_enabled:i.cookieEnabled,screen:{width:a.width,height:a.height}}}),o(null,t)}},addPluginInfo:function(e){return function(t,n,o){if(!e||!e.navigator)return o(null,t);for(var i,a=[],s=e.navigator.plugins||[],u=0,c=s.length;u<c;++u)i=s[u],a.push({name:i.name,description:i.description});r.set(t,"data.client.javascript.plugins",a),o(null,t)}},addBody:function(e,t,n){e.stackInfo?e.stackInfo.traceChain?function(e,t,n){for(var o=e.stackInfo.traceChain,i=[],a=o.length,s=0;s<a;s++){var c=u(e,o[s],t);i.push(c)}r.set(e,"data.body",{trace_chain:i}),n(null,e)}(e,t,n):function(e,t,n){if(s(e)){var i=u(e,e.stackInfo,t);r.set(e,"data.body",{trace:i}),n(null,e)}else{var l=e.stackInfo,f=o.guessErrorClass(l.message),d=c(l,f[0],t),p=f[1];e.message=d+": "+p,a(e,t,n)}}(e,t,n):a(e,t,n)},addScrubber:function(e){return function(t,n,r){if(e){var o=n.scrubFields||[],i=n.scrubPaths||[];t.data=e(t.data,o,i)}r(null,t)}}}},2912:function(e,t,n){var r=n(640),o=n(6339);function i(e){this.truncation=e}function a(e,t,n,r,o,i){var a="undefined"!=typeof window&&window||"undefined"!=typeof self&&self,u=a&&a.Zone&&a.Zone.current;u&&"angular"===u._name?u._parent.run((function(){s(e,t,n,r,o,i)})):s(e,t,n,r,o,i)}function s(e,t,n,i,a,s){if("undefined"!=typeof RollbarProxy)return function(e,t){(new RollbarProxy).sendJsonPayload(e,(function(e){}),(function(e){t(new Error(e))}))}(i,a);var c;if(!(c=s?s():function(){var e,t,n=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],r=n.length;for(t=0;t<r;t++)try{e=n[t]();break}catch(e){}return e}()))return a(new Error("No way to send a request"));try{try{var l=function(){try{if(l&&4===c.readyState){l=void 0;var e=r.jsonParse(c.responseText);if((i=c)&&i.status&&200===i.status)return void a(e.error,e.value);if(function(e){return e&&r.isType(e.status,"number")&&e.status>=400&&e.status<600}(c)){if(403===c.status){var t=e.value&&e.value.message;o.error(t)}a(new Error(String(c.status)))}else{a(u("XHR response had no status code (likely connection failure)"))}}}catch(e){var n;n=e&&e.stack?e:new Error(e),a(n)}var i};c.open(n,t,!0),c.setRequestHeader&&(c.setRequestHeader("Content-Type","application/json"),c.setRequestHeader("X-Rollbar-Access-Token",e)),c.onreadystatechange=l,c.send(i)}catch(e){if("undefined"!=typeof XDomainRequest){if(!window||!window.location)return a(new Error("No window available during request, unknown environment"));"http:"===window.location.href.substring(0,5)&&"https"===t.substring(0,5)&&(t="http"+t.substring(5));var f=new XDomainRequest;f.onprogress=function(){},f.ontimeout=function(){a(u("Request timed out","ETIMEDOUT"))},f.onerror=function(){a(new Error("Error during request"))},f.onload=function(){var e=r.jsonParse(f.responseText);a(e.error,e.value)},f.open(n,t,!0),f.send(i)}else a(new Error("Cannot find a method to transport a request"))}}catch(e){a(e)}}function u(e,t){var n=new Error(e);return n.code=t||"ENOTFOUND",n}i.prototype.get=function(e,t,n,o,i){o&&r.isFunction(o)||(o=function(){}),r.addParamsAndAccessTokenToPath(e,t,n);a(e,r.formatUrl(t),"GET",null,o,i)},i.prototype.post=function(e,t,n,o,i){if(o&&r.isFunction(o)||(o=function(){}),!n)return o(new Error("Cannot send empty request"));var s;if((s=this.truncation?this.truncation.truncate(n):r.stringify(n)).error)return o(s.error);var u=s.value;a(e,r.formatUrl(t),"POST",u,o,i)},i.prototype.postJsonPayload=function(e,t,n,o,i){o&&r.isFunction(o)||(o=function(){});a(e,r.formatUrl(t),"POST",n,o,i)},e.exports=i},7058:function(e){e.exports={parse:function(e){var t,n,r={protocol:null,auth:null,host:null,path:null,hash:null,href:e,hostname:null,port:null,pathname:null,search:null,query:null};if(-1!==(t=e.indexOf("//"))?(r.protocol=e.substring(0,t),n=t+2):n=0,-1!==(t=e.indexOf("@",n))&&(r.auth=e.substring(n,t),n=t+1),-1===(t=e.indexOf("/",n))){if(-1===(t=e.indexOf("?",n)))return-1===(t=e.indexOf("#",n))?r.host=e.substring(n):(r.host=e.substring(n,t),r.hash=e.substring(t)),r.hostname=r.host.split(":")[0],r.port=r.host.split(":")[1],r.port&&(r.port=parseInt(r.port,10)),r;r.host=e.substring(n,t),r.hostname=r.host.split(":")[0],r.port=r.host.split(":")[1],r.port&&(r.port=parseInt(r.port,10)),n=t}else r.host=e.substring(n,t),r.hostname=r.host.split(":")[0],r.port=r.host.split(":")[1],r.port&&(r.port=parseInt(r.port,10)),n=t;if(-1===(t=e.indexOf("#",n))?r.path=e.substring(n):(r.path=e.substring(n,t),r.hash=e.substring(t)),r.path){var o=r.path.split("?");r.pathname=o[0],r.query=o[1],r.search=r.query?"?"+r.query:null}return r}}},8060:function(e){e.exports={version:"2.19.2",endpoint:"api.rollbar.com/api/1/item/",logLevel:"debug",reportLevel:"debug",uncaughtErrorLevel:"error",maxItems:0,itemsPerMin:60}},5128:function(e,t,n){var r=n(9180),o=new RegExp("^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): ");function i(){return null}function a(e){var t={};return t._stackFrame=e,t.url=e.fileName,t.line=e.lineNumber,t.func=e.functionName,t.column=e.columnNumber,t.args=e.args,t.context=null,t}function s(e,t){return{stack:function(){var n=[];t=t||0;try{n=r.parse(e)}catch(e){n=[]}for(var o=[],i=t;i<n.length;i++)o.push(new a(n[i]));return o}(),message:e.message,name:u(e),rawStack:e.stack,rawException:e}}function u(e){var t=e.name&&e.name.length&&e.name,n=e.constructor.name&&e.constructor.name.length&&e.constructor.name;return t&&n?"Error"===t?n:t:t||n}e.exports={guessFunctionName:function(){return"?"},guessErrorClass:function(e){if(!e||!e.match)return["Unknown error. There was no error message to display.",""];var t=e.match(o),n="(unknown)";return t&&(n=t[t.length-1],e=(e=e.replace((t[t.length-2]||"")+n+":","")).replace(/(^[\s]+|[\s]+$)/g,"")),[n,e]},gatherContext:i,parse:function(e,t){var n=e;if(n.nested){for(var r=[];n;)r.push(new s(n,t)),n=n.nested,t=0;return r[0].traceChain=r,r[0]}return new s(n,t)},Stack:s,Frame:a}},1454:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var r,o=t.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!i)return!1;for(r in e);return void 0===r||t.call(e,r)};e.exports=function e(){var t,n,o,i,a,s={},u=null,c=arguments.length;for(t=0;t<c;t++)if(null!=(u=arguments[t]))for(a in u)n=s[a],s!==(o=u[a])&&(o&&r(o)?(i=n&&r(n)?n:{},s[a]=e(i,o)):void 0!==o&&(s[a]=o));return s}},1970:function(e,t,n){var r=n(640);function o(e,t){this.queue=e,this.options=t,this.transforms=[],this.diagnostic={}}o.prototype.configure=function(e){this.queue&&this.queue.configure(e);var t=this.options;return this.options=r.merge(t,e),this},o.prototype.addTransform=function(e){return r.isFunction(e)&&this.transforms.push(e),this},o.prototype.log=function(e,t){if(t&&r.isFunction(t)||(t=function(){}),!this.options.enabled)return t(new Error("Rollbar is not enabled"));this.queue.addPendingItem(e);var n=e.err;this._applyTransforms(e,function(r,o){if(r)return this.queue.removePendingItem(e),t(r,null);this.queue.addItem(o,t,n,e)}.bind(this))},o.prototype._applyTransforms=function(e,t){var n=-1,r=this.transforms.length,o=this.transforms,i=this.options,a=function(e,s){e?t(e,null):++n!==r?o[n](s,i,a):t(null,s)};a(null,e)},e.exports=o},5532:function(e,t,n){var r=n(640);function o(e,t,n){if(!e)return!n;var o,i,a=e.frames;if(!a||0===a.length)return!n;for(var s=t.length,u=a.length,c=0;c<u;c++){if(o=a[c].filename,!r.isType(o,"string"))return!n;for(var l=0;l<s;l++)if(i=t[l],new RegExp(i).test(o))return!0}return!1}function i(e,t,n,i){var a,s,u=!1;"blacklist"===n&&(u=!0);try{if(a=u?t.hostBlackList:t.hostWhiteList,s=r.get(e,"body.trace_chain")||[r.get(e,"body.trace")],!a||0===a.length)return!u;if(0===s.length||!s[0])return!u;for(var c=s.length,l=0;l<c;l++)if(o(s[l],a,u))return!0}catch(e){u?t.hostBlackList=null:t.hostWhiteList=null;var f=u?"hostBlackList":"hostWhiteList";return i.error("Error while reading your configuration's "+f+" option. Removing custom "+f+".",e),!u}return!1}e.exports={checkLevel:function(e,t){var n=e.level,o=r.LEVELS[n]||0,i=t.reportLevel;return!(o<(r.LEVELS[i]||0))},userCheckIgnore:function(e){return function(t,n){var o=!!t._isUncaught;delete t._isUncaught;var i=t._originalArgs;delete t._originalArgs;try{r.isFunction(n.onSendCallback)&&n.onSendCallback(o,i,t)}catch(t){n.onSendCallback=null,e.error("Error while calling onSendCallback, removing",t)}try{if(r.isFunction(n.checkIgnore)&&n.checkIgnore(o,i,t))return!1}catch(t){n.checkIgnore=null,e.error("Error while calling custom checkIgnore(), removing",t)}return!0}},urlIsNotBlacklisted:function(e){return function(t,n){return!i(t,n,"blacklist",e)}},urlIsWhitelisted:function(e){return function(t,n){return i(t,n,"whitelist",e)}},messageIsIgnored:function(e){return function(t,n){var o,i,a,s,u,c,l,f;try{if(u=!1,!(a=n.ignoredMessages)||0===a.length)return!0;if(c=t.body,l=r.get(c,"trace.exception.message"),f=r.get(c,"message.body"),!(o=l||f))return!0;for(s=a.length,i=0;i<s&&!(u=new RegExp(a[i],"gi").test(o));i++);}catch(t){n.ignoredMessages=null,e.error("Error while reading your configuration's ignoredMessages option. Removing custom ignoredMessages.")}return!u}}}},3999:function(e,t,n){var r=n(640);function o(e,t,n,r){this.rateLimiter=e,this.api=t,this.logger=n,this.options=r,this.predicates=[],this.pendingItems=[],this.pendingRequests=[],this.retryQueue=[],this.retryHandle=null,this.waitCallback=null,this.waitIntervalID=null}o.prototype.configure=function(e){this.api&&this.api.configure(e);var t=this.options;return this.options=r.merge(t,e),this},o.prototype.addPredicate=function(e){return r.isFunction(e)&&this.predicates.push(e),this},o.prototype.addPendingItem=function(e){this.pendingItems.push(e)},o.prototype.removePendingItem=function(e){var t=this.pendingItems.indexOf(e);-1!==t&&this.pendingItems.splice(t,1)},o.prototype.addItem=function(e,t,n,o){t&&r.isFunction(t)||(t=function(){});var i=this._applyPredicates(e);if(i.stop)return this.removePendingItem(o),void t(i.err);if(this._maybeLog(e,n),this.removePendingItem(o),this.options.transmit){this.pendingRequests.push(e);try{this._makeApiRequest(e,function(n,r){this._dequeuePendingRequest(e),t(n,r)}.bind(this))}catch(n){this._dequeuePendingRequest(e),t(n)}}else t(new Error("Transmit disabled"))},o.prototype.wait=function(e){r.isFunction(e)&&(this.waitCallback=e,this._maybeCallWait()||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitIntervalID=setInterval(function(){this._maybeCallWait()}.bind(this),500)))},o.prototype._applyPredicates=function(e){for(var t=null,n=0,r=this.predicates.length;n<r;n++)if(!(t=this.predicates[n](e,this.options))||void 0!==t.err)return{stop:!0,err:t.err};return{stop:!1,err:null}},o.prototype._makeApiRequest=function(e,t){var n=this.rateLimiter.shouldSend(e);n.shouldSend?this.api.postItem(e,function(n,r){n?this._maybeRetry(n,e,t):t(n,r)}.bind(this)):n.error?t(n.error):this.api.postItem(n.payload,t)};var i=["ECONNRESET","ENOTFOUND","ESOCKETTIMEDOUT","ETIMEDOUT","ECONNREFUSED","EHOSTUNREACH","EPIPE","EAI_AGAIN"];o.prototype._maybeRetry=function(e,t,n){var r=!1;if(this.options.retryInterval)for(var o=0,a=i.length;o<a;o++)if(e.code===i[o]){r=!0;break}r?this._retryApiRequest(t,n):n(e)},o.prototype._retryApiRequest=function(e,t){this.retryQueue.push({item:e,callback:t}),this.retryHandle||(this.retryHandle=setInterval(function(){for(;this.retryQueue.length;){var e=this.retryQueue.shift();this._makeApiRequest(e.item,e.callback)}}.bind(this),this.options.retryInterval))},o.prototype._dequeuePendingRequest=function(e){var t=this.pendingRequests.indexOf(e);-1!==t&&(this.pendingRequests.splice(t,1),this._maybeCallWait())},o.prototype._maybeLog=function(e,t){if(this.logger&&this.options.verbose){var n=t;if(n=(n=n||r.get(e,"body.trace.exception.message"))||r.get(e,"body.trace_chain.0.exception.message"))return void this.logger.error(n);(n=r.get(e,"body.message.body"))&&this.logger.log(n)}},o.prototype._maybeCallWait=function(){return!(!r.isFunction(this.waitCallback)||0!==this.pendingItems.length||0!==this.pendingRequests.length)&&(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitCallback(),!0)},e.exports=o},9285:function(e,t,n){var r=n(640);function o(e){this.startTime=r.now(),this.counter=0,this.perMinCounter=0,this.platform=null,this.platformOptions={},this.configureGlobal(e)}function i(e,t,n){return!e.ignoreRateLimit&&t>=1&&n>t}function a(e,t,n,r,o,i,a){var s=null;return n&&(n=new Error(n)),n||r||(s=function(e,t,n,r,o){var i,a=t.environment||t.payload&&t.payload.environment;i=o?"item per minute limit reached, ignoring errors until timeout":"maxItems has been hit, ignoring errors until reset.";var s={body:{message:{body:i,extra:{maxItems:n,itemsPerMinute:r}}},language:"javascript",environment:a,notifier:{version:t.notifier&&t.notifier.version||t.version}};"browser"===e?(s.platform="browser",s.framework="browser-js",s.notifier.name="rollbar-browser-js"):"server"===e?(s.framework=t.framework||"node-js",s.notifier.name=t.notifier.name):"react-native"===e&&(s.framework=t.framework||"react-native",s.notifier.name=t.notifier.name);return s}(e,t,o,i,a)),{error:n,shouldSend:r,payload:s}}o.globalSettings={startTime:r.now(),maxItems:void 0,itemsPerMinute:void 0},o.prototype.configureGlobal=function(e){void 0!==e.startTime&&(o.globalSettings.startTime=e.startTime),void 0!==e.maxItems&&(o.globalSettings.maxItems=e.maxItems),void 0!==e.itemsPerMinute&&(o.globalSettings.itemsPerMinute=e.itemsPerMinute)},o.prototype.shouldSend=function(e,t){var n=(t=t||r.now())-this.startTime;(n<0||n>=6e4)&&(this.startTime=t,this.perMinCounter=0);var s=o.globalSettings.maxItems,u=o.globalSettings.itemsPerMinute;if(i(e,s,this.counter))return a(this.platform,this.platformOptions,s+" max items reached",!1);if(i(e,u,this.perMinCounter))return a(this.platform,this.platformOptions,u+" items per minute reached",!1);this.counter++,this.perMinCounter++;var c=!i(e,s,this.counter),l=c;return c=c&&!i(e,u,this.perMinCounter),a(this.platform,this.platformOptions,null,c,s,u,l)},o.prototype.setPlatformOptions=function(e,t){this.platform=e,this.platformOptions=t},e.exports=o},5661:function(e,t,n){var r=n(9285),o=n(3999),i=n(1970),a=n(640);function s(e,t,n,r,l){this.options=a.merge(e),this.logger=n,s.rateLimiter.configureGlobal(this.options),s.rateLimiter.setPlatformOptions(l,this.options),this.api=t,this.queue=new o(s.rateLimiter,t,n,this.options);var f=this.options.tracer||null;c(f)?(this.tracer=f,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier=new i(this.queue,this.options),this.telemeter=r,u(e),this.lastError=null,this.lastErrorHash="none"}function u(e){e.stackTraceLimit&&(Error.stackTraceLimit=e.stackTraceLimit)}function c(e){if(!e)return!1;if(!e.scope||"function"!=typeof e.scope)return!1;var t=e.scope();return!(!t||!t.active||"function"!=typeof t.active)}s.rateLimiter=new r({maxItems:0,itemsPerMinute:60}),s.prototype.global=function(e){return s.rateLimiter.configureGlobal(e),this},s.prototype.configure=function(e,t){var n=this.options,r={};t&&(r={payload:t}),this.options=a.merge(n,e,r);var o=this.options.tracer||null;return c(o)?(this.tracer=o,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier&&this.notifier.configure(this.options),this.telemeter&&this.telemeter.configure(this.options),u(e),this.global(this.options),c(e.tracer)&&(this.tracer=e.tracer),this},s.prototype.log=function(e){var t=this._defaultLogLevel();return this._log(t,e)},s.prototype.debug=function(e){this._log("debug",e)},s.prototype.info=function(e){this._log("info",e)},s.prototype.warn=function(e){this._log("warning",e)},s.prototype.warning=function(e){this._log("warning",e)},s.prototype.error=function(e){this._log("error",e)},s.prototype.critical=function(e){this._log("critical",e)},s.prototype.wait=function(e){this.queue.wait(e)},s.prototype.captureEvent=function(e,t,n){return this.telemeter&&this.telemeter.captureEvent(e,t,n)},s.prototype.captureDomContentLoaded=function(e){return this.telemeter&&this.telemeter.captureDomContentLoaded(e)},s.prototype.captureLoad=function(e){return this.telemeter&&this.telemeter.captureLoad(e)},s.prototype.buildJsonPayload=function(e){return this.api.buildJsonPayload(e)},s.prototype.sendJsonPayload=function(e){this.api.postJsonPayload(e)},s.prototype._log=function(e,t){var n;if(t.callback&&(n=t.callback,delete t.callback),this.options.ignoreDuplicateErrors&&this._sameAsLastError(t)){if(n){var r=new Error("ignored identical item");r.item=t,n(r)}}else try{this._addTracingInfo(t),t.level=t.level||e,this.telemeter&&this.telemeter._captureRollbarItem(t),t.telemetryEvents=this.telemeter&&this.telemeter.copyEvents()||[],this.notifier.log(t,n)}catch(e){this.logger.error(e)}},s.prototype._defaultLogLevel=function(){return this.options.logLevel||"debug"},s.prototype._sameAsLastError=function(e){if(!e._isUncaught)return!1;var t=function(e){var t=e.message||"",n=(e.err||{}).stack||String(e.err);return t+"::"+n}(e);return this.lastErrorHash===t||(this.lastError=e.err,this.lastErrorHash=t,!1)},s.prototype._addTracingInfo=function(e){if(this.tracer){var t=this.tracer.scope().active();if(function(e){if(!e||!e.context||"function"!=typeof e.context)return!1;var t=e.context();if(!t||!t.toSpanId||!t.toTraceId||"function"!=typeof t.toSpanId||"function"!=typeof t.toTraceId)return!1;return!0}(t)){t.setTag("rollbar.error_uuid",e.uuid),t.setTag("rollbar.has_error",!0);var n=t.context().toSpanId(),r=t.context().toTraceId();e.custom?(e.custom.opentracing_span_id=n,e.custom.opentracing_trace_id=r):e.custom={opentracing_span_id:n,opentracing_trace_id:r}}}},e.exports=s},9762:function(e,t,n){var r=n(640),o=n(7883);function i(e,t){var n=t.split("."),o=n.length-1;try{for(var i=0;i<=o;++i)i<o?e=e[n[i]]:e[n[i]]=r.redact()}catch(e){}}e.exports=function(e,t,n){if(t=t||[],n)for(var a=0;a<n.length;++a)i(e,n[a]);var s=function(e){for(var t,n=[],r=0;r<e.length;++r)t="^\\[?(%5[bB])?"+e[r]+"\\[?(%5[bB])?\\]?(%5[dD])?$",n.push(new RegExp(t,"i"));return n}(t),u=function(e){for(var t,n=[],r=0;r<e.length;++r)t="\\[?(%5[bB])?"+e[r]+"\\[?(%5[bB])?\\]?(%5[dD])?",n.push(new RegExp("("+t+"=)([^&\\n]+)","igm"));return n}(t);function c(e,t){return t+r.redact()}return o(e,(function e(t,n,i){var a=function(e,t){var n;for(n=0;n<s.length;++n)if(s[n].test(e)){t=r.redact();break}return t}(t,n);return a===n?r.isType(n,"object")||r.isType(n,"array")?o(n,e,i):function(e){var t;if(r.isType(e,"string"))for(t=0;t<u.length;++t)e=e.replace(u[t],c);return e}(a):a}),[])}},3959:function(e,t,n){var r=n(640),o=100;function i(e){this.queue=[],this.options=r.merge(e);var t=this.options.maxTelemetryEvents||o;this.maxQueueSize=Math.max(0,Math.min(t,o))}function a(e,t){if(t)return t;return{error:"error",manual:"info"}[e]||"info"}i.prototype.configure=function(e){var t=this.options;this.options=r.merge(t,e);var n=this.options.maxTelemetryEvents||o,i=Math.max(0,Math.min(n,o)),a=0;this.maxQueueSize>i&&(a=this.maxQueueSize-i),this.maxQueueSize=i,this.queue.splice(0,a)},i.prototype.copyEvents=function(){var e=Array.prototype.slice.call(this.queue,0);if(r.isFunction(this.options.filterTelemetry))try{for(var t=e.length;t--;)this.options.filterTelemetry(e[t])&&e.splice(t,1)}catch(e){this.options.filterTelemetry=null}return e},i.prototype.capture=function(e,t,n,o,i){var s={level:a(e,n),type:e,timestamp_ms:i||r.now(),body:t,source:"client"};o&&(s.uuid=o);try{if(r.isFunction(this.options.filterTelemetry)&&this.options.filterTelemetry(s))return!1}catch(e){this.options.filterTelemetry=null}return this.push(s),s},i.prototype.captureEvent=function(e,t,n,r){return this.capture(e,t,n,r)},i.prototype.captureError=function(e,t,n,r){var o={message:e.message||String(e)};return e.stack&&(o.stack=e.stack),this.capture("error",o,t,n,r)},i.prototype.captureLog=function(e,t,n,r){return this.capture("log",{message:e},t,n,r)},i.prototype.captureNetwork=function(e,t,n,r){t=t||"xhr",e.subtype=e.subtype||t,r&&(e.request=r);var o=this.levelFromStatus(e.status_code);return this.capture("network",e,o,n)},i.prototype.levelFromStatus=function(e){return e>=200&&e<400?"info":0===e||e>=400?"error":"info"},i.prototype.captureDom=function(e,t,n,r,o){var i={subtype:e,element:t};return void 0!==n&&(i.value=n),void 0!==r&&(i.checked=r),this.capture("dom",i,"info",o)},i.prototype.captureNavigation=function(e,t,n){return this.capture("navigation",{from:e,to:t},"info",n)},i.prototype.captureDomContentLoaded=function(e){return this.capture("navigation",{subtype:"DOMContentLoaded"},"info",void 0,e&&e.getTime())},i.prototype.captureLoad=function(e){return this.capture("navigation",{subtype:"load"},"info",void 0,e&&e.getTime())},i.prototype.captureConnectivityChange=function(e,t){return this.captureNetwork({change:e},"connectivity",t)},i.prototype._captureRollbarItem=function(e){if(this.options.includeItemsInTelemetry)return e.err?this.captureError(e.err,e.level,e.uuid,e.timestamp):e.message?this.captureLog(e.message,e.level,e.uuid,e.timestamp):e.custom?this.capture("log",e.custom,e.level,e.uuid,e.timestamp):void 0},i.prototype.push=function(e){this.queue.push(e),this.queue.length>this.maxQueueSize&&this.queue.shift()},e.exports=i},530:function(e,t,n){var r=n(640);function o(e,t){r.isFunction(e[t])&&(e[t]=e[t].toString())}e.exports={itemToPayload:function(e,t,n){var o=t.payload||{};o.body&&delete o.body;var i=r.merge(e.data,o);e._isUncaught&&(i._isUncaught=!0),e._originalArgs&&(i._originalArgs=e._originalArgs),n(null,i)},addTelemetryData:function(e,t,n){e.telemetryEvents&&r.set(e,"data.body.telemetry",e.telemetryEvents),n(null,e)},addMessageWithError:function(e,t,n){if(e.message){var o="data.body.trace_chain.0",i=r.get(e,o);if(i||(o="data.body.trace",i=r.get(e,o)),i){if(!i.exception||!i.exception.description)return r.set(e,o+".exception.description",e.message),void n(null,e);var a=r.get(e,o+".extra")||{},s=r.merge(a,{message:e.message});r.set(e,o+".extra",s)}n(null,e)}else n(null,e)},userTransform:function(e){return function(t,n,o){var i=r.merge(t);try{r.isFunction(n.transform)&&n.transform(i.data,t)}catch(r){return n.transform=null,e.error("Error while calling custom transform() function. Removing custom transform().",r),void o(null,t)}o(null,i)}},addConfigToPayload:function(e,t,n){if(!t.sendConfig)return n(null,e);var o=r.get(e,"data.custom")||{};o._rollbarConfig=t,e.data.custom=o,n(null,e)},addConfiguredOptions:function(e,t,n){var r=t._configuredOptions;o(r,"transform"),o(r,"checkIgnore"),o(r,"onSendCallback"),delete r.accessToken,e.data.notifier.configured_options=r,n(null,e)},addDiagnosticKeys:function(e,t,n){var o=r.merge(e.notifier.client.notifier.diagnostic,e.diagnostic);if(r.get(e,"err._isAnonymous")&&(o.is_anonymous=!0),e._isUncaught&&(o.is_uncaught=e._isUncaught),e.err)try{o.raw_error={message:e.err.message,name:e.err.name,constructor_name:e.err.constructor&&e.err.constructor.name,filename:e.err.fileName,line:e.err.lineNumber,column:e.err.columnNumber,stack:e.err.stack}}catch(e){o.raw_error={failed:String(e)}}e.data.notifier.diagnostic=r.merge(e.data.notifier.diagnostic,o),n(null,e)}}},6793:function(e,t,n){var r=n(640),o=n(7883);function i(e,t){return[e,r.stringify(e,t)]}function a(e,t){var n=e.length;return n>2*t?e.slice(0,t).concat(e.slice(n-t)):e}function s(e,t,n){n=void 0===n?30:n;var o,i=e.data.body;if(i.trace_chain)for(var s=i.trace_chain,u=0;u<s.length;u++)o=a(o=s[u].frames,n),s[u].frames=o;else i.trace&&(o=a(o=i.trace.frames,n),i.trace.frames=o);return[e,r.stringify(e,t)]}function u(e,t){return t&&t.length>e?t.slice(0,e-3).concat("..."):t}function c(e,t,n){return t=o(t,(function t(n,i,a){switch(r.typeName(i)){case"string":return u(e,i);case"object":case"array":return o(i,t,a);default:return i}}),[]),[t,r.stringify(t,n)]}function l(e){return e.exception&&(delete e.exception.description,e.exception.message=u(255,e.exception.message)),e.frames=a(e.frames,1),e}function f(e,t){var n=e.data.body;if(n.trace_chain)for(var o=n.trace_chain,i=0;i<o.length;i++)o[i]=l(o[i]);else n.trace&&(n.trace=l(n.trace));return[e,r.stringify(e,t)]}function d(e,t){return r.maxByteSize(e)>t}e.exports={truncate:function(e,t,n){n=void 0===n?524288:n;for(var r,o,a,u=[i,s,c.bind(null,1024),c.bind(null,512),c.bind(null,256),f];r=u.shift();)if(e=(o=r(e,t))[0],(a=o[1]).error||!d(a.value,n))return a;return a},raw:i,truncateFrames:s,truncateStrings:c,maybeTruncateValue:u}},640:function(e,t,n){var r=n(1454),o={},i=!1;function a(e,t){return t===s(e)}function s(e){var t=typeof e;return"object"!==t?t:e?e instanceof Error?"error":{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase():"null"}function u(e){return a(e,"function")}function c(e){var t=Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),n=RegExp("^"+t+"$");return l(e)&&n.test(e)}function l(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function f(){var e=v();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:7&n|8).toString(16)}))}var d={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function p(e,t){var n,r;try{n=o.stringify(e)}catch(o){if(t&&u(t))try{n=t(e)}catch(e){r=e}else r=o}return{error:r,value:n}}function h(e,t){return function(n,r){try{t(n,r)}catch(t){e.error(t)}}}var m=["log","network","dom","navigation","error","manual"],g=["critical","error","warning","info","debug"];function y(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1}function v(){return Date.now?+Date.now():+new Date}e.exports={addParamsAndAccessTokenToPath:function(e,t,n){(n=n||{}).access_token=e;var r,o=[];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&o.push([r,n[r]].join("="));var i="?"+o.sort().join("&");(t=t||{}).path=t.path||"";var a,s=t.path.indexOf("?"),u=t.path.indexOf("#");-1!==s&&(-1===u||u>s)?(a=t.path,t.path=a.substring(0,s)+i+"&"+a.substring(s+1)):-1!==u?(a=t.path,t.path=a.substring(0,u)+i+a.substring(u)):t.path=t.path+i},createItem:function(e,t,n,o,i){for(var a,u,c,l,d,p,m=[],g=[],y=0,A=e.length;y<A;++y){var _=s(p=e[y]);switch(g.push(_),_){case"undefined":break;case"string":a?m.push(p):a=p;break;case"function":l=h(t,p);break;case"date":m.push(p);break;case"error":case"domexception":case"exception":u?m.push(p):u=p;break;case"object":case"array":if(p instanceof Error||"undefined"!=typeof DOMException&&p instanceof DOMException){u?m.push(p):u=p;break}if(o&&"object"===_&&!d){for(var b=0,w=o.length;b<w;++b)if(void 0!==p[o[b]]){d=p;break}if(d)break}c?m.push(p):c=p;break;default:if(p instanceof Error||"undefined"!=typeof DOMException&&p instanceof DOMException){u?m.push(p):u=p;break}m.push(p)}}m.length>0&&((c=r(c)).extraArgs=m);var E={message:a,err:u,custom:c,timestamp:v(),callback:l,notifier:n,diagnostic:{},uuid:f()};return function(e,t){t&&void 0!==t.level&&(e.level=t.level,delete t.level);t&&void 0!==t.skipFrames&&(e.skipFrames=t.skipFrames,delete t.skipFrames)}(E,c),o&&d&&(E.request=d),i&&(E.lambdaContext=i),E._originalArgs=e,E.diagnostic.original_arg_types=g,E},addErrorContext:function(e,t){var n=e.data.custom||{},o=!1;try{for(var i=0;i<t.length;++i)t[i].hasOwnProperty("rollbarContext")&&(n=r(n,t[i].rollbarContext),o=!0);o&&(e.data.custom=n)}catch(t){e.diagnostic.error_context="Failed: "+t.message}},createTelemetryEvent:function(e){for(var t,n,r,o,i=0,a=e.length;i<a;++i){switch(s(o=e[i])){case"string":!t&&y(m,o)?t=o:!r&&y(g,o)&&(r=o);break;case"object":n=o}}return{type:t||"manual",metadata:n||{},level:r}},filterIp:function(e,t){if(e&&e.user_ip&&!0!==t){var n=e.user_ip;if(t)try{var r;if(-1!==n.indexOf("."))(r=n.split(".")).pop(),r.push("0"),n=r.join(".");else if(-1!==n.indexOf(":")){if((r=n.split(":")).length>2){var o=r.slice(0,3),i=o[2].indexOf("/");-1!==i&&(o[2]=o[2].substring(0,i));n=o.concat("0000:0000:0000:0000:0000").join(":")}}else n=null}catch(e){n=null}else n=null;e.user_ip=n}},formatArgsAsString:function(e){var t,n,r,o=[];for(t=0,n=e.length;t<n;++t){switch(s(r=e[t])){case"object":(r=(r=p(r)).error||r.value).length>500&&(r=r.substr(0,497)+"...");break;case"null":r="null";break;case"undefined":r="undefined";break;case"symbol":r=r.toString()}o.push(r)}return o.join(" ")},formatUrl:function(e,t){if(!(t=t||e.protocol)&&e.port&&(80===e.port?t="http:":443===e.port&&(t="https:")),t=t||"https:",!e.hostname)return null;var n=t+"//"+e.hostname;return e.port&&(n=n+":"+e.port),e.path&&(n+=e.path),n},get:function(e,t){if(e){var n=t.split("."),r=e;try{for(var o=0,i=n.length;o<i;++o)r=r[n[o]]}catch(e){r=void 0}return r}},handleOptions:function(e,t,n){var o=r(e,t,n);return!t||t.overwriteScrubFields||t.scrubFields&&(o.scrubFields=(e.scrubFields||[]).concat(t.scrubFields)),o},isError:function(e){return a(e,"error")||a(e,"exception")},isFunction:u,isIterable:function(e){var t=s(e);return"object"===t||"array"===t},isNativeFunction:c,isType:a,isObject:l,isString:function(e){return"string"==typeof e||e instanceof String},jsonParse:function(e){var t,n;try{t=o.parse(e)}catch(e){n=e}return{error:n,value:t}},LEVELS:{debug:0,info:1,warning:2,error:3,critical:4},makeUnhandledStackInfo:function(e,t,n,r,o,i,a,s){var u={url:t||"",line:n,column:r};u.func=s.guessFunctionName(u.url,u.line),u.context=s.gatherContext(u.url,u.line);var c=document&&document.location&&document.location.href,l=window&&window.navigator&&window.navigator.userAgent;return{mode:i,message:o?String(o):e||a,url:c,stack:[u],useragent:l}},merge:r,now:v,redact:function(){return"********"},sanitizeUrl:function(e){var t=function(e){if(!a(e,"string"))return;for(var t=d,n=t.parser[t.strictMode?"strict":"loose"].exec(e),r={},o=0,i=t.key.length;o<i;++o)r[t.key[o]]=n[o]||"";return r[t.q.name]={},r[t.key[12]].replace(t.q.parser,(function(e,n,o){n&&(r[t.q.name][n]=o)})),r}(e);return t?(""===t.anchor&&(t.source=t.source.replace("#","")),e=t.source.replace("?"+t.query,"")):"(unknown)"},set:function(e,t,n){if(e){var r=t.split("."),o=r.length;if(!(o<1))if(1!==o)try{for(var i=e[r[0]]||{},a=i,s=1;s<o-1;++s)i[r[s]]=i[r[s]]||{},i=i[r[s]];i[r[o-1]]=n,e[r[0]]=a}catch(e){return}else e[r[0]]=n}},setupJSON:function(e){i||(i=!0,a(JSON,"undefined")||(c(JSON.stringify)&&(o.stringify=JSON.stringify),c(JSON.parse)&&(o.parse=JSON.parse)),u(o.stringify)&&u(o.parse)||e(o))},stringify:p,maxByteSize:function(e){for(var t=0,n=e.length,r=0;r<n;r++){var o=e.charCodeAt(r);o<128?t+=1:o<2048?t+=2:o<65536&&(t+=3)}return t},typeName:s,uuid4:f}},7883:function(e,t,n){var r=n(640);e.exports=function(e,t,n){var o,i,a,s=r.isType(e,"object"),u=r.isType(e,"array"),c=[];if(s&&-1!==n.indexOf(e))return e;if(n.push(e),s)for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&c.push(o);else if(u)for(a=0;a<e.length;++a)c.push(a);var l=s?{}:[],f=!0;for(a=0;a<c.length;++a)i=e[o=c[a]],l[o]=t(o,i,n),f=f&&l[o]===e[o];return 0==c.length||f?e:l}},7581:function(e){e.exports=function(e){var t,n,r,o,i,a,s,u,c,l,f,d,p,h=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function m(e){return e<10?"0"+e:e}function g(){return this.valueOf()}function y(e){return h.lastIndex=0,h.test(e)?'"'+e.replace(h,(function(e){var t=r[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function v(e,r){var i,a,s,u,c,l=t,f=r[e];switch(f&&"object"==typeof f&&"function"==typeof f.toJSON&&(f=f.toJSON(e)),"function"==typeof o&&(f=o.call(r,e,f)),typeof f){case"string":return y(f);case"number":return isFinite(f)?String(f):"null";case"boolean":case"null":return String(f);case"object":if(!f)return"null";if(t+=n,c=[],"[object Array]"===Object.prototype.toString.apply(f)){for(u=f.length,i=0;i<u;i+=1)c[i]=v(i,f)||"null";return s=0===c.length?"[]":t?"[\n"+t+c.join(",\n"+t)+"\n"+l+"]":"["+c.join(",")+"]",t=l,s}if(o&&"object"==typeof o)for(u=o.length,i=0;i<u;i+=1)"string"==typeof o[i]&&(s=v(a=o[i],f))&&c.push(y(a)+(t?": ":":")+s);else for(a in f)Object.prototype.hasOwnProperty.call(f,a)&&(s=v(a,f))&&c.push(y(a)+(t?": ":":")+s);return s=0===c.length?"{}":t?"{\n"+t+c.join(",\n"+t)+"\n"+l+"}":"{"+c.join(",")+"}",t=l,s}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+m(this.getUTCMonth()+1)+"-"+m(this.getUTCDate())+"T"+m(this.getUTCHours())+":"+m(this.getUTCMinutes())+":"+m(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=g,Number.prototype.toJSON=g,String.prototype.toJSON=g),"function"!=typeof e.stringify&&(r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},e.stringify=function(e,r,i){var a;if(t="",n="","number"==typeof i)for(a=0;a<i;a+=1)n+=" ";else"string"==typeof i&&(n=i);if(o=r,r&&"function"!=typeof r&&("object"!=typeof r||"number"!=typeof r.length))throw new Error("JSON.stringify");return v("",{"":e})}),"function"!=typeof e.parse&&(e.parse=(l={"\\":"\\",'"':'"',"/":"/",t:"\t",n:"\n",r:"\r",f:"\f",b:"\b"},f={go:function(){i="ok"},firstokey:function(){u=c,i="colon"},okey:function(){u=c,i="colon"},ovalue:function(){i="ocomma"},firstavalue:function(){i="acomma"},avalue:function(){i="acomma"}},d={go:function(){i="ok"},ovalue:function(){i="ocomma"},firstavalue:function(){i="acomma"},avalue:function(){i="acomma"}},p={"{":{go:function(){a.push({state:"ok"}),s={},i="firstokey"},ovalue:function(){a.push({container:s,state:"ocomma",key:u}),s={},i="firstokey"},firstavalue:function(){a.push({container:s,state:"acomma"}),s={},i="firstokey"},avalue:function(){a.push({container:s,state:"acomma"}),s={},i="firstokey"}},"}":{firstokey:function(){var e=a.pop();c=s,s=e.container,u=e.key,i=e.state},ocomma:function(){var e=a.pop();s[u]=c,c=s,s=e.container,u=e.key,i=e.state}},"[":{go:function(){a.push({state:"ok"}),s=[],i="firstavalue"},ovalue:function(){a.push({container:s,state:"ocomma",key:u}),s=[],i="firstavalue"},firstavalue:function(){a.push({container:s,state:"acomma"}),s=[],i="firstavalue"},avalue:function(){a.push({container:s,state:"acomma"}),s=[],i="firstavalue"}},"]":{firstavalue:function(){var e=a.pop();c=s,s=e.container,u=e.key,i=e.state},acomma:function(){var e=a.pop();s.push(c),c=s,s=e.container,u=e.key,i=e.state}},":":{colon:function(){if(Object.hasOwnProperty.call(s,u))throw new SyntaxError("Duplicate key '"+u+'"');i="ovalue"}},",":{ocomma:function(){s[u]=c,i="okey"},acomma:function(){s.push(c),i="avalue"}},true:{go:function(){c=!0,i="ok"},ovalue:function(){c=!0,i="ocomma"},firstavalue:function(){c=!0,i="acomma"},avalue:function(){c=!0,i="acomma"}},false:{go:function(){c=!1,i="ok"},ovalue:function(){c=!1,i="ocomma"},firstavalue:function(){c=!1,i="acomma"},avalue:function(){c=!1,i="acomma"}},null:{go:function(){c=null,i="ok"},ovalue:function(){c=null,i="ocomma"},firstavalue:function(){c=null,i="acomma"},avalue:function(){c=null,i="acomma"}}},function(e,t){var n,r,o=/^[\u0020\t\n\r]*(?:([,:\[\]{}]|true|false|null)|(-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)|"((?:[^\r\n\t\\\"]|\\(?:["\\\/trnfb]|u[0-9a-fA-F]{4}))*)")/;i="go",a=[];try{for(;n=o.exec(e);)n[1]?p[n[1]][i]():n[2]?(c=+n[2],d[i]()):(r=n[3],c=r.replace(/\\(?:u(.{4})|([^u]))/g,(function(e,t,n){return t?String.fromCharCode(parseInt(t,16)):l[n]})),f[i]()),e=e.slice(n[0].length)}catch(e){i=e}if("ok"!==i||/[^\u0020\t\n\r]/.test(e))throw i instanceof SyntaxError?i:new SyntaxError("JSON");return"function"==typeof t?function e(n,r){var o,i,a=n[r];if(a&&"object"==typeof a)for(o in c)Object.prototype.hasOwnProperty.call(a,o)&&(void 0!==(i=e(a,o))?a[o]=i:delete a[o]);return t.call(n,r,a)}({"":c},""):c}))}},3042:function(e,t,n){var r;!function(){"use strict";var o=function e(t){var n,r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element"),o={use_static:!1};function i(e){var t=Object.getPrototypeOf(e);return t?Object.create(t):{}}function a(e,t,n){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!1,value:n})}function s(e,t){a(e,t,(function(){throw new g("The "+t+" method cannot be invoked on an Immutable data structure.")}))}"object"!=typeof(n=t)||Array.isArray(n)||null===n||void 0!==t.use_static&&(o.use_static=Boolean(t.use_static));var u="__immutable_invariants_hold";function c(e){return"object"!=typeof e||(null===e||Boolean(Object.getOwnPropertyDescriptor(e,u)))}function l(e,t){return e===t||e!=e&&t!=t}function f(e){return!(null===e||"object"!=typeof e||Array.isArray(e)||e instanceof Date)}var d=["setPrototypeOf"],p=d.concat(["push","pop","sort","splice","shift","unshift","reverse"]),h=["keys"].concat(["map","filter","slice","concat","reduce","reduceRight"]),m=d.concat(["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]);function g(e){this.name="MyError",this.message=e,this.stack=(new Error).stack}function y(e,t){for(var n in a(e,u,!0),t)t.hasOwnProperty(n)&&s(e,t[n]);return Object.freeze(e),e}function v(e,t){var n=e[t];a(e,t,(function(){return G(n.apply(e,arguments))}))}function A(e,t,n){var r=n&&n.deep;if(e in this&&(r&&this[e]!==t&&f(t)&&f(this[e])&&(t=G.merge(this[e],t,{deep:!0,mode:"replace"})),l(this[e],t)))return this;var o=S.call(this);return o[e]=G(t),w(o)}g.prototype=new Error,g.prototype.constructor=Error;var _=G([]);function b(e,t,n){var r=e[0];if(1===e.length)return A.call(this,r,t,n);var o,i=e.slice(1),a=this[r];if("object"==typeof a&&null!==a)o=G.setIn(a,i,t);else{var s=i[0];o=""!==s&&isFinite(s)?b.call(_,i,t):L.call(D,i,t)}if(r in this&&a===o)return this;var u=S.call(this);return u[r]=o,w(u)}function w(e){for(var t in h){if(h.hasOwnProperty(t))v(e,h[t])}o.use_static||(a(e,"flatMap",k),a(e,"asObject",P),a(e,"asMutable",S),a(e,"set",A),a(e,"setIn",b),a(e,"update",U),a(e,"updateIn",B),a(e,"getIn",H));for(var n=0,r=e.length;n<r;n++)e[n]=G(e[n]);return y(e,p)}function E(){return new Date(this.getTime())}function k(e){if(0===arguments.length)return this;var t,n=[],r=this.length;for(t=0;t<r;t++){var o=e(this[t],t,this);Array.isArray(o)?n.push.apply(n,o):n.push(o)}return w(n)}function O(e){if(void 0===e&&0===arguments.length)return this;if("function"!=typeof e){var t=Array.isArray(e)?e.slice():Array.prototype.slice.call(arguments);t.forEach((function(e,t,n){"number"==typeof e&&(n[t]=e.toString())})),e=function(e,n){return-1!==t.indexOf(n)}}var n=i(this);for(var r in this)this.hasOwnProperty(r)&&!1===e(this[r],r)&&(n[r]=this[r]);return Q(n)}function S(e){var t,n,r=[];if(e&&e.deep)for(t=0,n=this.length;t<n;t++)r.push(C(this[t]));else for(t=0,n=this.length;t<n;t++)r.push(this[t]);return r}function P(e){"function"!=typeof e&&(e=function(e){return e});var t,n={},r=this.length;for(t=0;t<r;t++){var o=e(this[t],t,this),i=o[0],a=o[1];n[i]=a}return Q(n)}function C(e){return!e||"object"!=typeof e||!Object.getOwnPropertyDescriptor(e,u)||e instanceof Date?e:G.asMutable(e,{deep:!0})}function I(e,t){for(var n in e)Object.getOwnPropertyDescriptor(e,n)&&(t[n]=e[n]);return t}function T(e,t){if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#merge can only be invoked with objects or arrays, not "+JSON.stringify(e));var n,r,o=Array.isArray(e),a=t&&t.deep,s=t&&t.mode||"merge",u=t&&t.merger;function c(e,r,o){var s,c=G(r[o]),d=u&&u(e[o],c,t),p=e[o];void 0===n&&void 0===d&&e.hasOwnProperty(o)&&l(c,p)||(l(p,s=void 0!==d?d:a&&f(p)&&f(c)?G.merge(p,c,t):c)&&e.hasOwnProperty(o)||(void 0===n&&(n=I(e,i(e))),n[o]=s))}function d(e,t){for(var r in e)t.hasOwnProperty(r)||(void 0===n&&(n=I(e,i(e))),delete n[r])}if(o)for(var p=0,h=e.length;p<h;p++){var m=e[p];for(r in m)m.hasOwnProperty(r)&&c(void 0!==n?n:this,m,r)}else{for(r in e)Object.getOwnPropertyDescriptor(e,r)&&c(this,e,r);"replace"===s&&d(this,e)}return void 0===n?this:Q(n)}function M(e,t){var n=t&&t.deep;if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#replace can only be invoked with objects or arrays, not "+JSON.stringify(e));return G.merge(this,e,{deep:n,mode:"replace"})}var x,R,j,D=G({});function L(e,t,n){if(!Array.isArray(e)||0===e.length)throw new TypeError('The first argument to Immutable#setIn must be an array containing at least one "key" string.');var r=e[0];if(1===e.length)return N.call(this,r,t,n);var o,a=e.slice(1),s=this[r];if(o=this.hasOwnProperty(r)&&"object"==typeof s&&null!==s?G.setIn(s,a,t):L.call(D,a,t),this.hasOwnProperty(r)&&s===o)return this;var u=I(this,i(this));return u[r]=o,Q(u)}function N(e,t,n){var r=n&&n.deep;if(this.hasOwnProperty(e)&&(r&&this[e]!==t&&f(t)&&f(this[e])&&(t=G.merge(this[e],t,{deep:!0,mode:"replace"})),l(this[e],t)))return this;var o=I(this,i(this));return o[e]=G(t),Q(o)}function U(e,t){var n=Array.prototype.slice.call(arguments,2),r=this[e];return G.set(this,e,t.apply(r,[r].concat(n)))}function F(e,t){for(var n=0,r=t.length;null!=e&&n<r;n++)e=e[t[n]];return n&&n==r?e:void 0}function B(e,t){var n=Array.prototype.slice.call(arguments,2),r=F(this,e);return G.setIn(this,e,t.apply(r,[r].concat(n)))}function H(e,t){var n=F(this,e);return void 0===n?t:n}function W(e){var t,n=i(this);if(e&&e.deep)for(t in this)this.hasOwnProperty(t)&&(n[t]=C(this[t]));else for(t in this)this.hasOwnProperty(t)&&(n[t]=this[t]);return n}function V(){return{}}function Q(e){return o.use_static||(a(e,"merge",T),a(e,"replace",M),a(e,"without",O),a(e,"asMutable",W),a(e,"set",N),a(e,"setIn",L),a(e,"update",U),a(e,"updateIn",B),a(e,"getIn",H)),y(e,d)}function G(e,t,n){if(c(e)||function(e){return"object"==typeof e&&null!==e&&(60103===e.$$typeof||e.$$typeof===r)}(e)||function(e){return"undefined"!=typeof File&&e instanceof File}(e)||function(e){return"undefined"!=typeof Blob&&e instanceof Blob}(e)||function(e){return e instanceof Error}(e))return e;if(function(e){return"object"==typeof e&&"function"==typeof e.then}(e))return e.then(G);if(Array.isArray(e))return w(e.slice());if(e instanceof Date)return i=new Date(e.getTime()),o.use_static||a(i,"asMutable",E),y(i,m);var i,s=t&&t.prototype,u=(s&&s!==Object.prototype?function(){return Object.create(s)}:V)();if(null==n&&(n=64),n<=0)throw new g("Attempt to construct Immutable from a deeply nested object was detected. Have you tried to wrap an object with circular references (e.g. React element)? See https://github.com/rtfeldman/seamless-immutable/wiki/Deeply-nested-object-was-detected for details.");for(var l in n-=1,e)Object.getOwnPropertyDescriptor(e,l)&&(u[l]=G(e[l],void 0,n));return Q(u)}function q(e){return function(){var t=[].slice.call(arguments),n=t.shift();return e.apply(n,t)}}function K(e,t){return function(){var n=[].slice.call(arguments),r=n.shift();return Array.isArray(r)?t.apply(r,n):e.apply(r,n)}}return G.from=G,G.isImmutable=c,G.ImmutableError=g,G.merge=q(T),G.replace=q(M),G.without=q(O),G.asMutable=(x=W,R=S,j=E,function(){var e=[].slice.call(arguments),t=e.shift();return Array.isArray(t)?R.apply(t,e):t instanceof Date?j.apply(t,e):x.apply(t,e)}),G.set=K(N,A),G.setIn=K(L,b),G.update=q(U),G.updateIn=q(B),G.getIn=q(H),G.flatMap=q(k),G.asObject=q(P),o.use_static||(G.static=e({use_static:!0})),Object.freeze(G),G}();void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},9829:function(e,t){var n,r,o;!function(i,a){"use strict";r=[],void 0===(o="function"==typeof(n=function(){function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e.charAt(0).toUpperCase()+e.substring(1)}function n(e){return function(){return this[e]}}var r=["isConstructor","isEval","isNative","isToplevel"],o=["columnNumber","lineNumber"],i=["fileName","functionName","source"],a=["args"],s=["evalOrigin"],u=r.concat(o,i,a,s);function c(e){if(e)for(var n=0;n<u.length;n++)void 0!==e[u[n]]&&this["set"+t(u[n])](e[u[n]])}c.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof c)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new c(e)}},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",n=this.getColumnNumber()||"",r=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+n+")":"[eval]:"+t+":"+n:r?r+" ("+e+":"+t+":"+n+")":e+":"+t+":"+n}},c.fromString=function(e){var t=e.indexOf("("),n=e.lastIndexOf(")"),r=e.substring(0,t),o=e.substring(t+1,n).split(","),i=e.substring(n+1);if(0===i.indexOf("@"))var a=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(i,""),s=a[1],u=a[2],l=a[3];return new c({functionName:r,args:o||void 0,fileName:s,lineNumber:u||void 0,columnNumber:l||void 0})};for(var l=0;l<r.length;l++)c.prototype["get"+t(r[l])]=n(r[l]),c.prototype["set"+t(r[l])]=function(e){return function(t){this[e]=Boolean(t)}}(r[l]);for(var f=0;f<o.length;f++)c.prototype["get"+t(o[f])]=n(o[f]),c.prototype["set"+t(o[f])]=function(t){return function(n){if(!e(n))throw new TypeError(t+" must be a Number");this[t]=Number(n)}}(o[f]);for(var d=0;d<i.length;d++)c.prototype["get"+t(i[d])]=n(i[d]),c.prototype["set"+t(i[d])]=function(e){return function(t){this[e]=String(t)}}(i[d]);return c})?n.apply(t,r):n)||(e.exports=o)}()},2467:function(e,t,n){"use strict";n.r(t);var r=n(3379),o=n.n(r),i=n(7795),a=n.n(i),s=n(569),u=n.n(s),c=n(3565),l=n.n(c),f=n(9216),d=n.n(f),p=n(4589),h=n.n(p),m=n(3993),g={};g.styleTagTransform=h(),g.setAttributes=l(),g.insert=u().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=d();o()(m.Z,g);t.default=m.Z&&m.Z.locals?m.Z.locals:void 0},3379:function(e){"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var u=e[s],c=r.base?u[0]+r.base:u[0],l=i[c]||0,f="".concat(c," ").concat(l);i[c]=l+1;var d=n(f),p={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==d)t[d].references++,t[d].updater(p);else{var h=o(p,r);r.byIndex=s,t.splice(s,0,{identifier:f,updater:h,references:1})}a.push(f)}return a}function o(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var u=r(e,o),c=0;c<i.length;c++){var l=n(i[c]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}i=u}}},569:function(e){"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:function(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:function(e,t,n){"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:function(e){"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:function(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},3700:function(e,t,n){var r;!function(){var o="undefined"!=typeof window&&window===this?this:void 0!==n.g&&null!=n.g?n.g:this,i="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};function a(){a=function(){},o.Symbol||(o.Symbol=u)}var s=0;function u(e){return"jscomp_symbol_"+(e||"")+s++}function c(){a();var e=o.Symbol.iterator;e||(e=o.Symbol.iterator=o.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&i(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return l(this)}}),c=function(){}}function l(e){var t=0;return function(e){return c(),(e={next:e})[o.Symbol.iterator]=function(){return this},e}((function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}))}function f(e){c();var t=e[Symbol.iterator];return t?t.call(e):l(e)}function d(e){if(!(e instanceof Array)){e=f(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}var p=0;var h="img script iframe link audio video source".split(" ");function m(e,t){for(var n=(e=f(e)).next();!n.done;n=e.next())if(n=n.value,t.includes(n.nodeName.toLowerCase())||m(n.children,t))return!0;return!1}function g(e,t){if(2<e.length)return performance.now();for(var n=[],r=(t=f(t)).next();!r.done;r=t.next())r=r.value,n.push({timestamp:r.start,type:"requestStart"}),n.push({timestamp:r.end,type:"requestEnd"});for(r=(t=f(e)).next();!r.done;r=t.next())n.push({timestamp:r.value,type:"requestStart"});for(n.sort((function(e,t){return e.timestamp-t.timestamp})),e=e.length,t=n.length-1;0<=t;t--)switch(r=n[t],r.type){case"requestStart":e--;break;case"requestEnd":if(2<++e)return r.timestamp;break;default:throw Error("Internal Error: This should never happen")}return 0}function y(e){e=e||{},this.w=!!e.useMutationObserver,this.u=e.minValue||null,e=window.__tti&&window.__tti.e;var t=window.__tti&&window.__tti.o;this.a=e?e.map((function(e){return{start:e.startTime,end:e.startTime+e.duration}})):[],t&&t.disconnect(),this.b=[],this.f=new Map,this.j=null,this.v=-1/0,this.i=!1,this.h=this.c=this.s=null,function(e,t){var n=XMLHttpRequest.prototype.send,r=p++;XMLHttpRequest.prototype.send=function(o){for(var i=[],a=0;a<arguments.length;++a)i[a-0]=arguments[a];var s=this;return e(r),this.addEventListener("readystatechange",(function(){4===s.readyState&&t(r)})),n.apply(this,i)}}(this.m.bind(this),this.l.bind(this)),function(e,t){var n=fetch;fetch=function(r){for(var o=[],i=0;i<arguments.length;++i)o[i-0]=arguments[i];return new Promise((function(r,i){var a=p++;e(a),n.apply(null,[].concat(d(o))).then((function(e){t(a),r(e)}),(function(e){t(e),i(e)}))}))}}(this.m.bind(this),this.l.bind(this)),function(e){e.c=new PerformanceObserver((function(t){for(var n=(t=f(t.getEntries())).next();!n.done;n=t.next())if("resource"===(n=n.value).entryType&&(e.b.push({start:n.fetchStart,end:n.responseEnd}),A(e,g(e.g,e.b)+5e3)),"longtask"===n.entryType){var r=n.startTime+n.duration;e.a.push({start:n.startTime,end:r}),A(e,r+5e3)}})),e.c.observe({entryTypes:["longtask","resource"]})}(this),this.w&&(this.h=function(e){var t=new MutationObserver((function(t){for(var n=(t=f(t)).next();!n.done;n=t.next())("childList"==(n=n.value).type&&m(n.addedNodes,h)||"attributes"==n.type&&h.includes(n.target.tagName.toLowerCase()))&&e(n)}));return t.observe(document,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["href","src"]}),t}(this.B.bind(this)))}function v(e){e.i=!0;var t=0<e.a.length?e.a[e.a.length-1].end:0,n=g(e.g,e.b);A(e,Math.max(n+5e3,t))}function A(e,t){!e.i||e.v>t||(clearTimeout(e.j),e.j=setTimeout((function(){var t=performance.timing.navigationStart,n=g(e.g,e.b);t=(window.a&&window.a.A?1e3*window.a.A().C-t:0)||performance.timing.domContentLoadedEventEnd-t;if(e.u)var r=e.u;else performance.timing.domContentLoadedEventEnd?r=(r=performance.timing).domContentLoadedEventEnd-r.navigationStart:r=null;var o=performance.now();null===r&&A(e,Math.max(n+5e3,o+1e3));var i=e.a;5e3>o-n?n=null:n=5e3>o-(n=i.length?i[i.length-1].end:t)?null:Math.max(n,r),n&&(e.s(n),clearTimeout(e.j),e.i=!1,e.c&&e.c.disconnect(),e.h&&e.h.disconnect()),A(e,performance.now()+1e3)}),t-performance.now()),e.v=t)}y.prototype.getFirstConsistentlyInteractive=function(){var e=this;return new Promise((function(t){e.s=t,"complete"==document.readyState?v(e):window.addEventListener("load",(function(){v(e)}))}))},y.prototype.m=function(e){this.f.set(e,performance.now())},y.prototype.l=function(e){this.f.delete(e)},y.prototype.B=function(){A(this,performance.now()+5e3)},o.Object.defineProperties(y.prototype,{g:{configurable:!0,enumerable:!0,get:function(){return[].concat(d(this.f.values()))}}});var _={getFirstConsistentlyInteractive:function(e){return e=e||{},"PerformanceLongTaskTiming"in window?new y(e).getFirstConsistentlyInteractive():Promise.resolve(null)}};e.exports?e.exports=_:void 0===(r=function(){return _}.apply(t,[]))||(e.exports=r)}()},7147:function(){!function(e){"use strict";if(!e.fetch){var t="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,r="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,i="ArrayBuffer"in e;if(i)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(e){return e&&DataView.prototype.isPrototypeOf(e)},u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};h.prototype.append=function(e,t){e=f(e),t=d(t);var n=this.map[e];this.map[e]=n?n+","+t:t},h.prototype.delete=function(e){delete this.map[f(e)]},h.prototype.get=function(e){return e=f(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(f(e))},h.prototype.set=function(e,t){this.map[f(e)]=d(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),p(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),p(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),p(e)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries);var c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},A.call(_.prototype),A.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var l=[301,302,303,307,308];w.redirect=function(e,t){if(-1===l.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},e.Headers=h,e.Request=_,e.Response=w,e.fetch=function(e,t){return new Promise((function(n,o){var i=new _(e,t),a=new XMLHttpRequest;a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;n(new w(o,r))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&r&&(a.responseType="blob"),i.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),a.send(void 0===i._bodyInit?null:i._bodyInit)}))},e.fetch.polyfill=!0}function f(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function p(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function m(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function g(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function y(e){var t=new FileReader,n=g(t);return t.readAsArrayBuffer(e),n}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function A(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(r&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(o&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(i&&r&&s(e))this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!i||!ArrayBuffer.prototype.isPrototypeOf(e)&&!u(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=v(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=m(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var e,t,n,r=m(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=g(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}function _(e,t){var n,r,o=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),c.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function b(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function w(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},2645:function(e){"use strict";e.exports="data:font/woff;base64,d09GRgABAAAAABJkAAwAAAAAEhQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABHAAAASwAAAEs32rhc09TLzIAAAJIAAAAYAAAAGAPEgcYY21hcAAAAqgAAACEAAAAhOoj63VnYXNwAAADLAAAAAgAAAAIAAAAEGdseWYAAAM0AAAMOAAADDiQsAItaGVhZAAAD2wAAAA2AAAANhi1tNFoaGVhAAAPpAAAACQAAAAkDVAJd2htdHgAAA/IAAAAlAAAAJQ+lAb4bG9jYQAAEFwAAABMAAAATBxmH/xtYXhwAAAQqAAAACAAAAAgACwAqW5hbWUAABDIAAABegAAAXp7w/pPcG9zdAAAEkQAAAAgAAAAIAADAAAAAQAAAAoAHgAsAAFsYXRuAAgABAAAAAAAAAABAAAAAWxpZ2EACAAAAAEAAAABAAQABAAAAAEACgAAAAEAHAALADYASABaAGYAdgCGAJQApADUAN4A6AABAAsABAAFAAYABwALAA4AEwAWABwAHQAhAAEABAAeAAYACQAJAAwAFAAPAAEABAAjAAYACQAJAAwAFAAPAAEABAAfAAMABQAKAAEABAAbAAUADgARABUACAABAAQAGQAFAAUAEgASABgAAQAEACAABAARAAUAEAABAAQAHAAFABcADAAHAA0AAgAGAB4AHQALABQABQAQABUAEgAFABQACAAQABYAGgAIAAsAFwAPAAYAFQAXABIAAQAEACMAAgAcAAEABAAjAAIAHQABAAQAIAACACEAAwTiAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpDAPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAaAAAABYAEAADAAYAAQAgAEEAYwBpAHUAeekC6Qz//f//AAAAAAAgAEEAYQBlAGsAeekA6QT//f//AAH/4//D/6T/o/+i/58XGRcYAAMAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAAFAAD/wAQAA8AAGwA4AFQAYABsAAABIgcOAQcGFRQXHgEXFjMyNz4BNzY1NCcuAScmAyInLgEnJjU0Nz4BNzYzMhceARcWFRQHDgEHBiMTJgYHDgEjIiYnLgEHDgEXFhceARcWMzI2NzYmJRQGIyImNTQ2MzIWBRQGIyImNTQ2MzIWAgBqXV2LKSgoKYtdXWpqXV2LKSgoKYtdXWpYTk10IiIiInRNTlhYTk10IiIiInRNTljzECIKHGU2OmEcCiIQEAgHExwcRCcmKFCLKQcI/qgmGhslJRsaJgEqJRsaJiYaGyUDwCgpi11dampdXYspKCgpi11dampdXYspKPxVIiJ0TU5YWE5NdCIiIiJ0TU5YWE5NdCIiAVEKCxAwOjowEAgHCSIQJBscJgsKT0cQIuMbJSUbGyUlGxslJRsbJSUAAAADAAD/xAQAA8AAJgArAFcAAAEjNiYnLgErAQ4BFRYGByMOAQcjIgYVERQWOwEeATMhMjY1ETQmIwUzESMRARQGIyEiJicuASsBET4BNz4BNzY3PgE3NiczMhYXHgEHBhYXHgE7ATIWFREDVaYNEyAaSSYrIzIDShcEEyUMhSMyMiO4IE4wAapHZGRH/QBWVgNWMiT+ViQ5FwkZDAkGDQcGDgkqHx4nCQkCJyAjChMHCQQMDQ0gE6YkMgJzeoUjGhEDMiCwSgYHFw0yI/5VIzIUE2VGAV5DY43+VgGq/oUkMg0NBgcBtwMIBgcHAwoZGVM7O0wHChNuXRMhEA0RMiP+qwAAAAEA4gCVAx4C3gAmAAABJiIPAScmIgcGFB8BBwYUFx4BMzI2PwEXHgEzMjY3NjQvATc2NCcDHg0iDeLiDSINDQ3i4g0NBxEGBhEH4uIHEQYGEQcNDeLiDQ0C3g0N4uINDQ0iDeLiDSINBgcHBuLiBgcHBg0iDeLiDSINAAADAAD/wANuA8AANABRAGQAAAE3NjQnJiIPAS4BJzUzMjY1NCYrASIGFRQWOwEVBgcOAQcGFRQXHgEXFjMyNz4BNzY1NCYnASInLgEnJjU0Nz4BNzYzMhceARcWFRQHDgEHBiMTIzU0JiMiBh0BFBY7ATI2NTQmAw4hDg4PKA4hMHI/MBUcHBXDFBwcFDFSR0hpHh4iI3dQUFtbUFB3IiMzLf6pRz4+XRsaGhtdPj5HRj8+XBsbGxtcPj9GkpIdFBQdHRTDFB0dAokhDigPDg4hJTEHMx0UFB0dFBQdMwkmJXVLS1VbUFB3IyIiI3dQUFtOizn9mRobXT4+R0Y/PlwbGxsbXD4/Rkc+Pl0bGgFVkhQdHRTDFB0dFBQdAAMAAP/AAwADwAAPAB8AWgAAJRE0JiMhIgYVERQWMyEyNichIiY1ETQ2MyEyFhURFAYDIyImNTQ2OwEyNjU0JisBNTQmIyIGHQEiBhUUFjsBMhYVFAYrASIGFRQWOwEVFBYzMjY9ATI2NTQmIwMAMiP9qiMyMiMCViMya/3WCQ0NCQIqCQ0N81YRGRkRqxIZGRJVGRISGTVLSzVWERkZEasSGRkSVRkSEhk1S0s1FQNWIzIyI/yqIzIyIw0JAyoJDQ0J/NYJDQHWGRESGRkSERkrEhkZEitLNTVLGRESGRkSERkrEhkZEitLNTVLAAAAAAYAAP/uCLgCVgAhACsARgBwAKIApgAAEyIGBxc+ATMyFhUUBgcOARUUFjM4ATEyNj8BFTMRNCYjMQMiJjU0NjcUBiMBETM1NDYzOAExMhYXMTcuASMqASMxIgYHNSMlDgEHMS4BIyoBIyIGBxU1IxEzNTQ2MzIWHQEzNTQ2MzIWHQEzETQmIzEFIzU0NjMyFhcnNzAmIyIGHQEjNTQ2MzgBMTIWFzU3LgEjIgYdASMVMxEzETMRMxEzNTsBESPJMmgfJhlKJSIlGBhae0g9KkYVAWtkSSgXF0pGNysEYXRBHg4ZChULGQ0BAQEtOhJsAy8oRBYRQikBAgEnPxFvczAbGSdzLx0XKHNPOPu5aSUUDhsMASQ1MTdnryUUDhsLIw8zIzdnQkJ0rnRoRXNzAZkoGU8WIhcYDxEDDDtFNz4oIQE/AQdSR/6pFRIjHQctQQFL/m3CRTIIB2sEBScoRAwBJiAhJiggAT3+bc84NiMp8c85NSMo8gEWREUMKSgcBwYBURdKYh0pKBwGBwFRCQ5KYh1Z/sUBO/7GATpZ/m0AAwBVABUDqwNrABYAHgBBAAAlAy4BKwE0JiMiBhUjIgYHAwYWMyEyNgEyFhUjNDYzASEiJjUTNDY7ARUUFjMyNj0BMxUUFjMyNj0BMzIWFRMUBiMDq1oGKyBVZUZGZVUdLgZaBjEmArQmMf5PIzKqMiMBPP2ICQxRDAlAGBMTGKoYExMYQAYPUQwJfAIAHSdGZWVGJx3+ACdAPQLDMiMjMv1WEAkB1gYLKxMYGBMrKxMYGBMrCwb+KgkQAAADAAD/wAQAA8AAOgBWAHMAAAEzMjY1NCYrATU0JiMiBh0BIgYVFBY7ATIWFRQGKwEiBhUUFjsBFRQWMzI2PQEyNjU0JisBIiY1NDYzEyIHDgEHBhUUFx4BFxYzMjc+ATc2NTQnLgEnJgMiJy4BJyY1NDc+ATc2MzIXHgEXFhUUBw4BBwYjAdWrExgYE1UYExMYNkpKNlYTFxcTqxMYGBNVGBMTGDZKSjZWExcXEytqXV2LKSgoKYtdXWpqXV2LKSgoKYtdXWpYTk10IiIiInRNTlhYTk10IiIiInRNTlgCQBcUExcrExgYEytJNzZKFxMUFxcUExcrExgYEytJNzZKFxMUFwGAKCmLXV1qal1diykoKCmLXV1qal1diyko/FUiInRNTlhYTk10IiIiInRNTlhYTk10IiIAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAAX/wAWJA8AAOgAABTY3PgE3NjU0Jy4BJyYjIgcOAQcGFRQXHgEXFhcjJicuAScmNTQ3PgE3NjMyFx4BFxYVFAcOAQcGByMEnBcSEhkHBiwtmWdndnVnZ5osLAYHGRISF6ISDg4UBQU4N8CBgJKTgIG/ODcFBRMODhKiQCIlJlAqKyx1Z2eaLC0tLJpnZ3UsKypQJiUiJCYmUCkqK5KBgMA4Nzc4wICBkisqKVAmJiQAAAACAY3/xQPCAkoAKAAyAAABIgcOAQcGBxc+ATMyFhUUBgcGBw4BBwYVFBYzMjY3FTMRNCcuAScmIwMiJjU0NjMUBiMCvCYnJ0ohIBc5JnA3NDgmI0Q7O1YZGXBiPGcdoxQURy8wODAnKn1cSj4CSggIGxISEnkjMyMkFxsDBw4OMyUlNFNePTRfAY09LCs4DQ39+iAcOiY9XwAAAAABBC//9QmOA8AALgAAASIHDgEHBgczNjc+ATc2MzIXHgEXFhUcARUUBgc3Mzc+ATU8ATUVNCcuAScmIzEGynRsbLFAQB5xGTQ0klpaY3lubaUxMBEQAW0CDA83N7+BgZUDwCYmhVpbaE5GR2ogIC0spHR0kAIEAjxzNgYDMnE7AgMCAaCHh8M2NwAAAAEAAAABAAAqWeqfXw889QALBAAAAAAA2AQ4KgAAAADYBDgqAAD/wAmOA8AAAAAIAAIAAAAAAAAAAQAAA8D/wAAACZEAAAAACY4AAQAAAAAAAAAAAAAAAAAAACUEAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAQAAAAEAADiA4AAAAMAAAAJkQAABAAAVQQAAAAAAAAABY8ABQVjAY0JkQQvAAAAAAAKABQAHgAoADIAPABGAFAAWgBkAG4AeACCAIwAlgCgAKoAtAC+AMgA0gDcAOYA8AGSAhQCUgLgA1gEKASGBSQFLgWIBdYGHAABAAAAJQCnAAYAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEABgAAAAEAAAAAAAIABwBXAAEAAAAAAAMABgAzAAEAAAAAAAQABgBsAAEAAAAAAAUACwASAAEAAAAAAAYABgBFAAEAAAAAAAoAGgB+AAMAAQQJAAEADAAGAAMAAQQJAAIADgBeAAMAAQQJAAMADAA5AAMAAQQJAAQADAByAAMAAQQJAAUAFgAdAAMAAQQJAAYADABLAAMAAQQJAAoANACYYWZmaXJtAGEAZgBmAGkAcgBtVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwYWZmaXJtAGEAZgBmAGkAcgBtYWZmaXJtAGEAZgBmAGkAcgBtUmVndWxhcgBSAGUAZwB1AGwAYQByYWZmaXJtAGEAZgBmAGkAcgBtRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="},633:function(e){"use strict";e.exports="data:font/woff2;base64,d09GMgABAAAAAAlYAA8AAAAAFEgAAAj7AAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP0ZGVE0cGjYbIByCNgZgAIMOEQgKl1STPAtOAAE2AiQDgRgEIAWDDweBXRvXEKOikpOP7J8HtjG14VAQdRidULZRWmJz/PX9gfVZGNoYNTYNkUdykoOcYRFOjgiqZevZ3U9BEbJaB5JColAp+KxeCdwXEmXRCBmF/UIh1B3hZs0iKSTgoajWgaqnTVU5QXs1PVd9c+X97+fDncPk9NVmcrp3Maiw/LbS9KefxeqTq7lsVGfuqwEdAAnDKqRcgW30I8LmTrn+tfaqdzIvALg/jD6ejYqM3LvgfjwIIik0IuMz2RSIZR0JV2HT8ZXyK10hK4zqsTbkAKOC1kX1d6+EAHyuRIoB+C1p0XErAoaA9oImbIiSrWLEYGKGWDIbBms5wlJA8CmgT0MHzbwjfcDBAjRhgCgdnTQOo7gxY6eutggEs84OL5CK2RUNFcSyCZxnfxNBI16eCh49plnm3YfnUaseBiftfDKiReKW/gZMGGK4lgabkEQkbohUITFSUkpqLIjADiNG2mdR4OMQYMDo6BBkTmskKWxAXLacGgePgkgEkyqc7ONRzaDtDHTIiEwq4lBVESatQiS5EtUxW5nlRbTGmQjpLT0LYN6cJf4gMbiQphdTYB5CCx7zTrgIednDQABhdxBA1mwQ+jJRIceGpad8iejcehHEIJ9fp1FTF+ErXvi/y5VnKbyCuu3hq3JVm0/D1bAtbA1bwka5Sq4EJiRSSoMdGqINEPnMkQAkhZNAgZPQctN2hwPcPsHjg2DyiPcXoACwCkULqAlrUFVAx/gA5H+L1rquq3h6ILKgbEwIU4VVGEEYG8np/weNVsPj2dmx9mStVCTKNOHqaDdLzjFnarTMTF+28AMKteyMhtjBIIyYYHaOZBiVxam8tlpGXZHZ+TKI9B9M4yhKegE3HC+Pk1KtzLflEpNjEifNF73vN4tbHmmB8Jx3KJmOsvBx3RintyEkYEHWJImEIQQZEWwoEDX6BiinGF9yoNxGhnjV6ja5HafcRSHP3zSx4yFmCyvxmMwlNlx1MpmLYB9B2EUCSTc5CumvjGmYILMR7pBzjV6r4i+SbQaTj1xO4Yrf3sIUsnuQunEyJ4iLYIjPg5G4YLrsvp26w33LSYSU/8f4rpW4QvgwCKU/lMx5ykP2brfvn9YxXrchFGVENHzSNCjkqKQKKlsK0jbZRjdSD9Xh2sIy8JDY7AJxHiOu5FUk9KMh4GOxs4M5TlBKtoC0qH+cuoQ54DNNwsG+o0izAL4L3GXxntYmo7jIjpuAo3VjKbR7AwflxzNCBccU8HLDKoTnANrsrZ5hTagZwm2y2ea5bdwAgORtqK4n7cCBc4WA7I2l3WhbHifFHILrswp+x5kwtstHQDohZmcGGuedshntuXYZDEWKL86YnLN0W8bX5Rsg4uZ2ECB6g6KWdrloRSfG+faQf1WP8zk1S5a1AMxd9GKnUUhzbjK311k9kGQSFH3Esd6jTKhEEs/Lsft+nBJHE0tfJvylk733IR3OdnvQLwgY5og5C0H6h+CI6DNCyjLkil0Tu8exTHDUYldXn++xqMfaSBeLgVk8LU/GCuPwcFlb2dJixIRy9EDGFtYX/LnmL5WhELhKyZiYftsg//9zsN98LVO41tXqqFn2vEn1DzZ/3KRV6iJ1Xq9qiFLVKvX8jSG5NXxoZmOlZMHPW0tFthiT2MA4TdNBlo26sdAsNh+PH+fKL5US57ESf4AaX+j3lYTP7LHsKyZ7p1vElmOWFT0LF/G4l+seB5ten7f1yzdtdcuWoXK7wbbVhPVyPO4zLzz7o/SQRWxuBNfH7z9revYjytUzPDGIYWUwycYzmG8Bzo+XwnuO979zvAe/Djo/T3TKbpDkDdl9Mr6YdCXWcihriWXSiLYsG9XYbqw2VY+NebXG9vbqEaH84jHbq9zLnjSFSt562+M5ubOE2nXS0/72243w9dsKT3DyFFVy8mS75+2vqLUN69aRz5K55r6VOfkshEnWLDZn2GWK5j7L7fnza6x4iVgC+cdBkIhBbIxpOGiLSS4rSyaL4f3r4MkWd4f9S2vVQtpoNVEK4cBQKzEtozi1JDsbAKKL7XmQ2x1R56dosDfJAxIzrSnG4lLyYihx+fqRe8V5Lh0ACBZvArJr/wI+Qgj2NsmLetw/8gYKrRMA8q1RiIHsXwgxu3/98Atpv6mVvqifhl9I/1QrH3L8PBxZVFWUBkUDvM4oRzkpOHQRzDVAuVJDtE97en5NABAcPIRMNV/Gmb23LGgtyBzJPJUxkjGptXh4/TBknJnRGp4cMjRSgQBFahq1r3sWzJ7QdsHGO3PPLDYfgztmHp3Cvc2teQ175+bFSCdLaVHMsbYmD/saW+dEPQFyj0vHSFIkbWTXpNClqUVPOqVJGpKSeDE8PY+efWN7YgAAoO/keUmZorqzLXY0JhQb2rI1VItjo711zNatxKkZjW3rFD2+jPTuk772mrS6lI5ZlzonZfbt23NSZ6esW1+QRrx12+s9Z10MXSqpFn8z++A6bevooFXoJ2/alLp+d2rSkEXeZirETp5sdC9YkFTfP86XFcq6P2H/yuzMDCr123/TEtj23ZqMGVZPNj0+B3r23xnptmaPc2ZBbmtum7ZjUFGZWJxIVVg7G+rRZ/BP7Y3tiTmw3zmcMLwmsBhZoqHf2CvJWcFAJoPJQHv2F6GEt+5J8pyUjUAdzi/frSzrBGHWbxxmwaur/tDc4a7Kd57HAUMFz9Ex9F4hgkOE1L4WsIsb0MMErSjewK88h+wYhSrgrMBvrjXXavnRyt7akgAIqA5rWz5jp0RHwAiGMJIIVppZkEkLQI1fC6GftgGWtvapPDKwQYWLeNnYj0FARpkY4igLoMCPLVIzxQCmj8YlWeNOKBvbaUgvuHt+3+DBAJeCOozq4TUE/uJ3AyA5/8qL3goaMqxTvz4GLvGc4AOB47jinVqqI2k64rR3COrbIqjXiKAA22cqA5pfv8qCVyuLB197mPVWcRnt7/83ORd5nfmZK4gEjGACk0WRYpRStDLlKlSpVqNWnXoNGjVp1sITLMRGGIpAHMRFOCIQD/GRAAmxjp6pA5NcEaN9nU6ns/EoTnc6wQVuSIJkSIFUSIN0yIcCZSEAAA=="}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={id:e,loaded:!1,exports:{}};return o[e].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},e=a.u,t=a.e,n={},r={},a.u=function(t){return e(t)+(n.hasOwnProperty(t)?"?"+n[t]:"")},a.e=function(o){return t(o).catch((function(t){var i=r.hasOwnProperty(o)?r[o]:5;if(i<1){var s=e(o);throw t.message="Loading chunk "+o+" failed after 5 retries.\n("+s+")",t.request=s,t}return new Promise((function(e){setTimeout((function(){var t=Date.now();n[o]=t,r[o]=i-1,e(a.e(o))}),0)}))}))},a.nc=void 0,function(){"use strict";a(8091).polyfill(),a(2702).polyfill(),a(7147),a(8324),a(1438),(0,a(194).default)("config",a(536).default),(0,a(7605).Z)();try{a(9310),a(942).Z()}catch(e){Math.random()<.01&&window.affirm&&window.affirm.Rollbar&&window.affirm.Rollbar.error(e)}}()}();